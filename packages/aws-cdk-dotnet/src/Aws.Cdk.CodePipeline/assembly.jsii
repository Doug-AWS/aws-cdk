{
  "schema": "jsii/1.0",
  "types": {
    "jsii$_aws_cdk_codepipeline$.ActionCategory": {
      "kind": "enum",
      "members": [
        {
          "name": "Source"
        },
        {
          "name": "Build"
        },
        {
          "name": "Test"
        },
        {
          "name": "Approval"
        },
        {
          "name": "Deploy"
        },
        {
          "name": "Invoke"
        }
      ],
      "fqn": "jsii$_aws_cdk_codepipeline$.ActionCategory",
      "module": "jsii$_aws_cdk_codepipeline$",
      "namespace": "jsii$_aws_cdk_codepipeline$",
      "name": "ActionCategory"
    },
    "jsii$_aws_cdk_codepipeline$.ActionArtifactBounds": {
      "docs": {
        "comment": "Specifies the constraints on the number of input and output\nartifacts an action can have.\n\nThe constraints for each action type are documented on the\n{@link https://docs.aws.amazon.com/codepipeline/latest/userguide/reference-pipeline-structure.html Pipeline Structure Reference} page."
      },
      "kind": "interface",
      "properties": [
        {
          "name": "minInputs",
          "type": {
            "primitive": "number"
          }
        },
        {
          "name": "maxInputs",
          "type": {
            "primitive": "number"
          }
        },
        {
          "name": "minOutputs",
          "type": {
            "primitive": "number"
          }
        },
        {
          "name": "maxOutputs",
          "type": {
            "primitive": "number"
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_codepipeline$.ActionArtifactBounds",
      "module": "jsii$_aws_cdk_codepipeline$",
      "namespace": "jsii$_aws_cdk_codepipeline$",
      "name": "ActionArtifactBounds",
      "datatype": true
    },
    "jsii$_aws_cdk_codepipeline$.ActionProps": {
      "docs": {
        "comment": "Construction properties of the low level {@link Action action type}."
      },
      "kind": "interface",
      "properties": [
        {
          "docs": {
            "comment": "A category that defines which action type the owner (the entity that performs the action) performs.\nThe category that you select determine the providers that you can specify for the {@link #provider} property."
          },
          "name": "category",
          "type": {
            "fqn": "jsii$_aws_cdk_codepipeline$.ActionCategory"
          }
        },
        {
          "docs": {
            "comment": "The service provider that the action calls. The providers that you can specify are determined by\nthe category that you select. For example, a valid provider for the Deploy category is AWS CodeDeploy,\nwhich you would specify as CodeDeploy."
          },
          "name": "provider",
          "type": {
            "primitive": "string"
          }
        },
        {
          "docs": {
            "comment": "The constraints to apply to the number of input and output artifacts used by this action."
          },
          "name": "artifactBounds",
          "type": {
            "fqn": "jsii$_aws_cdk_codepipeline$.ActionArtifactBounds"
          }
        },
        {
          "docs": {
            "comment": "The action's configuration. These are key-value pairs that specify input values for an action.\nFor more information, see the AWS CodePipeline User Guide.\n\nhttp://docs.aws.amazon.com/codepipeline/latest/userguide/reference-pipeline-structure.html#action-requirements"
          },
          "name": "configuration",
          "type": {
            "primitive": "any",
            "optional": true
          }
        },
        {
          "docs": {
            "default": "1",
            "comment": "For all currently supported action types, the only valid version string is \"1\"."
          },
          "name": "version",
          "type": {
            "primitive": "string",
            "optional": true
          }
        },
        {
          "docs": {
            "default": "'AWS'",
            "comment": "For all currently supported action types, the only valid owner string is\n\"AWS\", \"ThirdParty\", or \"Custom\". For more information, see the AWS\nCodePipeline API Reference."
          },
          "name": "owner",
          "type": {
            "primitive": "string",
            "optional": true
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_codepipeline$.ActionProps",
      "module": "jsii$_aws_cdk_codepipeline$",
      "namespace": "jsii$_aws_cdk_codepipeline$",
      "name": "ActionProps",
      "datatype": true
    },
    "jsii$_aws_cdk_codepipeline$.Action": {
      "docs": {
        "comment": "Low level class for generically creating pipeline actions.\nIt is recommended that concrete types are used instead, such as {@link CodeCommitSource} or\n{@link CodeBuildAction}."
      },
      "kind": "class",
      "properties": [
        {
          "docs": {
            "comment": "The category of the action. The category defines which action type the owner (the entity that performs the action) performs."
          },
          "name": "category",
          "type": {
            "fqn": "jsii$_aws_cdk_codepipeline$.ActionCategory"
          },
          "immutable": true
        },
        {
          "docs": {
            "comment": "The service provider that the action calls."
          },
          "name": "provider",
          "type": {
            "primitive": "string"
          },
          "immutable": true
        },
        {
          "docs": {
            "comment": "The action's configuration. These are key-value pairs that specify input values for an action.\nFor more information, see the AWS CodePipeline User Guide.\n\nhttp://docs.aws.amazon.com/codepipeline/latest/userguide/reference-pipeline-structure.html#action-requirements"
          },
          "name": "configuration",
          "type": {
            "primitive": "any",
            "optional": true
          },
          "immutable": true
        },
        {
          "docs": {
            "comment": "The order in which AWS CodePipeline runs this action.\nFor more information, see the AWS CodePipeline User Guide.\n\nhttps://docs.aws.amazon.com/codepipeline/latest/userguide/reference-pipeline-structure.html#action-requirements"
          },
          "name": "runOrder",
          "type": {
            "primitive": "number"
          }
        }
      ],
      "methods": [
        {
          "docs": {
            "comment": "This method can be implemented by derived constructs in order to perform\nvalidation logic. It is called on all constructs before synthesis."
          },
          "name": "validate",
          "returns": {
            "collection": {
              "elementtype": {
                "primitive": "string"
              },
              "kind": "array"
            }
          }
        },
        {
          "docs": {
            "comment": "Render the Action to a CloudFormation struct"
          },
          "name": "render",
          "returns": {
            "fqn": "jsii$_aws_cdk_resources$.codepipeline.PipelineResource.ActionDeclarationProperty"
          }
        },
        {
          "parameters": [
            {
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "name": "target",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.IEventRuleTarget",
                "optional": true
              }
            },
            {
              "name": "options",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.EventRuleProps",
                "optional": true
              }
            }
          ],
          "name": "onStateChange",
          "returns": {
            "fqn": "jsii$_aws_cdk_events$.EventRule"
          }
        },
        {
          "parameters": [
            {
              "name": "child",
              "type": {
                "fqn": "jsii$_aws_cdk_core$.Construct"
              }
            },
            {
              "name": "name",
              "type": {
                "primitive": "string"
              }
            }
          ],
          "docs": {
            "comment": "If an Artifact is added as a child, add it to the list of output artifacts."
          },
          "name": "addChild",
          "protected": true
        },
        {
          "parameters": [
            {
              "name": "name",
              "type": {
                "primitive": "string"
              }
            }
          ],
          "name": "addOutputArtifact",
          "protected": true,
          "returns": {
            "fqn": "jsii$_aws_cdk_codepipeline$.Artifact"
          }
        },
        {
          "parameters": [
            {
              "name": "artifact",
              "type": {
                "fqn": "jsii$_aws_cdk_codepipeline$.Artifact"
              }
            }
          ],
          "name": "addInputArtifact",
          "protected": true,
          "returns": {
            "fqn": "jsii$_aws_cdk_codepipeline$.Action"
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_codepipeline$.Action",
      "module": "jsii$_aws_cdk_codepipeline$",
      "namespace": "jsii$_aws_cdk_codepipeline$",
      "name": "Action",
      "base": {
        "fqn": "jsii$_aws_cdk_core$.Construct"
      },
      "abstract": true,
      "initializer": {
        "parameters": [
          {
            "name": "parent",
            "type": {
              "fqn": "jsii$_aws_cdk_codepipeline$.Stage"
            }
          },
          {
            "name": "name",
            "type": {
              "primitive": "string"
            }
          },
          {
            "name": "props",
            "type": {
              "fqn": "jsii$_aws_cdk_codepipeline$.ActionProps"
            }
          }
        ],
        "initializer": true
      }
    },
    "jsii$_aws_cdk_codepipeline$.SourceProps": {
      "docs": {
        "comment": "Construction properties of the low level {@link Source source action}"
      },
      "kind": "interface",
      "properties": [
        {
          "docs": {
            "default": "AWS",
            "comment": "The source action owner (could e \"AWS\", \"ThirdParty\" or \"Custom\")"
          },
          "name": "owner",
          "type": {
            "primitive": "string",
            "optional": true
          }
        },
        {
          "docs": {
            "default": "\"1\"",
            "comment": "The source action verison."
          },
          "name": "version",
          "type": {
            "primitive": "string",
            "optional": true
          }
        },
        {
          "docs": {
            "comment": "The name of the source's output artifact. Output artifacts are used by CodePipeline as\ninputs into other actions."
          },
          "name": "artifactName",
          "type": {
            "primitive": "string"
          }
        },
        {
          "docs": {
            "comment": "The service provider that the action calls. For example, a valid provider for Source actions is S3."
          },
          "name": "provider",
          "type": {
            "primitive": "string"
          }
        },
        {
          "docs": {
            "comment": "The action's configuration. These are key-value pairs that specify input values for an action.\nFor more information, see the AWS CodePipeline User Guide.\n\nhttp://docs.aws.amazon.com/codepipeline/latest/userguide/reference-pipeline-structure.html#action-requirements"
          },
          "name": "configuration",
          "type": {
            "primitive": "any",
            "optional": true
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_codepipeline$.SourceProps",
      "module": "jsii$_aws_cdk_codepipeline$",
      "namespace": "jsii$_aws_cdk_codepipeline$",
      "name": "SourceProps",
      "datatype": true
    },
    "jsii$_aws_cdk_codepipeline$.Source": {
      "docs": {
        "comment": "Low level class for source actions.\nIt is recommended that concrete types are used instead, such as {@link AmazonS3Source} or\n{@link CodeCommitSource}."
      },
      "kind": "class",
      "properties": [
        {
          "name": "artifact",
          "type": {
            "fqn": "jsii$_aws_cdk_codepipeline$.Artifact"
          },
          "immutable": true
        }
      ],
      "fqn": "jsii$_aws_cdk_codepipeline$.Source",
      "module": "jsii$_aws_cdk_codepipeline$",
      "namespace": "jsii$_aws_cdk_codepipeline$",
      "name": "Source",
      "base": {
        "fqn": "jsii$_aws_cdk_codepipeline$.Action"
      },
      "abstract": true,
      "initializer": {
        "parameters": [
          {
            "name": "parent",
            "type": {
              "fqn": "jsii$_aws_cdk_codepipeline$.Stage"
            }
          },
          {
            "name": "name",
            "type": {
              "primitive": "string"
            }
          },
          {
            "name": "props",
            "type": {
              "fqn": "jsii$_aws_cdk_codepipeline$.SourceProps"
            }
          }
        ],
        "initializer": true
      }
    },
    "jsii$_aws_cdk_codepipeline$.AmazonS3SourceProps": {
      "docs": {
        "comment": "Construction properties of the {@link AmazonS3Source S3 source action}"
      },
      "kind": "interface",
      "properties": [
        {
          "docs": {
            "comment": "The name of the source's output artifact. Output artifacts are used by CodePipeline as\ninputs into other actions."
          },
          "name": "artifactName",
          "type": {
            "primitive": "string"
          }
        },
        {
          "docs": {
            "comment": "The Amazon S3 bucket that stores the source code"
          },
          "name": "bucket",
          "type": {
            "fqn": "jsii$_aws_cdk_s3$.BucketRef"
          }
        },
        {
          "docs": {
            "comment": "The key within the S3 bucket that stores the source code"
          },
          "name": "bucketKey",
          "type": {
            "primitive": "string"
          }
        },
        {
          "docs": {
            "default": "true",
            "comment": "Whether or not AWS CodePipeline should poll for source changes"
          },
          "name": "pollForSourceChanges",
          "type": {
            "primitive": "boolean",
            "optional": true
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_codepipeline$.AmazonS3SourceProps",
      "module": "jsii$_aws_cdk_codepipeline$",
      "namespace": "jsii$_aws_cdk_codepipeline$",
      "name": "AmazonS3SourceProps",
      "datatype": true
    },
    "jsii$_aws_cdk_codepipeline$.AmazonS3Source": {
      "docs": {
        "comment": "Source that is provided by a specific Amazon S3 object"
      },
      "kind": "class",
      "fqn": "jsii$_aws_cdk_codepipeline$.AmazonS3Source",
      "module": "jsii$_aws_cdk_codepipeline$",
      "namespace": "jsii$_aws_cdk_codepipeline$",
      "name": "AmazonS3Source",
      "base": {
        "fqn": "jsii$_aws_cdk_codepipeline$.Source"
      },
      "initializer": {
        "parameters": [
          {
            "name": "parent",
            "type": {
              "fqn": "jsii$_aws_cdk_codepipeline$.Stage"
            }
          },
          {
            "name": "name",
            "type": {
              "primitive": "string"
            }
          },
          {
            "name": "props",
            "type": {
              "fqn": "jsii$_aws_cdk_codepipeline$.AmazonS3SourceProps"
            }
          }
        ],
        "initializer": true
      }
    },
    "jsii$_aws_cdk_codepipeline$.CodeCommitSourceProps": {
      "docs": {
        "comment": "Construction properties of the {@link CodeCommitSource CodeCommit source action}"
      },
      "kind": "interface",
      "properties": [
        {
          "docs": {
            "comment": "The name of the source's output artifact. Output artifacts are used by CodePipeline as\ninputs into other actions."
          },
          "name": "artifactName",
          "type": {
            "primitive": "string"
          }
        },
        {
          "docs": {
            "comment": "The CodeCommit repository."
          },
          "name": "repository",
          "type": {
            "fqn": "jsii$_aws_cdk_codecommit$.RepositoryRef"
          }
        },
        {
          "docs": {
            "default": "'master'"
          },
          "name": "branch",
          "type": {
            "primitive": "string",
            "optional": true
          }
        },
        {
          "docs": {
            "default": "true",
            "comment": "Whether or not AWS CodePipeline should poll for source changes"
          },
          "name": "pollForSourceChanges",
          "type": {
            "primitive": "boolean",
            "optional": true
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_codepipeline$.CodeCommitSourceProps",
      "module": "jsii$_aws_cdk_codepipeline$",
      "namespace": "jsii$_aws_cdk_codepipeline$",
      "name": "CodeCommitSourceProps",
      "datatype": true
    },
    "jsii$_aws_cdk_codepipeline$.CodeCommitSource": {
      "docs": {
        "comment": "Source that is provided by an AWS CodeCommit repository"
      },
      "kind": "class",
      "fqn": "jsii$_aws_cdk_codepipeline$.CodeCommitSource",
      "module": "jsii$_aws_cdk_codepipeline$",
      "namespace": "jsii$_aws_cdk_codepipeline$",
      "name": "CodeCommitSource",
      "base": {
        "fqn": "jsii$_aws_cdk_codepipeline$.Source"
      },
      "initializer": {
        "parameters": [
          {
            "name": "parent",
            "type": {
              "fqn": "jsii$_aws_cdk_codepipeline$.Stage"
            }
          },
          {
            "name": "name",
            "type": {
              "primitive": "string"
            }
          },
          {
            "name": "props",
            "type": {
              "fqn": "jsii$_aws_cdk_codepipeline$.CodeCommitSourceProps"
            }
          }
        ],
        "initializer": true
      }
    },
    "jsii$_aws_cdk_codepipeline$.GithubSourceProps": {
      "docs": {
        "comment": "Construction properties of the {@link GitHubSource GitHub source action}"
      },
      "kind": "interface",
      "properties": [
        {
          "docs": {
            "comment": "The name of the source's output artifact. Output artifacts are used by CodePipeline as\ninputs into other actions."
          },
          "name": "artifactName",
          "type": {
            "primitive": "string"
          }
        },
        {
          "docs": {
            "comment": "The GitHub account/user that owns the repo."
          },
          "name": "owner",
          "type": {
            "primitive": "string"
          }
        },
        {
          "docs": {
            "comment": "The name of the repo, without the username."
          },
          "name": "repo",
          "type": {
            "primitive": "string"
          }
        },
        {
          "docs": {
            "default": "\"master\"",
            "comment": "The branch to use."
          },
          "name": "branch",
          "type": {
            "primitive": "string",
            "optional": true
          }
        },
        {
          "docs": {
            "comment": "A GitHub OAuth token to use for authentication.\n\nIt is recommended to use a `SecretParameter` to obtain the token from the SSM\nParameter Store:\n\n     const oauth = new SecretParameter(this, 'GitHubOAuthToken', { ssmParameter: 'my-github-token });\n     new GitHubSource(stage, 'GH' { oauthToken: oauth });"
          },
          "name": "oauthToken",
          "type": {
            "fqn": "jsii$_aws_cdk_core$.Secret"
          }
        },
        {
          "docs": {
            "default": "true",
            "comment": "Whether or not AWS CodePipeline should poll for source changes"
          },
          "name": "pollForSourceChanges",
          "type": {
            "primitive": "boolean",
            "optional": true
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_codepipeline$.GithubSourceProps",
      "module": "jsii$_aws_cdk_codepipeline$",
      "namespace": "jsii$_aws_cdk_codepipeline$",
      "name": "GithubSourceProps",
      "datatype": true
    },
    "jsii$_aws_cdk_codepipeline$.GitHubSource": {
      "docs": {
        "comment": "Source that is provided by a GitHub repository"
      },
      "kind": "class",
      "fqn": "jsii$_aws_cdk_codepipeline$.GitHubSource",
      "module": "jsii$_aws_cdk_codepipeline$",
      "namespace": "jsii$_aws_cdk_codepipeline$",
      "name": "GitHubSource",
      "base": {
        "fqn": "jsii$_aws_cdk_codepipeline$.Source"
      },
      "initializer": {
        "parameters": [
          {
            "name": "parent",
            "type": {
              "fqn": "jsii$_aws_cdk_codepipeline$.Stage"
            }
          },
          {
            "name": "name",
            "type": {
              "primitive": "string"
            }
          },
          {
            "name": "props",
            "type": {
              "fqn": "jsii$_aws_cdk_codepipeline$.GithubSourceProps"
            }
          }
        ],
        "initializer": true
      }
    },
    "jsii$_aws_cdk_codepipeline$.BuildActionProps": {
      "docs": {
        "comment": "Construction properties of the low level {@link BuildAction build action}"
      },
      "kind": "interface",
      "properties": [
        {
          "docs": {
            "comment": "The source to use as input for this build"
          },
          "name": "inputArtifact",
          "type": {
            "fqn": "jsii$_aws_cdk_codepipeline$.Artifact"
          }
        },
        {
          "docs": {
            "comment": "The service provider that the action calls. For example, a valid provider for Source actions is CodeBuild."
          },
          "name": "provider",
          "type": {
            "primitive": "string"
          }
        },
        {
          "docs": {
            "comment": "The name of the build's output artifact"
          },
          "name": "artifactName",
          "type": {
            "primitive": "string",
            "optional": true
          }
        },
        {
          "docs": {
            "comment": "The action's configuration. These are key-value pairs that specify input values for an action.\nFor more information, see the AWS CodePipeline User Guide.\n\nhttp://docs.aws.amazon.com/codepipeline/latest/userguide/reference-pipeline-structure.html#action-requirements"
          },
          "name": "configuration",
          "type": {
            "primitive": "any",
            "optional": true
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_codepipeline$.BuildActionProps",
      "module": "jsii$_aws_cdk_codepipeline$",
      "namespace": "jsii$_aws_cdk_codepipeline$",
      "name": "BuildActionProps",
      "datatype": true
    },
    "jsii$_aws_cdk_codepipeline$.BuildAction": {
      "docs": {
        "comment": "Low level class for build actions.\nIt is recommended that concrete types are used instead, such as {@link CodeBuildAction}."
      },
      "kind": "class",
      "properties": [
        {
          "name": "artifact",
          "type": {
            "fqn": "jsii$_aws_cdk_codepipeline$.Artifact",
            "optional": true
          },
          "immutable": true
        }
      ],
      "fqn": "jsii$_aws_cdk_codepipeline$.BuildAction",
      "module": "jsii$_aws_cdk_codepipeline$",
      "namespace": "jsii$_aws_cdk_codepipeline$",
      "name": "BuildAction",
      "base": {
        "fqn": "jsii$_aws_cdk_codepipeline$.Action"
      },
      "abstract": true,
      "initializer": {
        "parameters": [
          {
            "name": "parent",
            "type": {
              "fqn": "jsii$_aws_cdk_codepipeline$.Stage"
            }
          },
          {
            "name": "name",
            "type": {
              "primitive": "string"
            }
          },
          {
            "name": "props",
            "type": {
              "fqn": "jsii$_aws_cdk_codepipeline$.BuildActionProps"
            }
          }
        ],
        "initializer": true
      }
    },
    "jsii$_aws_cdk_codepipeline$.CodeBuildActionProps": {
      "docs": {
        "comment": "Construction properties of the {@link CodeBuildAction CodeBuild action}"
      },
      "kind": "interface",
      "properties": [
        {
          "docs": {
            "comment": "The source to use as input for this build"
          },
          "name": "inputArtifact",
          "type": {
            "fqn": "jsii$_aws_cdk_codepipeline$.Artifact"
          }
        },
        {
          "docs": {
            "comment": "The name of the build's output artifact"
          },
          "name": "artifactName",
          "type": {
            "primitive": "string",
            "optional": true
          }
        },
        {
          "docs": {
            "comment": "The build project"
          },
          "name": "project",
          "type": {
            "fqn": "jsii$_aws_cdk_codebuild$.BuildProjectRef"
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_codepipeline$.CodeBuildActionProps",
      "module": "jsii$_aws_cdk_codepipeline$",
      "namespace": "jsii$_aws_cdk_codepipeline$",
      "name": "CodeBuildActionProps",
      "datatype": true
    },
    "jsii$_aws_cdk_codepipeline$.CodeBuildAction": {
      "docs": {
        "comment": "Build action that uses AWS CodeBuild"
      },
      "kind": "class",
      "fqn": "jsii$_aws_cdk_codepipeline$.CodeBuildAction",
      "module": "jsii$_aws_cdk_codepipeline$",
      "namespace": "jsii$_aws_cdk_codepipeline$",
      "name": "CodeBuildAction",
      "base": {
        "fqn": "jsii$_aws_cdk_codepipeline$.BuildAction"
      },
      "initializer": {
        "parameters": [
          {
            "name": "parent",
            "type": {
              "fqn": "jsii$_aws_cdk_codepipeline$.Stage"
            }
          },
          {
            "name": "name",
            "type": {
              "primitive": "string"
            }
          },
          {
            "name": "props",
            "type": {
              "fqn": "jsii$_aws_cdk_codepipeline$.CodeBuildActionProps"
            }
          }
        ],
        "initializer": true
      }
    },
    "jsii$_aws_cdk_codepipeline$.ApprovalAction": {
      "docs": {
        "comment": "Manual approval action"
      },
      "kind": "class",
      "fqn": "jsii$_aws_cdk_codepipeline$.ApprovalAction",
      "module": "jsii$_aws_cdk_codepipeline$",
      "namespace": "jsii$_aws_cdk_codepipeline$",
      "name": "ApprovalAction",
      "base": {
        "fqn": "jsii$_aws_cdk_codepipeline$.Action"
      },
      "initializer": {
        "parameters": [
          {
            "name": "parent",
            "type": {
              "fqn": "jsii$_aws_cdk_codepipeline$.Stage"
            }
          },
          {
            "name": "name",
            "type": {
              "primitive": "string"
            }
          }
        ],
        "initializer": true
      }
    },
    "jsii$_aws_cdk_codepipeline$.InvokeLambdaProps": {
      "kind": "interface",
      "properties": [
        {
          "docs": {
            "comment": "The lambda function to invoke."
          },
          "name": "lambda",
          "type": {
            "fqn": "jsii$_aws_cdk_lambda$.LambdaRef"
          }
        },
        {
          "docs": {
            "comment": "String to be used in the event data parameter passed to the Lambda\nfunction\n\nSee an example JSON event in the CodePipeline documentation.\n\nhttps://docs.aws.amazon.com/codepipeline/latest/userguide/actions-invoke-lambda-function.html#actions-invoke-lambda-function-json-event-example"
          },
          "name": "userParameters",
          "type": {
            "primitive": "any",
            "optional": true
          }
        },
        {
          "docs": {
            "see": "https://docs.aws.amazon.com/codepipeline/latest/userguide/actions-invoke-lambda-function.html#actions-invoke-lambda-function-create-function",
            "default": "true",
            "comment": "Adds the \"codepipeline:PutJobSuccessResult\" and\n\"codepipeline:PutJobFailureResult\" for '*' resource to the Lambda\nexecution role policy.\n\nNOTE: the reason we can't add the specific pipeline ARN as a resource is\nto avoid a cyclic dependency between the pipeline and the Lambda function\n(the pipeline references) the Lambda and the Lambda needs permissions on\nthe pipeline."
          },
          "name": "addPutJobResultPolicy",
          "type": {
            "primitive": "boolean",
            "optional": true
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_codepipeline$.InvokeLambdaProps",
      "module": "jsii$_aws_cdk_codepipeline$",
      "namespace": "jsii$_aws_cdk_codepipeline$",
      "name": "InvokeLambdaProps",
      "datatype": true
    },
    "jsii$_aws_cdk_codepipeline$.InvokeLambdaAction": {
      "docs": {
        "link": "https://docs.aws.amazon.com/codepipeline/latest/userguide/actions-invoke-lambda-function.html"
      },
      "kind": "class",
      "methods": [
        {
          "parameters": [
            {
              "docs": {
                "param": "artifact"
              },
              "name": "artifact",
              "type": {
                "fqn": "jsii$_aws_cdk_codepipeline$.Artifact"
              }
            }
          ],
          "docs": {
            "comment": "Add an input artifact"
          },
          "name": "addInputArtifact",
          "returns": {
            "fqn": "jsii$_aws_cdk_codepipeline$.InvokeLambdaAction"
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_codepipeline$.InvokeLambdaAction",
      "module": "jsii$_aws_cdk_codepipeline$",
      "namespace": "jsii$_aws_cdk_codepipeline$",
      "name": "InvokeLambdaAction",
      "base": {
        "fqn": "jsii$_aws_cdk_codepipeline$.Action"
      },
      "initializer": {
        "parameters": [
          {
            "name": "parent",
            "type": {
              "fqn": "jsii$_aws_cdk_codepipeline$.Stage"
            }
          },
          {
            "name": "name",
            "type": {
              "primitive": "string"
            }
          },
          {
            "name": "props",
            "type": {
              "fqn": "jsii$_aws_cdk_codepipeline$.InvokeLambdaProps"
            }
          }
        ],
        "initializer": true
      }
    },
    "jsii$_aws_cdk_codepipeline$.ArtifactAttribute": {
      "docs": {
        "link": "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-parameter-override-functions.html"
      },
      "kind": "class",
      "fqn": "jsii$_aws_cdk_codepipeline$.ArtifactAttribute",
      "module": "jsii$_aws_cdk_codepipeline$",
      "namespace": "jsii$_aws_cdk_codepipeline$",
      "name": "ArtifactAttribute",
      "base": {
        "fqn": "jsii$_aws_cdk_core$.Token"
      },
      "initializer": {
        "parameters": [
          {
            "name": "artifact",
            "type": {
              "fqn": "jsii$_aws_cdk_codepipeline$.Artifact"
            }
          },
          {
            "name": "attributeName",
            "type": {
              "primitive": "string"
            }
          }
        ],
        "initializer": true
      }
    },
    "jsii$_aws_cdk_codepipeline$.ArtifactGetParam": {
      "docs": {
        "link": "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-parameter-override-functions.html"
      },
      "kind": "class",
      "fqn": "jsii$_aws_cdk_codepipeline$.ArtifactGetParam",
      "module": "jsii$_aws_cdk_codepipeline$",
      "namespace": "jsii$_aws_cdk_codepipeline$",
      "name": "ArtifactGetParam",
      "base": {
        "fqn": "jsii$_aws_cdk_core$.Token"
      },
      "initializer": {
        "parameters": [
          {
            "name": "artifact",
            "type": {
              "fqn": "jsii$_aws_cdk_codepipeline$.Artifact"
            }
          },
          {
            "name": "jsonFile",
            "type": {
              "primitive": "string"
            }
          },
          {
            "name": "keyName",
            "type": {
              "primitive": "string"
            }
          }
        ],
        "initializer": true
      }
    },
    "jsii$_aws_cdk_codepipeline$.Artifact": {
      "docs": {
        "comment": "An output artifact of an action. Artifacts can be used as input by some actions."
      },
      "kind": "class",
      "properties": [
        {
          "name": "name",
          "type": {
            "primitive": "string"
          },
          "immutable": true
        },
        {
          "docs": {
            "comment": "The artifact attribute for the name of the S3 bucket where the artifact is stored."
          },
          "name": "bucketName",
          "type": {
            "fqn": "jsii$_aws_cdk_codepipeline$.ArtifactAttribute"
          },
          "immutable": true
        },
        {
          "docs": {
            "comment": "The artifact attribute for The name of the .zip file that contains the artifact that is\ngenerated by AWS CodePipeline, such as 1ABCyZZ.zip."
          },
          "name": "objectKey",
          "type": {
            "fqn": "jsii$_aws_cdk_codepipeline$.ArtifactAttribute"
          },
          "immutable": true
        },
        {
          "docs": {
            "comment": "The artifact attribute of the Amazon Simple Storage Service (Amazon S3) URL of the artifact,\nsuch as https://s3-us-west-2.amazonaws.com/artifactstorebucket-yivczw8jma0c/test/TemplateSo/1ABCyZZ.zip."
          },
          "name": "url",
          "type": {
            "fqn": "jsii$_aws_cdk_codepipeline$.ArtifactAttribute"
          },
          "immutable": true
        }
      ],
      "methods": [
        {
          "parameters": [
            {
              "docs": {
                "param": "fileName The name of the file",
                "comment": "The name of the file"
              },
              "name": "fileName",
              "type": {
                "primitive": "string"
              }
            }
          ],
          "docs": {
            "comment": "Returns an ArtifactPath for a file within this artifact.\nOutput is in the form \"<artifact-name>::<file-name>\""
          },
          "name": "subartifact",
          "returns": {
            "fqn": "jsii$_aws_cdk_codepipeline$.ArtifactPath"
          }
        },
        {
          "parameters": [
            {
              "docs": {
                "param": "jsonFile The JSON file name.",
                "comment": "The JSON file name."
              },
              "name": "jsonFile",
              "type": {
                "primitive": "string"
              }
            },
            {
              "docs": {
                "param": "keyName The hash key.",
                "comment": "The hash key."
              },
              "name": "keyName",
              "type": {
                "primitive": "string"
              }
            }
          ],
          "docs": {
            "comment": "Returns a token for a value inside a JSON file within this artifact."
          },
          "name": "getParam",
          "returns": {
            "fqn": "jsii$_aws_cdk_codepipeline$.ArtifactGetParam"
          }
        },
        {
          "docs": {
            "comment": "Returns a string representation of this construct."
          },
          "name": "toString",
          "returns": {
            "primitive": "string"
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_codepipeline$.Artifact",
      "module": "jsii$_aws_cdk_codepipeline$",
      "namespace": "jsii$_aws_cdk_codepipeline$",
      "name": "Artifact",
      "base": {
        "fqn": "jsii$_aws_cdk_core$.Construct"
      },
      "initializer": {
        "parameters": [
          {
            "name": "parent",
            "type": {
              "fqn": "jsii$_aws_cdk_codepipeline$.Action"
            }
          },
          {
            "name": "name",
            "type": {
              "primitive": "string"
            }
          }
        ],
        "initializer": true
      }
    },
    "jsii$_aws_cdk_codepipeline$.ArtifactPath": {
      "docs": {
        "comment": "A specific file within an output artifact.\n\nThe most common use case for this is specifying the template file\nfor a CloudFormation action."
      },
      "kind": "class",
      "properties": [
        {
          "name": "artifact",
          "type": {
            "fqn": "jsii$_aws_cdk_codepipeline$.Artifact"
          },
          "immutable": true
        },
        {
          "name": "fileName",
          "type": {
            "primitive": "string"
          },
          "immutable": true
        },
        {
          "name": "location",
          "type": {
            "primitive": "string"
          },
          "immutable": true
        }
      ],
      "fqn": "jsii$_aws_cdk_codepipeline$.ArtifactPath",
      "module": "jsii$_aws_cdk_codepipeline$",
      "namespace": "jsii$_aws_cdk_codepipeline$",
      "name": "ArtifactPath",
      "initializer": {
        "parameters": [
          {
            "name": "artifact",
            "type": {
              "fqn": "jsii$_aws_cdk_codepipeline$.Artifact"
            }
          },
          {
            "name": "fileName",
            "type": {
              "primitive": "string"
            }
          }
        ],
        "initializer": true
      }
    },
    "jsii$_aws_cdk_codepipeline$.PipelineArn": {
      "docs": {
        "comment": "The ARN of a pipeline"
      },
      "kind": "class",
      "fqn": "jsii$_aws_cdk_codepipeline$.PipelineArn",
      "module": "jsii$_aws_cdk_codepipeline$",
      "namespace": "jsii$_aws_cdk_codepipeline$",
      "name": "PipelineArn",
      "base": {
        "fqn": "jsii$_aws_cdk_core$.Arn"
      },
      "initializer": {
        "parameters": [
          {
            "name": "valueOrFunction",
            "type": {
              "primitive": "any",
              "optional": true
            }
          }
        ],
        "docs": {
          "comment": "Creates a token that resolves to `value`. If value is a function,\nthe function is evaluated upon resolution and the value it returns will be\nuesd as the token's value."
        },
        "initializer": true
      }
    },
    "jsii$_aws_cdk_codepipeline$.PipelineProps": {
      "kind": "interface",
      "properties": [
        {
          "docs": {
            "comment": "The S3 bucket used by this Pipeline to store artifacts.\nIf not specified, a new S3 bucket will be created."
          },
          "name": "artifactBucket",
          "type": {
            "fqn": "jsii$_aws_cdk_s3$.BucketRef",
            "optional": true
          }
        },
        {
          "docs": {
            "comment": "Indicates whether to rerun the AWS CodePipeline pipeline after you update it."
          },
          "name": "restartExecutionOnUpdate",
          "type": {
            "primitive": "boolean",
            "optional": true
          }
        },
        {
          "docs": {
            "comment": "Name of the pipeline. If you don't specify a name,  AWS CloudFormation generates an ID\nand uses that for the pipeline name."
          },
          "name": "pipelineName",
          "type": {
            "primitive": "string",
            "optional": true
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_codepipeline$.PipelineProps",
      "module": "jsii$_aws_cdk_codepipeline$",
      "namespace": "jsii$_aws_cdk_codepipeline$",
      "name": "PipelineProps",
      "datatype": true
    },
    "jsii$_aws_cdk_codepipeline$.Pipeline": {
      "docs": {
        "example": "// create a pipeline\nconst pipeline = new Pipeline(this, 'Pipeline');\n\n// add a stage\nconst sourceStage = new Stage(pipeline, 'Source');\n\n// add a source action to the stage\nnew CodeCommitSource(sourceStage, 'Source', {\nartifactName: 'SourceArtifact',\nrepository: repo\n});\n\n// ... add more stages",
        "comment": "An AWS CodePipeline pipeline with its associated IAM role and S3 bucket."
      },
      "kind": "class",
      "properties": [
        {
          "docs": {
            "comment": "The IAM role AWS CodePipeline will use to perform actions or assume roles for actions with\na more specific IAM role."
          },
          "name": "role",
          "type": {
            "fqn": "jsii$_aws_cdk_iam$.Role"
          },
          "immutable": true
        },
        {
          "docs": {
            "comment": "ARN of this pipeline"
          },
          "name": "pipelineArn",
          "type": {
            "fqn": "jsii$_aws_cdk_codepipeline$.PipelineArn"
          },
          "immutable": true
        },
        {
          "docs": {
            "comment": "Bucket used to store output artifacts"
          },
          "name": "artifactBucket",
          "type": {
            "fqn": "jsii$_aws_cdk_s3$.BucketRef"
          },
          "immutable": true
        },
        {
          "docs": {
            "comment": "Allows the pipeline to be used as a CloudWatch event rule target.\n\nUsage:\n\n      const pipeline = new Pipeline(this, 'MyPipeline');\n      const rule = new EventRule(this, 'MyRule', { schedule: 'rate(1 minute)' });\n      rule.addTarget(pipeline);"
          },
          "name": "eventRuleTarget",
          "type": {
            "fqn": "jsii$_aws_cdk_events$.EventRuleTarget"
          },
          "immutable": true
        }
      ],
      "methods": [
        {
          "parameters": [
            {
              "name": "statement",
              "type": {
                "fqn": "jsii$_aws_cdk_core$.PolicyStatement"
              }
            }
          ],
          "docs": {
            "comment": "Adds a statement to the pipeline role."
          },
          "name": "addToRolePolicy"
        },
        {
          "parameters": [
            {
              "docs": {
                "param": "name The name of the event rule construct. If you wish to define\nmore than a single onStateChange event, you will need to explicitly\nspecify a name.",
                "comment": "The name of the event rule construct. If you wish to define\nmore than a single onStateChange event, you will need to explicitly\nspecify a name."
              },
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "docs": {
                "param": "target Initial target to add to the event rule. You can also add\ntargets and customize target inputs by calling `rule.addTarget(target[,\n     * options])` after the rule was created.",
                "comment": "Initial target to add to the event rule. You can also add\ntargets and customize target inputs by calling `rule.addTarget(target[,\n     * options])` after the rule was created."
              },
              "name": "target",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.IEventRuleTarget",
                "optional": true
              }
            },
            {
              "docs": {
                "param": "options Additional options to pass to the event rule",
                "comment": "Additional options to pass to the event rule"
              },
              "name": "options",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.EventRuleProps",
                "optional": true
              }
            }
          ],
          "docs": {
            "comment": "Defines an event rule triggered by the \"CodePipeline Pipeline Execution\nState Change\" event emitted from this pipeline."
          },
          "name": "onStateChange",
          "returns": {
            "fqn": "jsii$_aws_cdk_events$.EventRule"
          }
        },
        {
          "docs": {
            "override": "",
            "comment": "Validate the pipeline structure\n\nValidation happens according to the rules documented at\n\nhttps://docs.aws.amazon.com/codepipeline/latest/userguide/reference-pipeline-structure.html#pipeline-requirements"
          },
          "name": "validate",
          "returns": {
            "collection": {
              "elementtype": {
                "primitive": "string"
              },
              "kind": "array"
            }
          }
        },
        {
          "parameters": [
            {
              "name": "child",
              "type": {
                "fqn": "jsii$_aws_cdk_core$.Construct"
              }
            },
            {
              "name": "name",
              "type": {
                "primitive": "string"
              }
            }
          ],
          "docs": {
            "override": "",
            "comment": "If a stage is added as a child, add it to the list of stages.\nTODO: This is a hack that should be removed once the CDK has an\n       onChildAdded type hook."
          },
          "name": "addChild",
          "protected": true
        }
      ],
      "interfaces": [
        {
          "fqn": "jsii$_aws_cdk_events$.IEventRuleTarget"
        }
      ],
      "fqn": "jsii$_aws_cdk_codepipeline$.Pipeline",
      "module": "jsii$_aws_cdk_codepipeline$",
      "namespace": "jsii$_aws_cdk_codepipeline$",
      "name": "Pipeline",
      "base": {
        "fqn": "jsii$_aws_cdk_core$.Construct"
      },
      "initializer": {
        "parameters": [
          {
            "name": "parent",
            "type": {
              "fqn": "jsii$_aws_cdk_core$.Construct"
            }
          },
          {
            "name": "name",
            "type": {
              "primitive": "string"
            }
          },
          {
            "name": "props",
            "type": {
              "fqn": "jsii$_aws_cdk_codepipeline$.PipelineProps",
              "optional": true
            }
          }
        ],
        "initializer": true
      }
    },
    "jsii$_aws_cdk_codepipeline$.Stage": {
      "docs": {
        "example": "// add a stage to a pipeline\nnew Stage(pipeline, 'MyStage');",
        "comment": "A stage in a pipeline. Stages are added to a pipeline by constructing a Stage with\nthe pipeline as the first argument to the constructor."
      },
      "kind": "class",
      "properties": [
        {
          "docs": {
            "comment": "The Pipeline this stage is a member of"
          },
          "name": "pipeline",
          "type": {
            "fqn": "jsii$_aws_cdk_codepipeline$.Pipeline"
          },
          "immutable": true
        },
        {
          "docs": {
            "comment": "Get a duplicate of this stage's list of actions."
          },
          "name": "actions",
          "type": {
            "collection": {
              "elementtype": {
                "fqn": "jsii$_aws_cdk_codepipeline$.Action"
              },
              "kind": "array"
            }
          },
          "immutable": true
        }
      ],
      "methods": [
        {
          "docs": {
            "comment": "This method can be implemented by derived constructs in order to perform\nvalidation logic. It is called on all constructs before synthesis."
          },
          "name": "validate",
          "returns": {
            "collection": {
              "elementtype": {
                "primitive": "string"
              },
              "kind": "array"
            }
          }
        },
        {
          "name": "render",
          "returns": {
            "fqn": "jsii$_aws_cdk_resources$.codepipeline.PipelineResource.StageDeclarationProperty"
          }
        },
        {
          "parameters": [
            {
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "name": "target",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.IEventRuleTarget",
                "optional": true
              }
            },
            {
              "name": "options",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.EventRuleProps",
                "optional": true
              }
            }
          ],
          "name": "onStateChange",
          "returns": {
            "fqn": "jsii$_aws_cdk_events$.EventRule"
          }
        },
        {
          "parameters": [
            {
              "docs": {
                "param": "child"
              },
              "name": "child",
              "type": {
                "fqn": "jsii$_aws_cdk_core$.Construct"
              }
            },
            {
              "docs": {
                "param": "name"
              },
              "name": "name",
              "type": {
                "primitive": "string"
              }
            }
          ],
          "docs": {
            "override": "",
            "comment": "If an action is added as a child, add it to the list of actions.\nTODO: This is a hack that should be removed once the CDK has an\n       onChildAdded type hook."
          },
          "name": "addChild",
          "protected": true
        }
      ],
      "fqn": "jsii$_aws_cdk_codepipeline$.Stage",
      "module": "jsii$_aws_cdk_codepipeline$",
      "namespace": "jsii$_aws_cdk_codepipeline$",
      "name": "Stage",
      "base": {
        "fqn": "jsii$_aws_cdk_core$.Construct"
      },
      "initializer": {
        "parameters": [
          {
            "name": "parent",
            "type": {
              "fqn": "jsii$_aws_cdk_codepipeline$.Pipeline"
            }
          },
          {
            "name": "name",
            "type": {
              "primitive": "string"
            }
          }
        ],
        "docs": {
          "comment": "Append a new stage to the pipeline\n\nOnly a Pipeline can be passed in as a parent because stages should\nalways be attached to a pipeline. It's illogical to construct a Stage\nwith any other parent."
        },
        "initializer": true
      }
    }
  },
  "nametree": {
    "jsii$_aws_cdk_codepipeline$": {
      "ActionCategory": {
        "_": "jsii$_aws_cdk_codepipeline$.ActionCategory"
      },
      "ActionArtifactBounds": {
        "_": "jsii$_aws_cdk_codepipeline$.ActionArtifactBounds"
      },
      "ActionProps": {
        "_": "jsii$_aws_cdk_codepipeline$.ActionProps"
      },
      "Action": {
        "_": "jsii$_aws_cdk_codepipeline$.Action"
      },
      "SourceProps": {
        "_": "jsii$_aws_cdk_codepipeline$.SourceProps"
      },
      "Source": {
        "_": "jsii$_aws_cdk_codepipeline$.Source"
      },
      "AmazonS3SourceProps": {
        "_": "jsii$_aws_cdk_codepipeline$.AmazonS3SourceProps"
      },
      "AmazonS3Source": {
        "_": "jsii$_aws_cdk_codepipeline$.AmazonS3Source"
      },
      "CodeCommitSourceProps": {
        "_": "jsii$_aws_cdk_codepipeline$.CodeCommitSourceProps"
      },
      "CodeCommitSource": {
        "_": "jsii$_aws_cdk_codepipeline$.CodeCommitSource"
      },
      "GithubSourceProps": {
        "_": "jsii$_aws_cdk_codepipeline$.GithubSourceProps"
      },
      "GitHubSource": {
        "_": "jsii$_aws_cdk_codepipeline$.GitHubSource"
      },
      "BuildActionProps": {
        "_": "jsii$_aws_cdk_codepipeline$.BuildActionProps"
      },
      "BuildAction": {
        "_": "jsii$_aws_cdk_codepipeline$.BuildAction"
      },
      "CodeBuildActionProps": {
        "_": "jsii$_aws_cdk_codepipeline$.CodeBuildActionProps"
      },
      "CodeBuildAction": {
        "_": "jsii$_aws_cdk_codepipeline$.CodeBuildAction"
      },
      "ApprovalAction": {
        "_": "jsii$_aws_cdk_codepipeline$.ApprovalAction"
      },
      "InvokeLambdaProps": {
        "_": "jsii$_aws_cdk_codepipeline$.InvokeLambdaProps"
      },
      "InvokeLambdaAction": {
        "_": "jsii$_aws_cdk_codepipeline$.InvokeLambdaAction"
      },
      "ArtifactAttribute": {
        "_": "jsii$_aws_cdk_codepipeline$.ArtifactAttribute"
      },
      "ArtifactGetParam": {
        "_": "jsii$_aws_cdk_codepipeline$.ArtifactGetParam"
      },
      "Artifact": {
        "_": "jsii$_aws_cdk_codepipeline$.Artifact"
      },
      "ArtifactPath": {
        "_": "jsii$_aws_cdk_codepipeline$.ArtifactPath"
      },
      "PipelineArn": {
        "_": "jsii$_aws_cdk_codepipeline$.PipelineArn"
      },
      "PipelineProps": {
        "_": "jsii$_aws_cdk_codepipeline$.PipelineProps"
      },
      "Pipeline": {
        "_": "jsii$_aws_cdk_codepipeline$.Pipeline"
      },
      "Stage": {
        "_": "jsii$_aws_cdk_codepipeline$.Stage"
      }
    }
  },
  "typecount": 27,
  "externalTypes": {
    "jsii$_aws_cdk_core$.Construct": {
      "docs": {
        "comment": "Represents the building block of the construct graph.\nWhen a construct is created, it is always added as a child"
      },
      "kind": "class",
      "properties": [
        {
          "docs": {
            "comment": "Returns the parent of this node or undefined if this is a root node."
          },
          "name": "parent",
          "type": {
            "fqn": "jsii$_aws_cdk_core$.Construct",
            "optional": true
          },
          "immutable": true
        },
        {
          "docs": {
            "comment": "The name of this construct"
          },
          "name": "name",
          "type": {
            "primitive": "string"
          },
          "immutable": true
        },
        {
          "docs": {
            "comment": "All direct children of this construct."
          },
          "name": "children",
          "type": {
            "collection": {
              "elementtype": {
                "fqn": "jsii$_aws_cdk_core$.Construct"
              },
              "kind": "array"
            }
          },
          "immutable": true
        },
        {
          "docs": {
            "returns": "/-separated path of this Construct.",
            "comment": "Returns the path of all constructs from root to this construct, in string form."
          },
          "name": "path",
          "type": {
            "primitive": "string"
          },
          "immutable": true
        },
        {
          "docs": {
            "comment": "An array of metadata objects associated with this construct.\nThis can be used, for example, to implement support for deprecation notices, source mapping, etc."
          },
          "name": "metadata",
          "type": {
            "collection": {
              "elementtype": {
                "fqn": "jsii$_aws_cdk_core$.MetadataEntry"
              },
              "kind": "array"
            }
          },
          "immutable": true
        }
      ],
      "methods": [
        {
          "docs": {
            "comment": "Returns a string representation of this construct."
          },
          "name": "toString",
          "returns": {
            "primitive": "string"
          }
        },
        {
          "parameters": [
            {
              "name": "depth",
              "type": {
                "primitive": "number",
                "optional": true
              }
            }
          ],
          "docs": {
            "comment": "Returns a string with a tree representation of this construct and it's children."
          },
          "name": "toTreeString",
          "returns": {
            "primitive": "string"
          }
        },
        {
          "parameters": [
            {
              "name": "path",
              "type": {
                "primitive": "string"
              }
            }
          ],
          "docs": {
            "returns": "a child by path or undefined if not found.",
            "comment": "Return a descendant by path, or undefined"
          },
          "name": "tryFindChild",
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.Construct",
            "optional": true
          }
        },
        {
          "parameters": [
            {
              "name": "path",
              "type": {
                "primitive": "string"
              }
            }
          ],
          "docs": {
            "returns": "Child with the given path.",
            "comment": "Return a descendant by path\n\nThrows an exception if the descendant is not found."
          },
          "name": "findChild",
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.Construct"
          }
        },
        {
          "parameters": [
            {
              "docs": {
                "param": "key The context key",
                "comment": "The context key"
              },
              "name": "key",
              "type": {
                "primitive": "string"
              }
            },
            {
              "docs": {
                "param": "value The context value",
                "comment": "The context value"
              },
              "name": "value",
              "type": {
                "primitive": "any"
              }
            }
          ],
          "docs": {
            "comment": "This can be used to set contextual values.\nContext must be set before any children are added, since children may consult context info during construction.\nIf the key already exists, it will be overridden."
          },
          "name": "setContext"
        },
        {
          "parameters": [
            {
              "docs": {
                "param": "key The context key",
                "comment": "The context key"
              },
              "name": "key",
              "type": {
                "primitive": "string"
              }
            }
          ],
          "docs": {
            "returns": "The context value or undefined",
            "comment": "Retrieves a value from tree context.\n\nContext is usually initialized at the root, but can be overridden at any point in the tree."
          },
          "name": "getContext",
          "returns": {
            "primitive": "any"
          }
        },
        {
          "parameters": [
            {
              "name": "key",
              "type": {
                "primitive": "string"
              }
            }
          ],
          "docs": {
            "comment": "Retrieve a value from tree-global context\n\nIt is an error if the context object is not available."
          },
          "name": "requireContext",
          "returns": {
            "primitive": "any"
          }
        },
        {
          "parameters": [
            {
              "docs": {
                "param": "type a string denoting the type of metadata",
                "comment": "a string denoting the type of metadata"
              },
              "name": "type",
              "type": {
                "primitive": "string"
              }
            },
            {
              "docs": {
                "param": "data the value of the metadata (can be a Token). If null/undefined, metadata will not be added.",
                "comment": "the value of the metadata (can be a Token). If null/undefined, metadata will not be added."
              },
              "name": "data",
              "type": {
                "primitive": "any"
              }
            },
            {
              "docs": {
                "param": "from a function under which to restrict the metadata entry's stack trace (defaults to this.addMetadata)",
                "comment": "a function under which to restrict the metadata entry's stack trace (defaults to this.addMetadata)"
              },
              "name": "from",
              "type": {
                "primitive": "any",
                "optional": true
              }
            }
          ],
          "docs": {
            "comment": "Adds a metadata entry to this construct.\nEntries are arbitrary values and will also include a stack trace to allow tracing back to\nthe code location for when the entry was added. It can be used, for example, to include source\nmapping in CloudFormation templates to improve diagnostics."
          },
          "name": "addMetadata",
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.Construct"
          }
        },
        {
          "parameters": [
            {
              "docs": {
                "param": "message The warning message.",
                "comment": "The warning message."
              },
              "name": "message",
              "type": {
                "primitive": "string"
              }
            }
          ],
          "docs": {
            "comment": "Adds a { warning: <message> } metadata entry to this construct."
          },
          "name": "addWarning",
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.Construct"
          }
        },
        {
          "docs": {
            "returns": "An array of validation error messages, or an empty array if there the construct is valid.",
            "comment": "This method can be implemented by derived constructs in order to perform\nvalidation logic. It is called on all constructs before synthesis."
          },
          "name": "validate",
          "returns": {
            "collection": {
              "elementtype": {
                "primitive": "string"
              },
              "kind": "array"
            }
          }
        },
        {
          "docs": {
            "returns": "A list of validation errors. If the list is empty, all constructs are valid.",
            "comment": "Invokes 'validate' on all child constructs and then on this construct (depth-first)."
          },
          "name": "validateTree",
          "returns": {
            "collection": {
              "elementtype": {
                "fqn": "jsii$_aws_cdk_core$.ValidationError"
              },
              "kind": "array"
            }
          }
        },
        {
          "parameters": [
            {
              "name": "upTo",
              "type": {
                "fqn": "jsii$_aws_cdk_core$.Construct",
                "optional": true
              }
            }
          ],
          "docs": {
            "comment": "Return the ancestors (including self) of this Construct up until and excluding the indicated component"
          },
          "name": "ancestors",
          "protected": true,
          "returns": {
            "collection": {
              "elementtype": {
                "fqn": "jsii$_aws_cdk_core$.Construct"
              },
              "kind": "array"
            }
          }
        },
        {
          "parameters": [
            {
              "docs": {
                "param": "props The props bag.",
                "comment": "The props bag."
              },
              "name": "props",
              "type": {
                "primitive": "any"
              }
            },
            {
              "docs": {
                "param": "name The name of the required property.",
                "comment": "The name of the required property."
              },
              "name": "name",
              "type": {
                "primitive": "string"
              }
            }
          ],
          "docs": {
            "comment": "Throws if the `props` bag doesn't include the property `name`.\nIn the future we can add some type-checking here, maybe even auto-generate during compilation."
          },
          "name": "required",
          "protected": true,
          "returns": {
            "primitive": "any"
          }
        },
        {
          "parameters": [
            {
              "docs": {
                "param": "child The child construct",
                "comment": "The child construct"
              },
              "name": "child",
              "type": {
                "fqn": "jsii$_aws_cdk_core$.Construct"
              }
            },
            {
              "name": "childName",
              "type": {
                "primitive": "string"
              }
            }
          ],
          "docs": {
            "returns": "The resolved path part name of the child",
            "comment": "Adds a child construct to this node."
          },
          "name": "addChild",
          "protected": true
        },
        {
          "docs": {
            "comment": "Locks this construct from allowing more children to be added. After this\ncall, no more children can be added to this construct or to any children."
          },
          "name": "lock",
          "protected": true
        },
        {
          "docs": {
            "comment": "Unlocks this costruct and allows mutations (adding children)."
          },
          "name": "unlock",
          "protected": true
        }
      ],
      "fqn": "jsii$_aws_cdk_core$.Construct",
      "module": "jsii$_aws_cdk_core$",
      "namespace": "jsii$_aws_cdk_core$",
      "name": "Construct",
      "initializer": {
        "parameters": [
          {
            "docs": {
              "param": "parent The parent construct",
              "comment": "The parent construct"
            },
            "name": "parent",
            "type": {
              "fqn": "jsii$_aws_cdk_core$.Construct"
            }
          },
          {
            "name": "name",
            "type": {
              "primitive": "string"
            }
          }
        ],
        "docs": {
          "comment": "Creates a new construct node."
        },
        "initializer": true
      }
    },
    "jsii$_aws_cdk_resources$.codepipeline.PipelineResource.ActionDeclarationProperty": {
      "docs": {
        "link": "http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-codepipeline-pipeline-stages-actions.html"
      },
      "kind": "interface",
      "properties": [
        {
          "docs": {
            "link": "http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-codepipeline-pipeline-stages-actions.html#cfn-codepipeline-pipeline-stages-actions-actiontypeid",
            "comment": "PipelineResource.ActionDeclarationProperty.ActionTypeId"
          },
          "name": "actionTypeId",
          "type": {
            "union": {
              "types": [
                {
                  "fqn": "jsii$_aws_cdk_core$.Token"
                },
                {
                  "fqn": "jsii$_aws_cdk_resources$.codepipeline.PipelineResource.ActionTypeIdProperty"
                }
              ]
            }
          }
        },
        {
          "docs": {
            "link": "http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-codepipeline-pipeline-stages-actions.html#cfn-codepipeline-pipeline-stages-actions-configuration",
            "comment": "PipelineResource.ActionDeclarationProperty.Configuration"
          },
          "name": "configuration",
          "type": {
            "union": {
              "types": [
                {
                  "primitive": "json"
                },
                {
                  "fqn": "jsii$_aws_cdk_core$.Token"
                }
              ]
            },
            "optional": true
          }
        },
        {
          "docs": {
            "link": "http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-codepipeline-pipeline-stages-actions.html#cfn-codepipeline-pipeline-stages-actions-inputartifacts",
            "comment": "PipelineResource.ActionDeclarationProperty.InputArtifacts"
          },
          "name": "inputArtifacts",
          "type": {
            "union": {
              "types": [
                {
                  "fqn": "jsii$_aws_cdk_core$.Token"
                },
                {
                  "collection": {
                    "elementtype": {
                      "union": {
                        "types": [
                          {
                            "fqn": "jsii$_aws_cdk_core$.Token"
                          },
                          {
                            "fqn": "jsii$_aws_cdk_resources$.codepipeline.PipelineResource.InputArtifactProperty"
                          }
                        ]
                      }
                    },
                    "kind": "array"
                  }
                }
              ]
            },
            "optional": true
          }
        },
        {
          "docs": {
            "link": "http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-codepipeline-pipeline-stages-actions.html#cfn-codepipeline-pipeline-stages-actions-name",
            "comment": "PipelineResource.ActionDeclarationProperty.Name"
          },
          "name": "name",
          "type": {
            "union": {
              "types": [
                {
                  "primitive": "string"
                },
                {
                  "fqn": "jsii$_aws_cdk_core$.Token"
                }
              ]
            }
          }
        },
        {
          "docs": {
            "link": "http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-codepipeline-pipeline-stages-actions.html#cfn-codepipeline-pipeline-stages-actions-outputartifacts",
            "comment": "PipelineResource.ActionDeclarationProperty.OutputArtifacts"
          },
          "name": "outputArtifacts",
          "type": {
            "union": {
              "types": [
                {
                  "fqn": "jsii$_aws_cdk_core$.Token"
                },
                {
                  "collection": {
                    "elementtype": {
                      "union": {
                        "types": [
                          {
                            "fqn": "jsii$_aws_cdk_core$.Token"
                          },
                          {
                            "fqn": "jsii$_aws_cdk_resources$.codepipeline.PipelineResource.OutputArtifactProperty"
                          }
                        ]
                      }
                    },
                    "kind": "array"
                  }
                }
              ]
            },
            "optional": true
          }
        },
        {
          "docs": {
            "link": "http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-codepipeline-pipeline-stages-actions.html#cfn-codepipeline-pipeline-stages-actions-rolearn",
            "comment": "PipelineResource.ActionDeclarationProperty.RoleArn"
          },
          "name": "roleArn",
          "type": {
            "union": {
              "types": [
                {
                  "primitive": "string"
                },
                {
                  "fqn": "jsii$_aws_cdk_core$.Token"
                }
              ]
            },
            "optional": true
          }
        },
        {
          "docs": {
            "link": "http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-codepipeline-pipeline-stages-actions.html#cfn-codepipeline-pipeline-stages-actions-runorder",
            "comment": "PipelineResource.ActionDeclarationProperty.RunOrder"
          },
          "name": "runOrder",
          "type": {
            "union": {
              "types": [
                {
                  "primitive": "number"
                },
                {
                  "fqn": "jsii$_aws_cdk_core$.Token"
                }
              ]
            },
            "optional": true
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_resources$.codepipeline.PipelineResource.ActionDeclarationProperty",
      "module": "jsii$_aws_cdk_resources$",
      "namespace": "jsii$_aws_cdk_resources$.codepipeline.PipelineResource",
      "name": "ActionDeclarationProperty",
      "datatype": true,
      "parenttype": "jsii$_aws_cdk_resources$.codepipeline.PipelineResource"
    },
    "jsii$_aws_cdk_events$.EventRule": {
      "docs": {
        "comment": "Defines a CloudWatch Event Rule in this stack."
      },
      "kind": "class",
      "properties": [
        {
          "docs": {
            "comment": "The value of the event rule Amazon Resource Name (ARN), such as\narn:aws:events:us-east-2:123456789012:rule/example."
          },
          "name": "ruleArn",
          "type": {
            "fqn": "jsii$_aws_cdk_resources$.events.RuleArn"
          }
        }
      ],
      "methods": [
        {
          "parameters": [
            {
              "name": "target",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.IEventRuleTarget",
                "optional": true
              }
            },
            {
              "name": "inputOptions",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.TargetInputTemplate",
                "optional": true
              }
            }
          ],
          "docs": {
            "comment": "Adds a target to the rule. The abstract class RuleTarget can be extended to define new\ntargets.\n\nNo-op if target is undefined."
          },
          "name": "addTarget"
        },
        {
          "parameters": [
            {
              "name": "eventPattern",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.EventPattern",
                "optional": true
              }
            }
          ],
          "docs": {
            "comment": "Adds an event pattern filter to this rule. If a pattern was already specified,\nthese values are merged into the existing pattern.\n\nFor example, if the rule already contains the pattern:\n\n      {\n          \"resources\": [ \"r1\" ],\n          \"detail\": {\n              \"hello\": [ 1 ]\n          }\n      }\n\nAnd `addEventPattern` is called with the pattern:\n\n      {\n          \"resources\": [ \"r2\" ],\n          \"detail\": {\n              \"foo\": [ \"bar\" ]\n          }\n      }\n\nThe resulting event pattern will be:\n\n      {\n          \"resources\": [ \"r1\", \"r2\" ],\n          \"detail\": {\n              \"hello\": [ 1 ],\n              \"foo\": [ \"bar\" ]\n          }\n      }"
          },
          "name": "addEventPattern"
        },
        {
          "docs": {
            "comment": "This method can be implemented by derived constructs in order to perform\nvalidation logic. It is called on all constructs before synthesis."
          },
          "name": "validate",
          "returns": {
            "collection": {
              "elementtype": {
                "primitive": "string"
              },
              "kind": "array"
            }
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_events$.EventRule",
      "module": "jsii$_aws_cdk_events$",
      "namespace": "jsii$_aws_cdk_events$",
      "name": "EventRule",
      "base": {
        "fqn": "jsii$_aws_cdk_events$.EventRuleRef"
      },
      "initializer": {
        "parameters": [
          {
            "name": "parent",
            "type": {
              "fqn": "jsii$_aws_cdk_core$.Construct"
            }
          },
          {
            "name": "name",
            "type": {
              "primitive": "string"
            }
          },
          {
            "name": "props",
            "type": {
              "fqn": "jsii$_aws_cdk_events$.EventRuleProps",
              "optional": true
            }
          }
        ],
        "initializer": true
      }
    },
    "jsii$_aws_cdk_events$.IEventRuleTarget": {
      "docs": {
        "comment": "An abstract target for EventRules."
      },
      "kind": "interface",
      "properties": [
        {
          "docs": {
            "comment": "Returns the rule target specification.\nNOTE: Do not use the various `inputXxx` options. They can be set in a call to `addTarget`."
          },
          "name": "eventRuleTarget",
          "type": {
            "fqn": "jsii$_aws_cdk_events$.EventRuleTarget"
          },
          "immutable": true
        }
      ],
      "fqn": "jsii$_aws_cdk_events$.IEventRuleTarget",
      "module": "jsii$_aws_cdk_events$",
      "namespace": "jsii$_aws_cdk_events$",
      "name": "IEventRuleTarget",
      "datatype": true
    },
    "jsii$_aws_cdk_events$.EventRuleProps": {
      "kind": "interface",
      "properties": [
        {
          "docs": {
            "comment": "A description of the rule's purpose."
          },
          "name": "description",
          "type": {
            "primitive": "string",
            "optional": true
          }
        },
        {
          "docs": {
            "comment": "A name for the rule. If you don't specify a name, AWS CloudFormation\ngenerates a unique physical ID and uses that ID for the rule name. For\nmore information, see Name Type."
          },
          "name": "ruleName",
          "type": {
            "primitive": "string",
            "optional": true
          }
        },
        {
          "docs": {
            "default": "Rule is enabled",
            "comment": "Indicates whether the rule is enabled."
          },
          "name": "enabled",
          "type": {
            "primitive": "boolean",
            "optional": true
          }
        },
        {
          "docs": {
            "see": "http://docs.aws.amazon.com/AmazonCloudWatch/latest/events/ScheduledEvents.html\n\nYou must specify this property, the `eventPattern` property, or both.",
            "comment": "The schedule or rate (frequency) that determines when CloudWatch Events\nruns the rule. For more information, see Schedule Expression Syntax for\nRules in the Amazon CloudWatch User Guide."
          },
          "name": "scheduleExpression",
          "type": {
            "primitive": "string",
            "optional": true
          }
        },
        {
          "docs": {
            "see": "http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/CloudWatchEventsandEventPatterns.html\n\nYou must specify this property (either via props or via\n`addEventPattern`), the `scheduleExpression` property, or both. The\nmethod `addEventPattern` can be used to add filter values to the event\npattern.",
            "comment": "Describes which events CloudWatch Events routes to the specified target.\nThese routed events are matched events. For more information, see Events\nand Event Patterns in the Amazon CloudWatch User Guide."
          },
          "name": "eventPattern",
          "type": {
            "fqn": "jsii$_aws_cdk_events$.EventPattern",
            "optional": true
          }
        },
        {
          "docs": {
            "comment": "Targets to invoke when this rule matches an event.\n\nInput will be the full matched event. If you wish to specify custom\ntarget input, use `addTarget(target[, inputOptions])`."
          },
          "name": "targets",
          "type": {
            "collection": {
              "elementtype": {
                "fqn": "jsii$_aws_cdk_events$.IEventRuleTarget"
              },
              "kind": "array"
            },
            "optional": true
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_events$.EventRuleProps",
      "module": "jsii$_aws_cdk_events$",
      "namespace": "jsii$_aws_cdk_events$",
      "name": "EventRuleProps",
      "datatype": true
    },
    "jsii$_aws_cdk_s3$.BucketRef": {
      "docs": {
        "comment": "Represents an S3 Bucket.\n\nBuckets can be either defined within this stack:\n\n     new Bucket(this, 'MyBucket', { props });\n\nOr imported from an existing bucket:\n\n     BucketRef.import(this, 'MyImportedBucket', { bucketArn: ... });\n\nYou can also export a bucket and import it into another stack:\n\n     const ref = myBucket.export();\n     BucketRef.import(this, 'MyImportedBucket', ref);"
      },
      "kind": "class",
      "properties": [
        {
          "docs": {
            "comment": "The ARN of the bucket."
          },
          "name": "bucketArn",
          "type": {
            "fqn": "jsii$_aws_cdk_resources$.s3.BucketArn"
          },
          "immutable": true,
          "abstract": true
        },
        {
          "docs": {
            "comment": "The name of the bucket."
          },
          "name": "bucketName",
          "type": {
            "fqn": "jsii$_aws_cdk_s3$.BucketName"
          },
          "immutable": true,
          "abstract": true
        },
        {
          "docs": {
            "comment": "Optional KMS encryption key associated with this bucket."
          },
          "name": "encryptionKey",
          "type": {
            "fqn": "jsii$_aws_cdk_kms$.EncryptionKeyRef",
            "optional": true
          },
          "immutable": true,
          "abstract": true
        },
        {
          "docs": {
            "comment": "The resource policy assoicated with this bucket.\n\nIf `autoCreatePolicy` is true, a `BucketPolicy` will be created upon the\nfirst call to addToResourcePolicy(s)."
          },
          "name": "policy",
          "type": {
            "fqn": "jsii$_aws_cdk_s3$.BucketPolicy",
            "optional": true
          },
          "protected": true,
          "abstract": true
        },
        {
          "docs": {
            "comment": "Indicates if a bucket resource policy should automatically created upon\nthe first call to `addToResourcePolicy`."
          },
          "name": "autoCreatePolicy",
          "type": {
            "primitive": "boolean"
          },
          "protected": true,
          "abstract": true
        }
      ],
      "methods": [
        {
          "parameters": [
            {
              "docs": {
                "param": "parent The parent creating construct (usually `this`).",
                "comment": "The parent creating construct (usually `this`)."
              },
              "name": "parent",
              "type": {
                "fqn": "jsii$_aws_cdk_core$.Construct"
              }
            },
            {
              "docs": {
                "param": "name The construct's name.",
                "comment": "The construct's name."
              },
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "name": "props",
              "type": {
                "fqn": "jsii$_aws_cdk_s3$.BucketRefProps"
              }
            }
          ],
          "docs": {
            "comment": "Creates a Bucket construct that represents an external bucket."
          },
          "name": "import",
          "static": true,
          "returns": {
            "fqn": "jsii$_aws_cdk_s3$.BucketRef"
          }
        },
        {
          "docs": {
            "comment": "Exports this bucket from the stack."
          },
          "name": "export",
          "returns": {
            "fqn": "jsii$_aws_cdk_s3$.BucketRefProps"
          }
        },
        {
          "parameters": [
            {
              "name": "permission",
              "type": {
                "fqn": "jsii$_aws_cdk_core$.PolicyStatement"
              }
            }
          ],
          "docs": {
            "comment": "Adds a statement to the resource policy for a principal (i.e.\naccount/role/service) to perform actions on this bucket and/or it's\ncontents. Use `bucketArn` and `arnForObjects(keys)` to obtain ARNs for\nthis bucket or objects."
          },
          "name": "addToResourcePolicy"
        },
        {
          "parameters": [
            {
              "name": "keyPattern",
              "type": {
                "primitive": "any"
              },
              "variadic": true
            }
          ],
          "docs": {
            "comment": "Returns an ARN that represents all objects within the bucket that match\nthe key pattern specified. To represent all keys, specify ``\"*\"``.\n\nIf you specify multiple components for keyPattern, they will be concatenated::\n\n     arnForObjects('home/', team, '/', user, '/*')"
          },
          "name": "arnForObjects",
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.Arn"
          },
          "variadic": true
        },
        {
          "parameters": [
            {
              "name": "identity",
              "type": {
                "fqn": "jsii$_aws_cdk_iam$.IIdentityResource",
                "optional": true
              }
            },
            {
              "name": "objectsKeyPattern",
              "type": {
                "primitive": "string",
                "optional": true
              }
            }
          ],
          "docs": {
            "comment": "Temporary API for granting read permissions for this bucket and it's\ncontents to an IAM principal (Role/Group/User).\n\nIf an encryption key is used, permission to ues the key to decrypt the\ncontents of the bucket will also be granted."
          },
          "name": "grantRead"
        },
        {
          "parameters": [
            {
              "name": "identity",
              "type": {
                "fqn": "jsii$_aws_cdk_iam$.IIdentityResource",
                "optional": true
              }
            },
            {
              "name": "objectsKeyPattern",
              "type": {
                "primitive": "string",
                "optional": true
              }
            }
          ],
          "docs": {
            "comment": "Grants read/write permissions for this bucket and it's contents to an IAM\nprincipal (Role/Group/User).\n\nIf an encryption key is used, permission to use the key for\nencrypt/decrypt will also be granted."
          },
          "name": "grantReadWrite"
        }
      ],
      "fqn": "jsii$_aws_cdk_s3$.BucketRef",
      "module": "jsii$_aws_cdk_s3$",
      "namespace": "jsii$_aws_cdk_s3$",
      "name": "BucketRef",
      "base": {
        "fqn": "jsii$_aws_cdk_core$.Construct"
      },
      "abstract": true,
      "initializer": {
        "parameters": [
          {
            "docs": {
              "param": "parent The parent construct",
              "comment": "The parent construct"
            },
            "name": "parent",
            "type": {
              "fqn": "jsii$_aws_cdk_core$.Construct"
            }
          },
          {
            "name": "name",
            "type": {
              "primitive": "string"
            }
          }
        ],
        "docs": {
          "comment": "Creates a new construct node."
        },
        "initializer": true
      }
    },
    "jsii$_aws_cdk_codecommit$.RepositoryRef": {
      "docs": {
        "comment": "Represents a reference to a CodeCommit Repository.\n\nIf you want to create a new Repository managed alongside your CDK code,\nuse the {@link Repository} class.\n\nIf you want to reference an already existing Repository,\nuse the {@link RepositoryRef.import} method."
      },
      "kind": "class",
      "properties": [
        {
          "docs": {
            "comment": "The ARN of this Repository. "
          },
          "name": "repositoryArn",
          "type": {
            "fqn": "jsii$_aws_cdk_resources$.codecommit.RepositoryArn"
          },
          "immutable": true,
          "abstract": true
        },
        {
          "docs": {
            "comment": "The human-visible name of this Repository. "
          },
          "name": "repositoryName",
          "type": {
            "fqn": "jsii$_aws_cdk_resources$.codecommit.RepositoryName"
          },
          "immutable": true,
          "abstract": true
        }
      ],
      "methods": [
        {
          "parameters": [
            {
              "docs": {
                "param": "parent the parent Construct for the Repository",
                "comment": "the parent Construct for the Repository"
              },
              "name": "parent",
              "type": {
                "fqn": "jsii$_aws_cdk_core$.Construct"
              }
            },
            {
              "docs": {
                "param": "name the name of the Repository Construct",
                "comment": "the name of the Repository Construct"
              },
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "docs": {
                "param": "props the properties used to identify the existing Repository",
                "comment": "the properties used to identify the existing Repository"
              },
              "name": "props",
              "type": {
                "fqn": "jsii$_aws_cdk_codecommit$.RepositoryRefProps"
              }
            }
          ],
          "docs": {
            "returns": "a reference to the existing Repository",
            "comment": "Import a Repository defined either outside the CDK, or in a different Stack\n(exported with the {@link export} method)."
          },
          "name": "import",
          "static": true,
          "returns": {
            "fqn": "jsii$_aws_cdk_codecommit$.RepositoryRef"
          }
        },
        {
          "docs": {
            "see": "import",
            "comment": "Exports this Repository. Allows the same Repository to be used in 2 different Stacks."
          },
          "name": "export",
          "returns": {
            "fqn": "jsii$_aws_cdk_codecommit$.RepositoryRefProps"
          }
        },
        {
          "parameters": [
            {
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "name": "target",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.IEventRuleTarget",
                "optional": true
              }
            },
            {
              "name": "options",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.EventRuleProps",
                "optional": true
              }
            }
          ],
          "docs": {
            "comment": "Defines a CloudWatch event rule which triggers for repository events. Use\n`rule.addEventPattern(pattern)` to specify a filter."
          },
          "name": "onEvent",
          "returns": {
            "fqn": "jsii$_aws_cdk_events$.EventRule"
          }
        },
        {
          "parameters": [
            {
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "name": "target",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.IEventRuleTarget",
                "optional": true
              }
            },
            {
              "name": "options",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.EventRuleProps",
                "optional": true
              }
            }
          ],
          "docs": {
            "comment": "Defines a CloudWatch event rule which triggers when a \"CodeCommit\nRepository State Change\" event occurs."
          },
          "name": "onStateChange",
          "returns": {
            "fqn": "jsii$_aws_cdk_events$.EventRule"
          }
        },
        {
          "parameters": [
            {
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "name": "target",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.IEventRuleTarget",
                "optional": true
              }
            },
            {
              "name": "options",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.EventRuleProps",
                "optional": true
              }
            }
          ],
          "docs": {
            "comment": "Defines a CloudWatch event rule which triggers when a reference is\ncreated (i.e. a new brach/tag is created) to the repository."
          },
          "name": "onReferenceCreated",
          "returns": {
            "fqn": "jsii$_aws_cdk_events$.EventRule"
          }
        },
        {
          "parameters": [
            {
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "name": "target",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.IEventRuleTarget",
                "optional": true
              }
            },
            {
              "name": "options",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.EventRuleProps",
                "optional": true
              }
            }
          ],
          "docs": {
            "comment": "Defines a CloudWatch event rule which triggers when a reference is\nupdated (i.e. a commit is pushed to an existig branch) from the repository."
          },
          "name": "onReferenceUpdated",
          "returns": {
            "fqn": "jsii$_aws_cdk_events$.EventRule"
          }
        },
        {
          "parameters": [
            {
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "name": "target",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.IEventRuleTarget",
                "optional": true
              }
            },
            {
              "name": "options",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.EventRuleProps",
                "optional": true
              }
            }
          ],
          "docs": {
            "comment": "Defines a CloudWatch event rule which triggers when a reference is\ndelete (i.e. a branch/tag is deleted) from the repository."
          },
          "name": "onReferenceDeleted",
          "returns": {
            "fqn": "jsii$_aws_cdk_events$.EventRule"
          }
        },
        {
          "parameters": [
            {
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "name": "target",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.IEventRuleTarget",
                "optional": true
              }
            },
            {
              "name": "options",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.EventRuleProps",
                "optional": true
              }
            }
          ],
          "docs": {
            "comment": "Defines a CloudWatch event rule which triggers when a pull request state is changed."
          },
          "name": "onPullRequestStateChange",
          "returns": {
            "fqn": "jsii$_aws_cdk_events$.EventRule"
          }
        },
        {
          "parameters": [
            {
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "name": "target",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.IEventRuleTarget",
                "optional": true
              }
            },
            {
              "name": "options",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.EventRuleProps",
                "optional": true
              }
            }
          ],
          "docs": {
            "comment": "Defines a CloudWatch event rule which triggers when a comment is made on a pull request."
          },
          "name": "onCommentOnPullRequest",
          "returns": {
            "fqn": "jsii$_aws_cdk_events$.EventRule"
          }
        },
        {
          "parameters": [
            {
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "name": "target",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.IEventRuleTarget",
                "optional": true
              }
            },
            {
              "name": "options",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.EventRuleProps",
                "optional": true
              }
            }
          ],
          "docs": {
            "comment": "Defines a CloudWatch event rule which triggers when a comment is made on a commit."
          },
          "name": "onCommentOnCommit",
          "returns": {
            "fqn": "jsii$_aws_cdk_events$.EventRule"
          }
        },
        {
          "parameters": [
            {
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "docs": {
                "param": "target The target of the event",
                "comment": "The target of the event"
              },
              "name": "target",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.IEventRuleTarget",
                "optional": true
              }
            },
            {
              "docs": {
                "param": "branch The branch to monitor. Defaults to all branches.",
                "comment": "The branch to monitor. Defaults to all branches."
              },
              "name": "branch",
              "type": {
                "primitive": "string",
                "optional": true
              }
            }
          ],
          "docs": {
            "comment": "Defines a CloudWatch event rule which triggers when a commit is pushed to a branch."
          },
          "name": "onCommit",
          "returns": {
            "fqn": "jsii$_aws_cdk_events$.EventRule"
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_codecommit$.RepositoryRef",
      "module": "jsii$_aws_cdk_codecommit$",
      "namespace": "jsii$_aws_cdk_codecommit$",
      "name": "RepositoryRef",
      "base": {
        "fqn": "jsii$_aws_cdk_core$.Construct"
      },
      "abstract": true,
      "initializer": {
        "parameters": [
          {
            "docs": {
              "param": "parent The parent construct",
              "comment": "The parent construct"
            },
            "name": "parent",
            "type": {
              "fqn": "jsii$_aws_cdk_core$.Construct"
            }
          },
          {
            "name": "name",
            "type": {
              "primitive": "string"
            }
          }
        ],
        "docs": {
          "comment": "Creates a new construct node."
        },
        "initializer": true
      }
    },
    "jsii$_aws_cdk_core$.Secret": {
      "docs": {
        "comment": "A token that represents a value that's expected to be a secret, like\npasswords and keys.\n\nIt is recommended to use the `SecretParameter` construct in order to import\nsecret values from the SSM Parameter Store instead of storing them in your\ncode.\n\nHowever, you can also just pass in values, like any other token: `new Secret('bla')`"
      },
      "kind": "class",
      "fqn": "jsii$_aws_cdk_core$.Secret",
      "module": "jsii$_aws_cdk_core$",
      "namespace": "jsii$_aws_cdk_core$",
      "name": "Secret",
      "base": {
        "fqn": "jsii$_aws_cdk_core$.Token"
      },
      "initializer": {
        "parameters": [
          {
            "name": "valueOrFunction",
            "type": {
              "primitive": "any",
              "optional": true
            }
          }
        ],
        "docs": {
          "comment": "Creates a token that resolves to `value`. If value is a function,\nthe function is evaluated upon resolution and the value it returns will be\nuesd as the token's value."
        },
        "initializer": true
      }
    },
    "jsii$_aws_cdk_codebuild$.BuildProjectRef": {
      "docs": {
        "comment": "Represents a reference to a CodeBuild Project.\n\nIf you're managing the Project alongside the rest of your CDK resources,\nuse the {@link BuildProject} class.\n\nIf you want to reference an already existing Project\n(or one defined in a different CDK Stack),\nuse the {@link import} method."
      },
      "kind": "class",
      "properties": [
        {
          "docs": {
            "comment": "The ARN of this Project. "
          },
          "name": "projectArn",
          "type": {
            "fqn": "jsii$_aws_cdk_resources$.codebuild.ProjectArn"
          },
          "immutable": true,
          "abstract": true
        },
        {
          "docs": {
            "comment": "The human-visible name of this Project. "
          },
          "name": "projectName",
          "type": {
            "fqn": "jsii$_aws_cdk_codebuild$.ProjectName"
          },
          "immutable": true,
          "abstract": true
        },
        {
          "docs": {
            "comment": "The IAM service Role of this Project. Undefined for imported Projects. "
          },
          "name": "role",
          "type": {
            "fqn": "jsii$_aws_cdk_iam$.Role",
            "optional": true
          },
          "immutable": true,
          "abstract": true
        },
        {
          "docs": {
            "comment": "Allows using build projects as event rule targets."
          },
          "name": "eventRuleTarget",
          "type": {
            "fqn": "jsii$_aws_cdk_events$.EventRuleTarget"
          },
          "immutable": true
        }
      ],
      "methods": [
        {
          "parameters": [
            {
              "docs": {
                "param": "parent the parent Construct for this Construct",
                "comment": "the parent Construct for this Construct"
              },
              "name": "parent",
              "type": {
                "fqn": "jsii$_aws_cdk_core$.Construct"
              }
            },
            {
              "docs": {
                "param": "name the logical name of this Construct",
                "comment": "the logical name of this Construct"
              },
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "docs": {
                "param": "props the properties of the referenced Project",
                "comment": "the properties of the referenced Project"
              },
              "name": "props",
              "type": {
                "fqn": "jsii$_aws_cdk_codebuild$.BuildProjectRefProps"
              }
            }
          ],
          "docs": {
            "note": "if you're importing a CodeBuild Project for use\nin a CodePipeline, make sure the existing Project\nhas permissions to access the S3 Bucket of that Pipeline -\notherwise, builds in that Pipeline will always fail.",
            "returns": "a reference to the existing Project",
            "comment": "Import a Project defined either outside the CDK,\nor in a different CDK Stack\n(and exported using the {@link export} method)."
          },
          "name": "import",
          "static": true,
          "returns": {
            "fqn": "jsii$_aws_cdk_codebuild$.BuildProjectRef"
          }
        },
        {
          "docs": {
            "comment": "Export this Project. Allows referencing this Project in a different CDK Stack."
          },
          "name": "export",
          "returns": {
            "fqn": "jsii$_aws_cdk_codebuild$.BuildProjectRefProps"
          }
        },
        {
          "parameters": [
            {
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "name": "target",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.IEventRuleTarget",
                "optional": true
              }
            },
            {
              "name": "options",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.EventRuleProps",
                "optional": true
              }
            }
          ],
          "docs": {
            "see": "https://docs.aws.amazon.com/codebuild/latest/userguide/sample-build-notifications.html",
            "comment": "Defines a CloudWatch event rule triggered when the build project state\nchanges. You can filter specific build status events using an event\npattern filter on the `build-status` detail field:\n\n      const rule = project.onStateChange('OnBuildStarted', target);\n      rule.addEventPattern({\n          detail: {\n              'build-status': [\n                  \"IN_PROGRESS\",\n                  \"SUCCEEDED\",\n                  \"FAILED\",\n                  \"STOPPED\"\n              ]\n          }\n      });\n\nYou can also use the methods `onBuildFailed` and `onBuildSucceeded` to define rules for\nthese specific state changes."
          },
          "name": "onStateChange",
          "returns": {
            "fqn": "jsii$_aws_cdk_events$.EventRule"
          }
        },
        {
          "parameters": [
            {
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "name": "target",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.IEventRuleTarget",
                "optional": true
              }
            },
            {
              "name": "options",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.EventRuleProps",
                "optional": true
              }
            }
          ],
          "docs": {
            "see": "https://docs.aws.amazon.com/codebuild/latest/userguide/sample-build-notifications.html",
            "comment": "Defines a CloudWatch event rule that triggers upon phase change of this\nbuild project."
          },
          "name": "onPhaseChange",
          "returns": {
            "fqn": "jsii$_aws_cdk_events$.EventRule"
          }
        },
        {
          "parameters": [
            {
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "name": "target",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.IEventRuleTarget",
                "optional": true
              }
            },
            {
              "name": "options",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.EventRuleProps",
                "optional": true
              }
            }
          ],
          "docs": {
            "comment": "Defines an event rule which triggers when a build starts."
          },
          "name": "onBuildStarted",
          "returns": {
            "fqn": "jsii$_aws_cdk_events$.EventRule"
          }
        },
        {
          "parameters": [
            {
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "name": "target",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.IEventRuleTarget",
                "optional": true
              }
            },
            {
              "name": "options",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.EventRuleProps",
                "optional": true
              }
            }
          ],
          "docs": {
            "comment": "Defines an event rule which triggers when a build fails."
          },
          "name": "onBuildFailed",
          "returns": {
            "fqn": "jsii$_aws_cdk_events$.EventRule"
          }
        },
        {
          "parameters": [
            {
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "name": "target",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.IEventRuleTarget",
                "optional": true
              }
            },
            {
              "name": "options",
              "type": {
                "fqn": "jsii$_aws_cdk_events$.EventRuleProps",
                "optional": true
              }
            }
          ],
          "docs": {
            "comment": "Defines an event rule which triggers when a build completes successfully."
          },
          "name": "onBuildSucceeded",
          "returns": {
            "fqn": "jsii$_aws_cdk_events$.EventRule"
          }
        }
      ],
      "interfaces": [
        {
          "fqn": "jsii$_aws_cdk_events$.IEventRuleTarget"
        }
      ],
      "fqn": "jsii$_aws_cdk_codebuild$.BuildProjectRef",
      "module": "jsii$_aws_cdk_codebuild$",
      "namespace": "jsii$_aws_cdk_codebuild$",
      "name": "BuildProjectRef",
      "base": {
        "fqn": "jsii$_aws_cdk_core$.Construct"
      },
      "abstract": true,
      "initializer": {
        "parameters": [
          {
            "docs": {
              "param": "parent The parent construct",
              "comment": "The parent construct"
            },
            "name": "parent",
            "type": {
              "fqn": "jsii$_aws_cdk_core$.Construct"
            }
          },
          {
            "name": "name",
            "type": {
              "primitive": "string"
            }
          }
        ],
        "docs": {
          "comment": "Creates a new construct node."
        },
        "initializer": true
      }
    },
    "jsii$_aws_cdk_lambda$.LambdaRef": {
      "kind": "class",
      "properties": [
        {
          "docs": {
            "comment": "The name of the function."
          },
          "name": "functionName",
          "type": {
            "fqn": "jsii$_aws_cdk_lambda$.FunctionName"
          },
          "immutable": true,
          "abstract": true
        },
        {
          "docs": {
            "comment": "The ARN fo the function."
          },
          "name": "functionArn",
          "type": {
            "fqn": "jsii$_aws_cdk_resources$.lambda.FunctionArn"
          },
          "immutable": true,
          "abstract": true
        },
        {
          "docs": {
            "comment": "The IAM role associated with this function."
          },
          "name": "role",
          "type": {
            "fqn": "jsii$_aws_cdk_iam$.Role",
            "optional": true
          },
          "immutable": true,
          "abstract": true
        },
        {
          "docs": {
            "comment": "Whether the addPermission() call adds any permissions\n\nTrue for new Lambdas, false for imported Lambdas (they might live in different accounts)."
          },
          "name": "canCreatePermissions",
          "type": {
            "primitive": "boolean"
          },
          "immutable": true,
          "protected": true,
          "abstract": true
        },
        {
          "docs": {
            "comment": "Returns a RuleTarget that can be used to trigger this Lambda as a\nresult from a CloudWatch event."
          },
          "name": "eventRuleTarget",
          "type": {
            "fqn": "jsii$_aws_cdk_events$.EventRuleTarget"
          },
          "immutable": true
        }
      ],
      "methods": [
        {
          "parameters": [
            {
              "docs": {
                "param": "parent The parent construct",
                "comment": "The parent construct"
              },
              "name": "parent",
              "type": {
                "fqn": "jsii$_aws_cdk_core$.Construct"
              }
            },
            {
              "docs": {
                "param": "name The name of the lambda construct",
                "comment": "The name of the lambda construct"
              },
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "docs": {
                "param": "ref A reference to a Lambda function. Can be created manually (see\nexample above) or obtained through a call to `lambda.export()`.",
                "comment": "A reference to a Lambda function. Can be created manually (see\nexample above) or obtained through a call to `lambda.export()`."
              },
              "name": "ref",
              "type": {
                "fqn": "jsii$_aws_cdk_lambda$.LambdaRefProps"
              }
            }
          ],
          "docs": {
            "comment": "Creates a Lambda function object which represents a function not defined\nwithin this stack.\n\n      Lambda.import(this, 'MyImportedFunction', { lambdaArn: new LambdaArn('arn:aws:...') });"
          },
          "name": "import",
          "static": true,
          "returns": {
            "fqn": "jsii$_aws_cdk_lambda$.LambdaRef"
          }
        },
        {
          "parameters": [
            {
              "docs": {
                "param": "name A name for the permission construct",
                "comment": "A name for the permission construct"
              },
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "name": "permission",
              "type": {
                "fqn": "jsii$_aws_cdk_lambda$.LambdaPermission"
              }
            }
          ],
          "docs": {
            "comment": "Adds a permission to the Lambda resource policy."
          },
          "name": "addPermission"
        },
        {
          "parameters": [
            {
              "name": "statement",
              "type": {
                "fqn": "jsii$_aws_cdk_core$.PolicyStatement"
              }
            }
          ],
          "name": "addToRolePolicy"
        }
      ],
      "interfaces": [
        {
          "fqn": "jsii$_aws_cdk_events$.IEventRuleTarget"
        }
      ],
      "fqn": "jsii$_aws_cdk_lambda$.LambdaRef",
      "module": "jsii$_aws_cdk_lambda$",
      "namespace": "jsii$_aws_cdk_lambda$",
      "name": "LambdaRef",
      "base": {
        "fqn": "jsii$_aws_cdk_core$.Construct"
      },
      "abstract": true,
      "initializer": {
        "parameters": [
          {
            "docs": {
              "param": "parent The parent construct",
              "comment": "The parent construct"
            },
            "name": "parent",
            "type": {
              "fqn": "jsii$_aws_cdk_core$.Construct"
            }
          },
          {
            "name": "name",
            "type": {
              "primitive": "string"
            }
          }
        ],
        "docs": {
          "comment": "Creates a new construct node."
        },
        "initializer": true
      }
    },
    "jsii$_aws_cdk_core$.Token": {
      "docs": {
        "comment": "Represents a lazy-evaluated value. Can be used to delay evaluation of a certain value\nin case, for example, that it requires some context or late-bound data."
      },
      "kind": "class",
      "methods": [
        {
          "docs": {
            "returns": "The resolved value for this token."
          },
          "name": "resolve",
          "returns": {
            "primitive": "any"
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_core$.Token",
      "module": "jsii$_aws_cdk_core$",
      "namespace": "jsii$_aws_cdk_core$",
      "name": "Token",
      "initializer": {
        "parameters": [
          {
            "name": "valueOrFunction",
            "type": {
              "primitive": "any",
              "optional": true
            }
          }
        ],
        "docs": {
          "comment": "Creates a token that resolves to `value`. If value is a function,\nthe function is evaluated upon resolution and the value it returns will be\nuesd as the token's value."
        },
        "initializer": true
      }
    },
    "jsii$_aws_cdk_core$.Arn": {
      "docs": {
        "comment": "An Amazon Resource Name (ARN).\nhttp://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html"
      },
      "kind": "class",
      "methods": [
        {
          "parameters": [
            {
              "name": "components",
              "type": {
                "fqn": "jsii$_aws_cdk_core$.ArnComponents"
              }
            }
          ],
          "docs": {
            "comment": "Creates an ARN from components.\nIf any component is the empty string,\nan empty string will be inserted into the generated ARN\nat the location that component corresponds to."
          },
          "name": "fromComponents",
          "static": true,
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.Arn"
          }
        },
        {
          "parameters": [
            {
              "name": "arn",
              "type": {
                "primitive": "string"
              }
            }
          ],
          "docs": {
            "returns": "an ArnComponents object which allows access to the various\ncomponents of the ARN.",
            "comment": "Given an ARN, parses it and returns components.\n\nThe ARN it will be parsed and validated. The separator (`sep`) will be\nset to '/' if the 6th component includes a '/', in which case, `resource`\nwill be set to the value before the '/' and `resourceName` will be the\nrest. In case there is no '/', `resource` will be set to the 6th\ncomponents and `resourceName` will be set to the rest of the string."
          },
          "name": "parse",
          "static": true,
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.ArnComponents"
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_core$.Arn",
      "module": "jsii$_aws_cdk_core$",
      "namespace": "jsii$_aws_cdk_core$",
      "name": "Arn",
      "base": {
        "fqn": "jsii$_aws_cdk_core$.Token"
      },
      "initializer": {
        "parameters": [
          {
            "name": "valueOrFunction",
            "type": {
              "primitive": "any",
              "optional": true
            }
          }
        ],
        "docs": {
          "comment": "Creates a token that resolves to `value`. If value is a function,\nthe function is evaluated upon resolution and the value it returns will be\nuesd as the token's value."
        },
        "initializer": true
      }
    },
    "jsii$_aws_cdk_iam$.Role": {
      "docs": {
        "comment": "IAM Role\n\nDefines an IAM role. The role is created with an assume policy document associated with\nthe specified AWS service principal defined in `serviceAssumeRole`."
      },
      "kind": "class",
      "properties": [
        {
          "docs": {
            "comment": "The assume role policy document associated with this role."
          },
          "name": "assumeRolePolicy",
          "type": {
            "fqn": "jsii$_aws_cdk_core$.PolicyDocument",
            "optional": true
          },
          "immutable": true
        },
        {
          "docs": {
            "comment": "Returns the ARN of this role."
          },
          "name": "roleArn",
          "type": {
            "fqn": "jsii$_aws_cdk_resources$.iam.RoleArn"
          },
          "immutable": true
        },
        {
          "docs": {
            "comment": "Returns the name of the role."
          },
          "name": "roleName",
          "type": {
            "fqn": "jsii$_aws_cdk_iam$.RoleName"
          },
          "immutable": true
        },
        {
          "docs": {
            "comment": "Returns the ARN of this role."
          },
          "name": "principal",
          "type": {
            "fqn": "jsii$_aws_cdk_core$.PolicyPrincipal"
          },
          "immutable": true
        },
        {
          "docs": {
            "comment": "Returns the role."
          },
          "name": "dependencyElements",
          "type": {
            "collection": {
              "elementtype": {
                "fqn": "jsii$_aws_cdk_core$.IDependable"
              },
              "kind": "array"
            }
          },
          "immutable": true
        }
      ],
      "methods": [
        {
          "parameters": [
            {
              "name": "statement",
              "type": {
                "fqn": "jsii$_aws_cdk_core$.PolicyStatement"
              }
            }
          ],
          "docs": {
            "comment": "Adds a permission to the role's default policy document.\nIf there is no default policy attached to this role, it will be created."
          },
          "name": "addToPolicy"
        },
        {
          "parameters": [
            {
              "docs": {
                "param": "arn The ARN of the managed policy to attach.",
                "comment": "The ARN of the managed policy to attach."
              },
              "name": "arn",
              "type": {
                "primitive": "any"
              }
            }
          ],
          "docs": {
            "comment": "Attaches a managed policy to this role."
          },
          "name": "attachManagedPolicy"
        },
        {
          "parameters": [
            {
              "docs": {
                "param": "policy The policy to attach",
                "comment": "The policy to attach"
              },
              "name": "policy",
              "type": {
                "fqn": "jsii$_aws_cdk_iam$.Policy"
              }
            }
          ],
          "docs": {
            "comment": "Attaches a policy to this role."
          },
          "name": "attachInlinePolicy"
        }
      ],
      "interfaces": [
        {
          "fqn": "jsii$_aws_cdk_iam$.IIdentityResource"
        },
        {
          "fqn": "jsii$_aws_cdk_core$.IDependable"
        }
      ],
      "fqn": "jsii$_aws_cdk_iam$.Role",
      "module": "jsii$_aws_cdk_iam$",
      "namespace": "jsii$_aws_cdk_iam$",
      "name": "Role",
      "base": {
        "fqn": "jsii$_aws_cdk_core$.Construct"
      },
      "initializer": {
        "parameters": [
          {
            "name": "parent",
            "type": {
              "fqn": "jsii$_aws_cdk_core$.Construct"
            }
          },
          {
            "name": "name",
            "type": {
              "primitive": "string"
            }
          },
          {
            "name": "props",
            "type": {
              "fqn": "jsii$_aws_cdk_iam$.RoleProps"
            }
          }
        ],
        "initializer": true
      }
    },
    "jsii$_aws_cdk_core$.PolicyStatement": {
      "docs": {
        "comment": "Represents a statement in an IAM policy document."
      },
      "subtypes": [
        "jsii$_aws_cdk_core$.PolicyStatement.Effect"
      ],
      "kind": "class",
      "properties": [
        {
          "docs": {
            "comment": "Indicates if this permission has a \"Principal\" section."
          },
          "name": "hasPrincipal",
          "type": {
            "primitive": "boolean"
          },
          "immutable": true
        },
        {
          "docs": {
            "comment": "Indicates if this permission as at least one resource associated with it."
          },
          "name": "hasResource",
          "type": {
            "primitive": "boolean"
          },
          "immutable": true
        },
        {
          "docs": {
            "comment": "Indicates if this permission has only a ``\"*\"`` resource associated with it."
          },
          "name": "isOnlyStarResource",
          "type": {
            "primitive": "boolean"
          },
          "immutable": true
        }
      ],
      "methods": [
        {
          "parameters": [
            {
              "name": "action",
              "type": {
                "primitive": "string"
              }
            }
          ],
          "name": "addAction",
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.PolicyStatement"
          }
        },
        {
          "parameters": [
            {
              "name": "actions",
              "type": {
                "primitive": "string"
              },
              "variadic": true
            }
          ],
          "name": "addActions",
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.PolicyStatement"
          },
          "variadic": true
        },
        {
          "parameters": [
            {
              "name": "principal",
              "type": {
                "fqn": "jsii$_aws_cdk_core$.PolicyPrincipal"
              }
            }
          ],
          "name": "addPrincipal",
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.PolicyStatement"
          }
        },
        {
          "parameters": [
            {
              "name": "arn",
              "type": {
                "primitive": "any"
              }
            }
          ],
          "name": "addAwsPrincipal",
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.PolicyStatement"
          }
        },
        {
          "parameters": [
            {
              "name": "accountId",
              "type": {
                "primitive": "any"
              }
            }
          ],
          "name": "addAwsAccountPrincipal",
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.PolicyStatement"
          }
        },
        {
          "parameters": [
            {
              "name": "service",
              "type": {
                "primitive": "any"
              }
            }
          ],
          "name": "addServicePrincipal",
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.PolicyStatement"
          }
        },
        {
          "parameters": [
            {
              "name": "federated",
              "type": {
                "primitive": "any"
              }
            },
            {
              "name": "conditions",
              "type": {
                "collection": {
                  "elementtype": {
                    "primitive": "any"
                  },
                  "kind": "map"
                }
              }
            }
          ],
          "name": "addFederatedPrincipal",
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.PolicyStatement"
          }
        },
        {
          "name": "addAccountRootPrincipal",
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.PolicyStatement"
          }
        },
        {
          "parameters": [
            {
              "name": "resource",
              "type": {
                "primitive": "any"
              }
            }
          ],
          "name": "addResource",
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.PolicyStatement"
          }
        },
        {
          "docs": {
            "comment": "Adds a ``\"*\"`` resource to this statement."
          },
          "name": "addAllResources",
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.PolicyStatement"
          }
        },
        {
          "parameters": [
            {
              "name": "resources",
              "type": {
                "primitive": "any"
              },
              "variadic": true
            }
          ],
          "name": "addResources",
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.PolicyStatement"
          },
          "variadic": true
        },
        {
          "parameters": [
            {
              "name": "sid",
              "type": {
                "primitive": "any"
              }
            }
          ],
          "name": "describe",
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.PolicyStatement"
          }
        },
        {
          "docs": {
            "comment": "Sets the permission effect to deny access to resources."
          },
          "name": "allow",
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.PolicyStatement"
          }
        },
        {
          "docs": {
            "comment": "Sets the permission effect to allow access to resources."
          },
          "name": "deny",
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.PolicyStatement"
          }
        },
        {
          "parameters": [
            {
              "name": "key",
              "type": {
                "primitive": "string"
              }
            },
            {
              "name": "value",
              "type": {
                "primitive": "any"
              }
            }
          ],
          "docs": {
            "comment": "Add a condition to the Policy"
          },
          "name": "addCondition",
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.PolicyStatement"
          }
        },
        {
          "parameters": [
            {
              "name": "conditions",
              "type": {
                "collection": {
                  "elementtype": {
                    "primitive": "any"
                  },
                  "kind": "map"
                }
              }
            }
          ],
          "docs": {
            "comment": "Add multiple conditions to the Policy"
          },
          "name": "addConditions",
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.PolicyStatement"
          }
        },
        {
          "parameters": [
            {
              "name": "key",
              "type": {
                "primitive": "string"
              }
            },
            {
              "name": "value",
              "type": {
                "primitive": "any"
              }
            }
          ],
          "docs": {
            "deprecated": "For backwards compatibility. Use addCondition() instead.",
            "comment": "Add a condition to the Policy."
          },
          "name": "setCondition",
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.PolicyStatement"
          }
        },
        {
          "parameters": [
            {
              "name": "accountId",
              "type": {
                "primitive": "any"
              }
            }
          ],
          "name": "limitToAccount",
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.PolicyStatement"
          }
        },
        {
          "name": "resolve",
          "returns": {
            "primitive": "any"
          }
        },
        {
          "name": "toJson",
          "returns": {
            "primitive": "any"
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_core$.PolicyStatement",
      "module": "jsii$_aws_cdk_core$",
      "namespace": "jsii$_aws_cdk_core$",
      "name": "PolicyStatement",
      "base": {
        "fqn": "jsii$_aws_cdk_core$.Token"
      },
      "initializer": {
        "parameters": [
          {
            "name": "effect",
            "type": {
              "fqn": "jsii$_aws_cdk_core$.PolicyStatement.Effect",
              "optional": true
            }
          }
        ],
        "initializer": true
      }
    },
    "jsii$_aws_cdk_events$.EventRuleTarget": {
      "kind": "interface",
      "properties": [
        {
          "docs": {
            "comment": "A unique, user-defined identifier for the target. Acceptable values\ninclude alphanumeric characters, periods (.), hyphens (-), and\nunderscores (_)."
          },
          "name": "id",
          "type": {
            "primitive": "string"
          }
        },
        {
          "docs": {
            "comment": "The Amazon Resource Name (ARN) of the target."
          },
          "name": "arn",
          "type": {
            "fqn": "jsii$_aws_cdk_core$.Arn"
          }
        },
        {
          "docs": {
            "comment": "The Amazon Resource Name (ARN) of the AWS Identity and Access Management\n(IAM) role to use for this target when the rule is triggered. If one rule\ntriggers multiple targets, you can use a different IAM role for each\ntarget."
          },
          "name": "roleArn",
          "type": {
            "fqn": "jsii$_aws_cdk_resources$.iam.RoleArn",
            "optional": true
          }
        },
        {
          "docs": {
            "comment": "The Amazon ECS task definition and task count to use, if the event target\nis an Amazon ECS task."
          },
          "name": "ecsParameters",
          "type": {
            "fqn": "jsii$_aws_cdk_resources$.events.RuleResource.EcsParametersProperty",
            "optional": true
          }
        },
        {
          "docs": {
            "comment": "Settings that control shard assignment, when the target is a Kinesis\nstream. If you don't include this parameter, eventId is used as the\npartition key."
          },
          "name": "kinesisParameters",
          "type": {
            "fqn": "jsii$_aws_cdk_resources$.events.RuleResource.KinesisParametersProperty",
            "optional": true
          }
        },
        {
          "docs": {
            "comment": "Parameters used when the rule invokes Amazon EC2 Systems Manager Run\nCommand."
          },
          "name": "runCommandParameters",
          "type": {
            "fqn": "jsii$_aws_cdk_resources$.events.RuleResource.RunCommandParametersProperty",
            "optional": true
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_events$.EventRuleTarget",
      "module": "jsii$_aws_cdk_events$",
      "namespace": "jsii$_aws_cdk_events$",
      "name": "EventRuleTarget",
      "datatype": true
    },
    "jsii$_aws_cdk_resources$.codepipeline.PipelineResource.StageDeclarationProperty": {
      "docs": {
        "link": "http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-codepipeline-pipeline-stages.html"
      },
      "kind": "interface",
      "properties": [
        {
          "docs": {
            "link": "http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-codepipeline-pipeline-stages.html#cfn-codepipeline-pipeline-stages-actions",
            "comment": "PipelineResource.StageDeclarationProperty.Actions"
          },
          "name": "actions",
          "type": {
            "union": {
              "types": [
                {
                  "fqn": "jsii$_aws_cdk_core$.Token"
                },
                {
                  "collection": {
                    "elementtype": {
                      "union": {
                        "types": [
                          {
                            "fqn": "jsii$_aws_cdk_core$.Token"
                          },
                          {
                            "fqn": "jsii$_aws_cdk_resources$.codepipeline.PipelineResource.ActionDeclarationProperty"
                          }
                        ]
                      }
                    },
                    "kind": "array"
                  }
                }
              ]
            }
          }
        },
        {
          "docs": {
            "link": "http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-codepipeline-pipeline-stages.html#cfn-codepipeline-pipeline-stages-blockers",
            "comment": "PipelineResource.StageDeclarationProperty.Blockers"
          },
          "name": "blockers",
          "type": {
            "union": {
              "types": [
                {
                  "fqn": "jsii$_aws_cdk_core$.Token"
                },
                {
                  "collection": {
                    "elementtype": {
                      "union": {
                        "types": [
                          {
                            "fqn": "jsii$_aws_cdk_core$.Token"
                          },
                          {
                            "fqn": "jsii$_aws_cdk_resources$.codepipeline.PipelineResource.BlockerDeclarationProperty"
                          }
                        ]
                      }
                    },
                    "kind": "array"
                  }
                }
              ]
            },
            "optional": true
          }
        },
        {
          "docs": {
            "link": "http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-codepipeline-pipeline-stages.html#cfn-codepipeline-pipeline-stages-name",
            "comment": "PipelineResource.StageDeclarationProperty.Name"
          },
          "name": "name",
          "type": {
            "union": {
              "types": [
                {
                  "primitive": "string"
                },
                {
                  "fqn": "jsii$_aws_cdk_core$.Token"
                }
              ]
            }
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_resources$.codepipeline.PipelineResource.StageDeclarationProperty",
      "module": "jsii$_aws_cdk_resources$",
      "namespace": "jsii$_aws_cdk_resources$.codepipeline.PipelineResource",
      "name": "StageDeclarationProperty",
      "datatype": true,
      "parenttype": "jsii$_aws_cdk_resources$.codepipeline.PipelineResource"
    }
  },
  "name": "jsii$_aws_cdk_codepipeline$",
  "package": "@aws-cdk/codepipeline",
  "version": "0.7.2-beta",
  "dependencies": {
    "jsii$_aws_cdk_codebuild$": {
      "package": "@aws-cdk/codebuild",
      "version": "0.7.2-beta"
    },
    "jsii$_aws_cdk_codecommit$": {
      "package": "@aws-cdk/codecommit",
      "version": "0.7.2-beta"
    },
    "jsii$_aws_cdk_core$": {
      "package": "@aws-cdk/core",
      "version": "0.7.2-beta"
    },
    "jsii$_aws_cdk_events$": {
      "package": "@aws-cdk/events",
      "version": "0.7.2-beta"
    },
    "jsii$_aws_cdk_iam$": {
      "package": "@aws-cdk/iam",
      "version": "0.7.2-beta"
    },
    "jsii$_aws_cdk_lambda$": {
      "package": "@aws-cdk/lambda",
      "version": "0.7.2-beta"
    },
    "jsii$_aws_cdk_resources$": {
      "package": "@aws-cdk/resources",
      "version": "0.7.2-beta"
    },
    "jsii$_aws_cdk_s3$": {
      "package": "@aws-cdk/s3",
      "version": "0.7.2-beta"
    }
  },
  "bundled": {
    "@aws-cdk/util": "^0.7.2-beta"
  },
  "names": {
    "java": "com.amazonaws.cdk.codepipeline",
    "dotnet": "Aws.Cdk.CodePipeline",
    "js": "@aws-cdk/codepipeline"
  },
  "nativenames": {
    "jsii$_aws_cdk_codebuild$": {
      "java": "com.amazonaws.cdk.codebuild",
      "dotnet": "Aws.Cdk.CodeBuild",
      "js": "@aws-cdk/codebuild"
    },
    "jsii$_aws_cdk_codecommit$": {
      "java": "com.amazonaws.cdk.codecommit",
      "dotnet": "Aws.Cdk.CodeCommit",
      "js": "@aws-cdk/codecommit"
    },
    "jsii$_aws_cdk_core$": {
      "java": "com.amazonaws.cdk",
      "dotnet": "Aws.Cdk",
      "js": "@aws-cdk/core"
    },
    "jsii$_aws_cdk_events$": {
      "java": "com.amazonaws.cdk.events",
      "dotnet": "Aws.Cdk.Events",
      "js": "@aws-cdk/events"
    },
    "jsii$_aws_cdk_iam$": {
      "java": "com.amazonaws.cdk.iam",
      "dotnet": "Aws.Cdk.Iam",
      "js": "@aws-cdk/iam"
    },
    "jsii$_aws_cdk_lambda$": {
      "java": "com.amazonaws.cdk.lambda",
      "dotnet": "Aws.Cdk.Lambda",
      "js": "@aws-cdk/lambda"
    },
    "jsii$_aws_cdk_resources$": {
      "java": "com.amazonaws.cdk.resources",
      "dotnet": "Aws.Cdk.Resources",
      "js": "@aws-cdk/resources"
    },
    "jsii$_aws_cdk_s3$": {
      "java": "com.amazonaws.cdk.s3",
      "dotnet": "Aws.Cdk.S3",
      "js": "@aws-cdk/s3"
    },
    "jsii$_aws_cdk_codepipeline$": {
      "java": "com.amazonaws.cdk.codepipeline",
      "dotnet": "Aws.Cdk.CodePipeline",
      "js": "@aws-cdk/codepipeline"
    }
  },
  "readme": {
    "markdown": "## AWS CodePipeline construct library\n\nConstruct an empty pipeline:\n\n```ts\nconst pipeline = new Pipeline(this, 'MyFirstPipeline');\n```\n\nAll of the components of a pipeline are modeled as constructs.\n\nAppend a stage to the pipeline:\n\n```ts\nconst sourceStage = new Stage(pipeline, 'Source');\n```\n\nAdd an action to a stage:\n\n```ts\nnew CodeCommitSource(sourceStage, 'source', {\n    artifactName: 'MyPackageSourceArtifact',\n    repository: 'MyPackage'\n})\n```\n\n### Events\n\n#### Using a pipeline as an event target\n\nA pipeline can be used as a target for a CloudWatch event rule:\n\n```ts\n// kick off the pipeline every day\nconst rule = new EventRule(this, 'Daily', { scheduleExpression: 'rate(1 day)' });\nrule.addTarget(pipeline);\n```\n\nWhen a pipeline is used as an event target, the\n\"codepipeline:StartPipelineExecution\" permission is granted to the AWS\nCloudWatch Events service.\n\n#### Event sources\n\nPipelines emit CloudWatch events. To define event rules for events emitted by\nthe pipeline, stages or action, use the `onXxx` methods on the respective\nconstruct:\n\n```ts\nmyPipeline.onStateChange('MyPipelineStateChage', target);\nmyStage.onStateChange('MyStageStateChange', target);\nmyAction.onStateChange('MyActioStateChange', target);\n```\n"
  },
  "code": "var jsii$_aws_cdk_codepipeline$ =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 8);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = jsii$_aws_cdk_core$;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst actions_1 = __webpack_require__(2);\n/**\n * Validation function that checks if the number of artifacts is within the given bounds\n */\nfunction validateArtifactBounds(type, artifacts, min, max, category, provider) {\n    const ret = [];\n    if (artifacts.length < min) {\n        ret.push(`${category}/${provider} must have at least ${min} ${type} artifacts`);\n    }\n    if (artifacts.length > max) {\n        ret.push(`${category}/${provider} cannot have more than ${max} ${type} artifacts`);\n    }\n    return ret;\n}\nexports.validateArtifactBounds = validateArtifactBounds;\n/**\n * Validation function that guarantees that an action is or is not a source action. This is useful because Source actions can only be\n * in the first stage of a pipeline, and the first stage can only contain source actions.\n */\nfunction validateSourceAction(mustBeSource, category, actionName, stageName) {\n    if (mustBeSource !== (category === actions_1.ActionCategory.Source)) {\n        return [`Action ${actionName} in stage ${stageName}: ` + (mustBeSource ? 'first stage may only contain Source actions'\n                : 'Source actions may only occur in first stage')];\n    }\n    return [];\n}\nexports.validateSourceAction = validateSourceAction;\n/**\n * Regex to validate Pipeline, Stage, Action names\n *\n * https://docs.aws.amazon.com/codepipeline/latest/userguide/limits.html\n */\nconst VALID_IDENTIFIER_REGEX = /^[a-zA-Z0-9.@_-]{1,100}$/;\n/**\n * Validate the given name of a pipeline component. Pipeline component names all have the same restrictions.\n * This can be used to validate the name of all components of a pipeline.\n */\nfunction validateName(thing, name) {\n    if (name !== undefined && !VALID_IDENTIFIER_REGEX.test(name)) {\n        throw new Error(`${thing} name must match regular expression: ${VALID_IDENTIFIER_REGEX.toString()}, got '${name}'`);\n    }\n}\nexports.validateName = validateName;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst core_1 = __webpack_require__(0);\nconst events_1 = __webpack_require__(3);\nconst artifact_1 = __webpack_require__(4);\nconst validation = __webpack_require__(1);\nconst validation_1 = __webpack_require__(1);\nvar ActionCategory;\n(function (ActionCategory) {\n    ActionCategory[\"Source\"] = \"Source\";\n    ActionCategory[\"Build\"] = \"Build\";\n    ActionCategory[\"Test\"] = \"Test\";\n    ActionCategory[\"Approval\"] = \"Approval\";\n    ActionCategory[\"Deploy\"] = \"Deploy\";\n    ActionCategory[\"Invoke\"] = \"Invoke\";\n})(ActionCategory = exports.ActionCategory || (exports.ActionCategory = {}));\nfunction defaultBounds() {\n    return {\n        minInputs: 0,\n        maxInputs: 5,\n        minOutputs: 0,\n        maxOutputs: 5\n    };\n}\n/**\n * Low level class for generically creating pipeline actions.\n * It is recommended that concrete types are used instead, such as {@link CodeCommitSource} or\n * {@link CodeBuildAction}.\n */\nclass Action extends core_1.Construct {\n    constructor(parent, name, props) {\n        super(parent, name);\n        this.inputArtifacts = new Array();\n        this.outputArtifacts = new Array();\n        validation.validateName('Action', name);\n        this.owner = props.owner || 'AWS';\n        this.version = props.version || '1';\n        this.category = props.category;\n        this.provider = props.provider;\n        this.configuration = props.configuration;\n        this.artifactBounds = props.artifactBounds;\n        this.runOrder = 1;\n        this.stage = parent;\n    }\n    validate() {\n        return validation_1.validateArtifactBounds('input', this.inputArtifacts, this.artifactBounds.minInputs, this.artifactBounds.maxInputs, this.category, this.provider).concat(validation_1.validateArtifactBounds('output', this.outputArtifacts, this.artifactBounds.minOutputs, this.artifactBounds.maxOutputs, this.category, this.provider));\n    }\n    /**\n     * Render the Action to a CloudFormation struct\n     */\n    render() {\n        return {\n            name: this.name,\n            inputArtifacts: this.inputArtifacts.map(a => ({ name: a.name })),\n            actionTypeId: {\n                category: this.category.toString(),\n                version: this.version,\n                owner: this.owner,\n                provider: this.provider,\n            },\n            configuration: this.configuration,\n            outputArtifacts: this.outputArtifacts.map(a => ({ name: a.name })),\n            runOrder: this.runOrder\n        };\n    }\n    onStateChange(name, target, options) {\n        const rule = new events_1.EventRule(this.stage.pipeline, name, options);\n        rule.addTarget(target);\n        rule.addEventPattern({\n            detailType: ['CodePipeline Stage Execution State Change'],\n            source: ['aws.codepipeline'],\n            resources: [this.stage.pipeline.pipelineArn],\n            detail: {\n                stage: [this.stage.name],\n                action: [this.name],\n            },\n        });\n        return rule;\n    }\n    /**\n     * If an Artifact is added as a child, add it to the list of output artifacts.\n     */\n    addChild(child, name) {\n        super.addChild(child, name);\n        if (child instanceof artifact_1.Artifact) {\n            this.outputArtifacts.push(child);\n        }\n    }\n    addOutputArtifact(name) {\n        const artifact = new artifact_1.Artifact(this, name);\n        return artifact;\n    }\n    addInputArtifact(artifact) {\n        this.inputArtifacts.push(artifact);\n        return this;\n    }\n}\nexports.Action = Action;\n/**\n * Low level class for source actions.\n * It is recommended that concrete types are used instead, such as {@link AmazonS3Source} or\n * {@link CodeCommitSource}.\n */\nclass Source extends Action {\n    constructor(parent, name, props) {\n        super(parent, name, {\n            category: ActionCategory.Source,\n            owner: props.owner,\n            provider: props.provider,\n            version: props.version,\n            artifactBounds: { minInputs: 0, maxInputs: 0, minOutputs: 1, maxOutputs: 1 },\n            configuration: props.configuration\n        });\n        this.artifact = this.addOutputArtifact(props.artifactName);\n    }\n}\nexports.Source = Source;\n/**\n * Source that is provided by a specific Amazon S3 object\n */\nclass AmazonS3Source extends Source {\n    constructor(parent, name, props) {\n        super(parent, name, {\n            provider: 'S3',\n            configuration: {\n                S3Bucket: props.bucket.bucketName,\n                S3ObjectKey: props.bucketKey,\n                PollForSourceChanges: props.pollForSourceChanges || true\n            },\n            artifactName: props.artifactName\n        });\n        // pipeline needs permissions to read from the S3 bucket\n        props.bucket.grantRead(parent.pipeline.role);\n    }\n}\nexports.AmazonS3Source = AmazonS3Source;\n/**\n * Source that is provided by an AWS CodeCommit repository\n */\nclass CodeCommitSource extends Source {\n    constructor(parent, name, props) {\n        super(parent, name, {\n            provider: 'CodeCommit',\n            configuration: {\n                RepositoryName: props.repository.repositoryName,\n                BranchName: props.branch || 'master',\n                PollForSourceChanges: props.pollForSourceChanges || true\n            },\n            artifactName: props.artifactName\n        });\n        // https://docs.aws.amazon.com/codecommit/latest/userguide/auth-and-access-control-permissions-reference.html#aa-acp\n        const actions = [\n            'codecommit:GetBranch',\n            'codecommit:GetCommit',\n            'codecommit:UploadArchive',\n            'codecommit:GetUploadArchiveStatus',\n            'codecommit:CancelUploadArchive',\n        ];\n        parent.pipeline.addToRolePolicy(new core_1.PolicyStatement()\n            .addResource(props.repository.repositoryArn)\n            .addActions(...actions));\n    }\n}\nexports.CodeCommitSource = CodeCommitSource;\n/**\n * Source that is provided by a GitHub repository\n */\nclass GitHubSource extends Source {\n    constructor(parent, name, props) {\n        super(parent, name, {\n            owner: 'ThirdParty',\n            provider: 'GitHub',\n            configuration: {\n                Owner: props.owner,\n                Repo: props.repo,\n                Branch: props.branch || \"master\",\n                OAuthToken: props.oauthToken,\n                PollForSourceChanges: props.pollForSourceChanges || true\n            },\n            artifactName: props.artifactName\n        });\n    }\n}\nexports.GitHubSource = GitHubSource;\n/**\n * Low level class for build actions.\n * It is recommended that concrete types are used instead, such as {@link CodeBuildAction}.\n */\nclass BuildAction extends Action {\n    constructor(parent, name, props) {\n        super(parent, name, {\n            artifactBounds: { minInputs: 1, maxInputs: 1, minOutputs: 0, maxOutputs: 1 },\n            category: ActionCategory.Build,\n            provider: props.provider,\n            configuration: props.configuration\n        });\n        this.addInputArtifact(props.inputArtifact);\n        if (props.artifactName) {\n            this.artifact = this.addOutputArtifact(props.artifactName);\n        }\n    }\n}\nexports.BuildAction = BuildAction;\n/**\n * Build action that uses AWS CodeBuild\n */\nclass CodeBuildAction extends BuildAction {\n    constructor(parent, name, props) {\n        // This happened when ProjectName was accidentally set to the project's ARN:\n        // https://qiita.com/ikeisuke/items/2fbc0b80b9bbd981b41f\n        super(parent, name, {\n            provider: 'CodeBuild',\n            inputArtifact: props.inputArtifact,\n            artifactName: props.artifactName,\n            configuration: {\n                ProjectName: props.project.projectName\n            }\n        });\n        const actions = [\n            'codebuild:BatchGetBuilds',\n            'codebuild:StartBuild',\n            'codebuild:StopBuild',\n        ];\n        parent.pipeline.addToRolePolicy(new core_1.PolicyStatement()\n            .addResource(props.project.projectArn)\n            .addActions(...actions));\n        // allow codebuild to read and write artifacts to the pipline's artifact bucket.\n        parent.pipeline.artifactBucket.grantReadWrite(props.project.role);\n        // policy must be added as a dependency to the pipeline!!\n        // TODO: grants - build.addResourcePermission() and also make sure permission\n        // includes the pipeline role AWS principal.\n    }\n}\nexports.CodeBuildAction = CodeBuildAction;\n/**\n * Manual approval action\n */\nclass ApprovalAction extends Action {\n    constructor(parent, name) {\n        super(parent, name, {\n            category: ActionCategory.Approval,\n            provider: 'Manual',\n            artifactBounds: { minInputs: 0, maxInputs: 0, minOutputs: 0, maxOutputs: 0 }\n        });\n    }\n}\nexports.ApprovalAction = ApprovalAction;\n/**\n * @link https://docs.aws.amazon.com/codepipeline/latest/userguide/actions-invoke-lambda-function.html\n */\nclass InvokeLambdaAction extends Action {\n    constructor(parent, name, props) {\n        super(parent, name, {\n            category: ActionCategory.Invoke,\n            provider: 'Lambda',\n            artifactBounds: defaultBounds(),\n            configuration: {\n                FunctionName: props.lambda.functionName,\n                UserParameters: props.userParameters\n            }\n        });\n        // allow pipeline to list functions\n        parent.pipeline.addToRolePolicy(new core_1.PolicyStatement()\n            .addAction('lambda:ListFunctions')\n            .addResource('*'));\n        // allow pipeline to invoke this lambda functionn\n        parent.pipeline.addToRolePolicy(new core_1.PolicyStatement()\n            .addAction('lambda:InvokeFunction')\n            .addResource(props.lambda.functionArn));\n        // allow lambda to put job results for this pipeline.\n        const addToPolicy = props.addPutJobResultPolicy !== undefined ? props.addPutJobResultPolicy : true;\n        if (addToPolicy) {\n            props.lambda.addToRolePolicy(new core_1.PolicyStatement()\n                .addResource('*') // to avoid cycles (see docs)\n                .addAction('codepipeline:PutJobSuccessResult')\n                .addAction('codepipeline:PutJobFailureResult'));\n        }\n    }\n    /**\n     * Add an input artifact\n     * @param artifact\n     */\n    addInputArtifact(artifact) {\n        super.addInputArtifact(artifact);\n        return this;\n    }\n}\nexports.InvokeLambdaAction = InvokeLambdaAction;\n// export class TestAction extends Action {\n//     constructor(parent: Stage, name: string, provider: string, artifactBounds: ActionArtifactBounds, configuration?: any) {\n//         super(parent, name, {\n//           category: ActionCategory.Test,\n//           provider,\n//           artifactBounds,\n//           configuration\n//         });\n//     }\n// }\n// export class CodeBuildTest extends TestAction {\n//     constructor(parent: Stage, name: string, project: codebuild.ProjectArnAttribute) {\n//         super(parent, name, 'CodeBuild', { minInputs: 1, maxInputs: 1, minOutputs: 0, maxOutputs: 1 }, {\n//             ProjectName: project\n//         });\n//     }\n// }\n// export class DeployAction extends Action {\n//     constructor(parent: Stage, name: string, provider: string, artifactBounds: ActionArtifactBounds, configuration?: any) {\n//         super(parent, name, {\n//           category: ActionCategory.Deploy,\n//           provider,\n//           artifactBounds,\n//           configuration\n//         });\n//     }\n// }\n// export class CodeDeploy extends DeployAction {\n//     constructor(parent: Stage, name: string, applicationName: string, deploymentGroupName: string) {\n//         super(parent, name, 'CodeDeploy', { minInputs: 1, maxInputs: 1, minOutputs: 0, maxOutputs: 0 }, {\n//             ApplicationName: applicationName,\n//             DeploymentGroupName: deploymentGroupName\n//         });\n//     }\n// }\n// export class ElasticBeanstalkDeploy extends DeployAction {\n//     constructor(parent: Stage, name: string, applicationName: string, environmentName: string) {\n//         super(parent, name, 'ElasticBeanstalk', { minInputs: 1, maxInputs: 1, minOutputs: 0, maxOutputs: 0 }, {\n//             ApplicationName: applicationName,\n//             EnvironmentName: environmentName\n//         });\n//     }\n// }\n// export class OpsWorksDeploy extends DeployAction {\n//     constructor(parent: Stage, name: string, app: string, stack: string, layer?: string) {\n//         super(parent, name, 'OpsWorks', { minInputs: 1, maxInputs: 1, minOutputs: 0, maxOutputs: 0 }, {\n//             Stack: stack,\n//             App: app,\n//             Layer: layer,\n//         });\n//     }\n// }\n// export class ECSDeploy extends DeployAction {\n//     constructor(parent: Stage, name: string, clusterName: string, serviceName: string, fileName?: string) {\n//         super(parent, name, 'ECS', { minInputs: 1, maxInputs: 1, minOutputs: 0, maxOutputs: 0 }, {\n//             ClusterName: clusterName,\n//             ServiceName: serviceName,\n//             FileName: fileName,\n//         });\n//     }\n// }\n/*\n  TODO: A Jenkins build needs a corresponding custom action for each \"Jenkins provider\".\n        This should be created automatically.\n\n  Example custom action created to execute Jenkins:\n  {\n    \"id\": {\n        \"category\": \"Test\",\n        \"provider\": \"<provider name>\",\n        \"owner\": \"Custom\",\n        \"version\": \"1\"\n    },\n    \"outputArtifactDetails\": {\n        \"minimumCount\": 0,\n        \"maximumCount\": 5\n    },\n    \"settings\": {\n        \"executionUrlTemplate\": \"https://www.google.com/job/{Config:ProjectName}/{ExternalExecutionId}\",\n        \"entityUrlTemplate\": \"https://www.google.com/job/{Config:ProjectName}\"\n    },\n    \"actionConfigurationProperties\": [\n        {\n            \"queryable\": true,\n            \"key\": true,\n            \"name\": \"ProjectName\",\n            \"required\": true,\n            \"secret\": false\n        }\n    ],\n    \"inputArtifactDetails\": {\n        \"minimumCount\": 0,\n        \"maximumCount\": 5\n    }\n  }\n*/\n// export class JenkinsBuild extends BuildAction {\n//     constructor(parent: Stage, name: string, jenkinsProvider: string, project: string) {\n//         super(parent, name, jenkinsProvider, DefaultBounds(), {\n//             ProjectName: project\n//         });\n//     }\n// }\n// export class JenkinsTest extends TestAction {\n//     constructor(parent: Stage, name: string, jenkinsProvider: string, project: string) {\n//         super(parent, name, jenkinsProvider, DefaultBounds(), {\n//             ProjectName: project\n//         });\n//     }\n// }\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = jsii$_aws_cdk_events$;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst core_1 = __webpack_require__(0);\n/**\n * @link https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-parameter-override-functions.html\n */\nclass ArtifactAttribute extends core_1.Token {\n    constructor(artifact, attributeName) {\n        super(() => ({ 'Fn::GetArtifactAtt': [artifact.name, attributeName] }));\n    }\n}\nexports.ArtifactAttribute = ArtifactAttribute;\n/**\n * @link https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-parameter-override-functions.html\n */\nclass ArtifactGetParam extends core_1.Token {\n    constructor(artifact, jsonFile, keyName) {\n        super(() => ({ 'Fn::GetParam': [artifact.name, jsonFile, keyName] }));\n    }\n}\nexports.ArtifactGetParam = ArtifactGetParam;\n/**\n * An output artifact of an action. Artifacts can be used as input by some actions.\n */\nclass Artifact extends core_1.Construct {\n    constructor(parent, name) {\n        super(parent, name);\n        this.name = name;\n    }\n    /**\n     * Returns an ArtifactPath for a file within this artifact.\n     * Output is in the form \"<artifact-name>::<file-name>\"\n     * @param fileName The name of the file\n     */\n    subartifact(fileName) {\n        return new ArtifactPath(this, fileName);\n    }\n    /**\n     * The artifact attribute for the name of the S3 bucket where the artifact is stored.\n     */\n    get bucketName() {\n        return new ArtifactAttribute(this, 'BucketName');\n    }\n    /**\n     * The artifact attribute for The name of the .zip file that contains the artifact that is\n     * generated by AWS CodePipeline, such as 1ABCyZZ.zip.\n     */\n    get objectKey() {\n        return new ArtifactAttribute(this, 'ObjectKey');\n    }\n    /**\n     * The artifact attribute of the Amazon Simple Storage Service (Amazon S3) URL of the artifact,\n     * such as https://s3-us-west-2.amazonaws.com/artifactstorebucket-yivczw8jma0c/test/TemplateSo/1ABCyZZ.zip.\n     */\n    get url() {\n        return new ArtifactAttribute(this, 'URL');\n    }\n    /**\n     * Returns a token for a value inside a JSON file within this artifact.\n     * @param jsonFile The JSON file name.\n     * @param keyName The hash key.\n     */\n    getParam(jsonFile, keyName) {\n        return new ArtifactGetParam(this, jsonFile, keyName);\n    }\n    toString() {\n        return this.name;\n    }\n}\nexports.Artifact = Artifact;\n/**\n * A specific file within an output artifact.\n *\n * The most common use case for this is specifying the template file\n * for a CloudFormation action.\n */\nclass ArtifactPath {\n    constructor(artifact, fileName) {\n        this.artifact = artifact;\n        this.fileName = fileName;\n    }\n    get location() {\n        return `${this.artifact.name}::${this.fileName}`;\n    }\n}\nexports.ArtifactPath = ArtifactPath;\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nmodule.exports = jsii$_aws_cdk_iam$;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Return whether the given value is an object\n *\n * Even though arrays technically are objects, we usually want to treat them differently,\n * so we return false in those cases.\n */\nfunction isObject(x) {\n    return x !== null && typeof x === 'object' && !exports.isArray(x);\n}\nexports.isObject = isObject;\n/**\n * Return whether the given value is an array\n */\nexports.isArray = Array.isArray;\n/**\n * Return the value of the first argument if it's not undefined, otherwise the default\n */\nfunction ifDefined(x, def) {\n    return typeof x !== 'undefined' ? x : def;\n}\nexports.ifDefined = ifDefined;\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst core_1 = __webpack_require__(0);\nconst events_1 = __webpack_require__(3);\nconst actions_1 = __webpack_require__(2);\nconst validation = __webpack_require__(1);\n/**\n * A stage in a pipeline. Stages are added to a pipeline by constructing a Stage with\n * the pipeline as the first argument to the constructor.\n *\n * @example\n * // add a stage to a pipeline\n * new Stage(pipeline, 'MyStage');\n */\nclass Stage extends core_1.Construct {\n    /**\n     * Append a new stage to the pipeline\n     *\n     * Only a Pipeline can be passed in as a parent because stages should\n     * always be attached to a pipeline. It's illogical to construct a Stage\n     * with any other parent.\n     */\n    constructor(parent, name) {\n        super(parent, name);\n        this._actions = new Array();\n        this.pipeline = parent;\n        validation.validateName('Stage', name);\n    }\n    /**\n     * Get a duplicate of this stage's list of actions.\n     */\n    get actions() {\n        return this._actions.slice();\n    }\n    validate() {\n        return this.validateHasActions();\n    }\n    render() {\n        return {\n            name: this.name,\n            actions: this._actions.map(action => action.render())\n        };\n    }\n    onStateChange(name, target, options) {\n        const rule = new events_1.EventRule(this.pipeline, name, options);\n        rule.addTarget(target);\n        rule.addEventPattern({\n            detailType: ['CodePipeline Stage Execution State Change'],\n            source: ['aws.codepipeline'],\n            resources: [this.pipeline.pipelineArn],\n            detail: {\n                stage: [this.name],\n            },\n        });\n        return rule;\n    }\n    /**\n     * If an action is added as a child, add it to the list of actions.\n     * TODO: This is a hack that should be removed once the CDK has an\n     *       onChildAdded type hook.\n     * @override\n     * @param child\n     * @param name\n     */\n    addChild(child, name) {\n        super.addChild(child, name);\n        if (child instanceof actions_1.Action) {\n            this._actions.push(child);\n        }\n        else {\n            throw new Error('Only Actions can be added as children to a Stage');\n        }\n    }\n    validateHasActions() {\n        if (this._actions.length === 0) {\n            return [`Stage '${this.name}' must have at least one action`];\n        }\n        return [];\n    }\n}\nexports.Stage = Stage;\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(__webpack_require__(2));\n__export(__webpack_require__(4));\n__export(__webpack_require__(9));\n__export(__webpack_require__(7));\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst core_1 = __webpack_require__(0);\nconst events_1 = __webpack_require__(3);\nconst iam = __webpack_require__(5);\nconst iam_1 = __webpack_require__(5);\nconst resources_1 = __webpack_require__(10);\nconst s3_1 = __webpack_require__(11);\nconst util_1 = __webpack_require__(12);\nconst stage_1 = __webpack_require__(7);\nconst validation = __webpack_require__(1);\n/**\n * The ARN of a pipeline\n */\nclass PipelineArn extends core_1.Arn {\n}\nexports.PipelineArn = PipelineArn;\n/**\n * An AWS CodePipeline pipeline with its associated IAM role and S3 bucket.\n *\n * @example\n * // create a pipeline\n * const pipeline = new Pipeline(this, 'Pipeline');\n *\n * // add a stage\n * const sourceStage = new Stage(pipeline, 'Source');\n *\n * // add a source action to the stage\n * new CodeCommitSource(sourceStage, 'Source', {\n *     artifactName: 'SourceArtifact',\n *     repository: repo\n * });\n *\n * // ... add more stages\n */\nclass Pipeline extends core_1.Construct {\n    constructor(parent, name, props) {\n        super(parent, name);\n        this.stages = new Array();\n        props = props || {};\n        validation.validateName('Pipeline', props.pipelineName);\n        // If a bucket has been provided, use it - otherwise, create a bucket.\n        let propsBucket = props.artifactBucket;\n        if (!propsBucket) {\n            propsBucket = new s3_1.Bucket(this, 'ArtifactsBucket', {\n                removalPolicy: core_1.RemovalPolicy.Orphan\n            });\n        }\n        this.artifactBucket = propsBucket;\n        this.role = new iam.Role(this, 'Role', {\n            assumedBy: new core_1.ServicePrincipal('codepipeline.amazonaws.com')\n        });\n        const codePipeline = new resources_1.codepipeline.PipelineResource(this, 'Resource', {\n            artifactStore: new core_1.Token(() => this.renderArtifactStore()),\n            stages: new core_1.Token(() => this.renderStages()),\n            roleArn: this.role.roleArn,\n            restartExecutionOnUpdate: props && props.restartExecutionOnUpdate,\n            pipelineName: props && props.pipelineName,\n        });\n        // this will produce a DependsOn for both the role and the policy resources.\n        codePipeline.addDependency(this.role);\n        this.artifactBucket.grantReadWrite(this.role);\n        // Does not expose a Fn::GetAtt for the ARN so we'll have to make it ourselves\n        this.pipelineArn = new PipelineArn(core_1.Arn.fromComponents({\n            service: 'codepipeline',\n            resource: codePipeline.ref\n        }));\n    }\n    /**\n     * Adds a statement to the pipeline role.\n     */\n    addToRolePolicy(statement) {\n        this.role.addToPolicy(statement);\n    }\n    /**\n     * Allows the pipeline to be used as a CloudWatch event rule target.\n     *\n     * Usage:\n     *\n     *      const pipeline = new Pipeline(this, 'MyPipeline');\n     *      const rule = new EventRule(this, 'MyRule', { schedule: 'rate(1 minute)' });\n     *      rule.addTarget(pipeline);\n     *\n     */\n    get eventRuleTarget() {\n        // the first time the event rule target is retrieved, we define an IAM\n        // role assumable by the CloudWatch events service which is allowed to\n        // start the execution of this pipeline. no need to define more than one\n        // role per pipeline.\n        if (!this.eventsRole) {\n            this.eventsRole = new iam_1.Role(this, 'EventsRole', {\n                assumedBy: new core_1.ServicePrincipal('events.amazonaws.com')\n            });\n            this.eventsRole.addToPolicy(new core_1.PolicyStatement()\n                .addResource(this.pipelineArn)\n                .addAction('codepipeline:StartPipelineExecution'));\n        }\n        return {\n            id: this.name,\n            arn: this.pipelineArn,\n            roleArn: this.eventsRole.roleArn,\n        };\n    }\n    /**\n     * Defines an event rule triggered by the \"CodePipeline Pipeline Execution\n     * State Change\" event emitted from this pipeline.\n     *\n     * @param target Initial target to add to the event rule. You can also add\n     * targets and customize target inputs by calling `rule.addTarget(target[,\n     * options])` after the rule was created.\n     *\n     * @param options Additional options to pass to the event rule\n     *\n     * @param name The name of the event rule construct. If you wish to define\n     * more than a single onStateChange event, you will need to explicitly\n     * specify a name.\n     */\n    onStateChange(name, target, options) {\n        const rule = new events_1.EventRule(this, name, options);\n        rule.addTarget(target);\n        rule.addEventPattern({\n            detailType: ['CodePipeline Pipeline Execution State Change'],\n            source: ['aws.codepipeline'],\n            resources: [this.pipelineArn],\n        });\n        return rule;\n    }\n    /**\n     * Validate the pipeline structure\n     *\n     * Validation happens according to the rules documented at\n     *\n     * https://docs.aws.amazon.com/codepipeline/latest/userguide/reference-pipeline-structure.html#pipeline-requirements\n     * @override\n     */\n    validate() {\n        return util_1.flatten([\n            this.validateHasStages(),\n            this.validateSourceActionLocations()\n        ]);\n    }\n    /**\n     * If a stage is added as a child, add it to the list of stages.\n     * TODO: This is a hack that should be removed once the CDK has an\n     *       onChildAdded type hook.\n     * @override\n     */\n    addChild(child, name) {\n        super.addChild(child, name);\n        if (child instanceof stage_1.Stage) {\n            this.appendStage(child);\n        }\n    }\n    appendStage(stage) {\n        if (this.stages.find(x => x.name === stage.name)) {\n            throw new Error(`A stage with name '${stage.name}' already exists`);\n        }\n        this.stages.push(stage);\n    }\n    validateSourceActionLocations() {\n        return util_1.flatMap(this.stages, (stage, i) => {\n            const onlySourceActionsPermitted = i === 0;\n            return util_1.flatMap(stage.actions, (action, _) => validation.validateSourceAction(onlySourceActionsPermitted, action.category, action.name, stage.name));\n        });\n    }\n    validateHasStages() {\n        if (this.stages.length < 2) {\n            return ['Pipeline must have at least two stages'];\n        }\n        return [];\n    }\n    renderArtifactStore() {\n        let encryptionKey;\n        const bucketKey = this.artifactBucket.encryptionKey;\n        if (bucketKey) {\n            encryptionKey = {\n                type: 'KMS',\n                id: bucketKey.keyArn,\n            };\n        }\n        const bucketName = this.artifactBucket.bucketName;\n        if (!bucketName) {\n            throw new Error('Artifacts bucket must have a bucket name');\n        }\n        return {\n            type: 'S3',\n            location: bucketName,\n            encryptionKey\n        };\n    }\n    renderStages() {\n        return this.stages.map(stage => stage.render());\n    }\n}\nexports.Pipeline = Pipeline;\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\nmodule.exports = jsii$_aws_cdk_resources$;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\nmodule.exports = jsii$_aws_cdk_s3$;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(__webpack_require__(13));\n__export(__webpack_require__(14));\n__export(__webpack_require__(6));\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Map a function over an array and concatenate the results\n */\nfunction flatMap(xs, fn) {\n    return flatten(xs.map(fn));\n}\nexports.flatMap = flatMap;\n/**\n * Flatten a list of lists into a list of elements\n */\nfunction flatten(xs) {\n    return Array.prototype.concat.apply([], xs);\n}\nexports.flatten = flatten;\n/**\n * Partition a collection by removing and returning all elements that match a predicate\n *\n * Note: the input collection is modified in-place!\n */\nfunction partition(collection, pred) {\n    const ret = [];\n    let i = 0;\n    while (i < collection.length) {\n        if (pred(collection[i])) {\n            ret.push(collection.splice(i, 1)[0]);\n        }\n        else {\n            i++;\n        }\n    }\n    return ret;\n}\nexports.partition = partition;\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst types_1 = __webpack_require__(6);\n/**\n * Return a new object by adding missing keys into another object\n */\nfunction applyDefaults(hash, defaults) {\n    const result = {};\n    Object.keys(hash).forEach(k => result[k] = hash[k]);\n    Object.keys(defaults)\n        .filter(k => !(k in result))\n        .forEach(k => result[k] = defaults[k]);\n    return result;\n}\nexports.applyDefaults = applyDefaults;\n/**\n * Return whether the given parameter is an empty object or empty list.\n */\nfunction isEmpty(x) {\n    if (x == null) {\n        return false;\n    }\n    if (types_1.isArray(x)) {\n        return x.length === 0;\n    }\n    return Object.keys(x).length === 0;\n}\nexports.isEmpty = isEmpty;\n/**\n * Deep clone a tree of objects, lists or scalars\n *\n * Does not support cycles.\n */\nfunction deepClone(x) {\n    if (typeof x === 'undefined') {\n        return undefined;\n    }\n    if (x === null) {\n        return null;\n    }\n    if (types_1.isArray(x)) {\n        return x.map(deepClone);\n    }\n    if (types_1.isObject(x)) {\n        return makeObject(mapObject(x, (k, v) => [k, deepClone(v)]));\n    }\n    return x;\n}\nexports.deepClone = deepClone;\n/**\n * Map over an object, treating it as a dictionary\n */\nfunction mapObject(x, fn) {\n    const ret = [];\n    Object.keys(x).forEach(key => {\n        ret.push(fn(key, x[key]));\n    });\n    return ret;\n}\nexports.mapObject = mapObject;\n/**\n * Construct an object from a list of (k, v) pairs\n */\nfunction makeObject(pairs) {\n    const ret = {};\n    for (const pair of pairs) {\n        ret[pair[0]] = pair[1];\n    }\n    return ret;\n}\nexports.makeObject = makeObject;\n/**\n * Deep get a value from a tree of nested objects\n *\n * Returns undefined if any part of the path was unset or\n * not an object.\n */\nfunction deepGet(x, path) {\n    path = path.slice();\n    while (path.length > 0 && types_1.isObject(x)) {\n        const key = path.shift();\n        x = x[key];\n    }\n    return path.length === 0 ? x : undefined;\n}\nexports.deepGet = deepGet;\n/**\n * Deep set a value in a tree of nested objects\n *\n * Throws an error if any part of the path is not an object.\n */\nfunction deepSet(x, path, value) {\n    path = path.slice();\n    if (path.length === 0) {\n        throw new Error('Path may not be empty');\n    }\n    while (path.length > 1 && types_1.isObject(x)) {\n        const key = path.shift();\n        if (!(key in x)) {\n            x[key] = {};\n        }\n        x = x[key];\n    }\n    if (!types_1.isObject(x)) {\n        throw new Error(`Expected an object, got '${x}'`);\n    }\n    x[path[0]] = value;\n}\nexports.deepSet = deepSet;\n/**\n * Recursively merge objects together\n *\n * The leftmost object is mutated and returned. Arrays are not merged\n * but overwritten just like scalars.\n *\n * If an object is merged into a non-object, the non-object is lost.\n */\nfunction deepMerge(...objects) {\n    function mergeOne(target, source) {\n        for (const key of Object.keys(source)) {\n            const value = source[key];\n            if (types_1.isObject(value)) {\n                if (!types_1.isObject(target[key])) {\n                    target[key] = {};\n                } // Overwrite on purpose\n                mergeOne(target[key], value);\n            }\n            else if (typeof value !== 'undefined') {\n                target[key] = value;\n            }\n        }\n    }\n    const others = objects.filter(x => x != null);\n    if (others.length === 0) {\n        return {};\n    }\n    const into = others.splice(0, 1)[0];\n    others.forEach(other => mergeOne(into, other));\n    return into;\n}\nexports.deepMerge = deepMerge;\n\n\n/***/ })\n/******/ ]);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgMmNmMWJkZWQ0N2FlMjRmMWZlOTYiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwianNpaSRfYXdzX2Nka19jb3JlJFwiIiwid2VicGFjazovLy8vcm9vdC9yZXBvcy9hd3MtY2RrL3BhY2thZ2VzL0Bhd3MtY2RrL2NvZGVwaXBlbGluZS9saWIvdmFsaWRhdGlvbi50cyIsIndlYnBhY2s6Ly8vL3Jvb3QvcmVwb3MvYXdzLWNkay9wYWNrYWdlcy9AYXdzLWNkay9jb2RlcGlwZWxpbmUvbGliL2FjdGlvbnMudHMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwianNpaSRfYXdzX2Nka19ldmVudHMkXCIiLCJ3ZWJwYWNrOi8vLy9yb290L3JlcG9zL2F3cy1jZGsvcGFja2FnZXMvQGF3cy1jZGsvY29kZXBpcGVsaW5lL2xpYi9hcnRpZmFjdC50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqc2lpJF9hd3NfY2RrX2lhbSRcIiIsIndlYnBhY2s6Ly8vdHlwZXMudHMiLCJ3ZWJwYWNrOi8vLy9yb290L3JlcG9zL2F3cy1jZGsvcGFja2FnZXMvQGF3cy1jZGsvY29kZXBpcGVsaW5lL2xpYi9zdGFnZS50cyIsIndlYnBhY2s6Ly8vL3Jvb3QvcmVwb3MvYXdzLWNkay9wYWNrYWdlcy9AYXdzLWNkay9jb2RlcGlwZWxpbmUvbGliL2luZGV4LnRzIiwid2VicGFjazovLy8vcm9vdC9yZXBvcy9hd3MtY2RrL3BhY2thZ2VzL0Bhd3MtY2RrL2NvZGVwaXBlbGluZS9saWIvcGlwZWxpbmUudHMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwianNpaSRfYXdzX2Nka19yZXNvdXJjZXMkXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwianNpaSRfYXdzX2Nka19zMyRcIiIsIndlYnBhY2s6Ly8vaW5kZXgudHMiLCJ3ZWJwYWNrOi8vL2FycmF5cy50cyIsIndlYnBhY2s6Ly8vb2JqZWN0cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoi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SSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDL0MsT0FBTyxJQUFJLENBQUM7QUFDaEIsQ0FBQztBQXJCRCw4QkFxQkMiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gOCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgMmNmMWJkZWQ0N2FlMjRmMWZlOTYiLCJtb2R1bGUuZXhwb3J0cyA9IGpzaWkkX2F3c19jZGtfY29yZSQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJqc2lpJF9hd3NfY2RrX2NvcmUkXCJcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHsgQWN0aW9uQ2F0ZWdvcnkgfSBmcm9tIFwiLi9hY3Rpb25zXCI7XG5pbXBvcnQgeyBBcnRpZmFjdCB9IGZyb20gXCIuL2FydGlmYWN0XCI7XG5cbi8qKlxuICogVmFsaWRhdGlvbiBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiB0aGUgbnVtYmVyIG9mIGFydGlmYWN0cyBpcyB3aXRoaW4gdGhlIGdpdmVuIGJvdW5kc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVBcnRpZmFjdEJvdW5kcyggdHlwZTogc3RyaW5nLCBhcnRpZmFjdHM6IEFydGlmYWN0W10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluOiBudW1iZXIsIG1heDogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBzdHJpbmcsIHByb3ZpZGVyOiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgcmV0OiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgaWYgKGFydGlmYWN0cy5sZW5ndGggPCBtaW4pIHtcbiAgICAgICAgcmV0LnB1c2goYCR7Y2F0ZWdvcnl9LyR7cHJvdmlkZXJ9IG11c3QgaGF2ZSBhdCBsZWFzdCAke21pbn0gJHt0eXBlfSBhcnRpZmFjdHNgKTtcbiAgICB9XG5cbiAgICBpZiAoYXJ0aWZhY3RzLmxlbmd0aCA+IG1heCkge1xuICAgICAgICByZXQucHVzaChgJHtjYXRlZ29yeX0vJHtwcm92aWRlcn0gY2Fubm90IGhhdmUgbW9yZSB0aGFuICR7bWF4fSAke3R5cGV9IGFydGlmYWN0c2ApO1xuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG59XG5cbi8qKlxuICogVmFsaWRhdGlvbiBmdW5jdGlvbiB0aGF0IGd1YXJhbnRlZXMgdGhhdCBhbiBhY3Rpb24gaXMgb3IgaXMgbm90IGEgc291cmNlIGFjdGlvbi4gVGhpcyBpcyB1c2VmdWwgYmVjYXVzZSBTb3VyY2UgYWN0aW9ucyBjYW4gb25seSBiZVxuICogaW4gdGhlIGZpcnN0IHN0YWdlIG9mIGEgcGlwZWxpbmUsIGFuZCB0aGUgZmlyc3Qgc3RhZ2UgY2FuIG9ubHkgY29udGFpbiBzb3VyY2UgYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlU291cmNlQWN0aW9uKG11c3RCZVNvdXJjZTogYm9vbGVhbiwgY2F0ZWdvcnk6IHN0cmluZywgYWN0aW9uTmFtZTogc3RyaW5nLCBzdGFnZU5hbWU6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICBpZiAobXVzdEJlU291cmNlICE9PSAoY2F0ZWdvcnkgPT09IEFjdGlvbkNhdGVnb3J5LlNvdXJjZSkpIHtcbiAgICAgICAgcmV0dXJuIFtgQWN0aW9uICR7YWN0aW9uTmFtZX0gaW4gc3RhZ2UgJHtzdGFnZU5hbWV9OiBgICsgKG11c3RCZVNvdXJjZSA/ICdmaXJzdCBzdGFnZSBtYXkgb25seSBjb250YWluIFNvdXJjZSBhY3Rpb25zJ1xuICAgICAgICAgICAgOiAnU291cmNlIGFjdGlvbnMgbWF5IG9ubHkgb2NjdXIgaW4gZmlyc3Qgc3RhZ2UnKV07XG4gICAgfVxuICAgIHJldHVybiBbXTtcbn1cblxuLyoqXG4gKiBSZWdleCB0byB2YWxpZGF0ZSBQaXBlbGluZSwgU3RhZ2UsIEFjdGlvbiBuYW1lc1xuICpcbiAqIGh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9jb2RlcGlwZWxpbmUvbGF0ZXN0L3VzZXJndWlkZS9saW1pdHMuaHRtbFxuICovXG5jb25zdCBWQUxJRF9JREVOVElGSUVSX1JFR0VYID0gL15bYS16QS1aMC05LkBfLV17MSwxMDB9JC87XG5cbi8qKlxuICogVmFsaWRhdGUgdGhlIGdpdmVuIG5hbWUgb2YgYSBwaXBlbGluZSBjb21wb25lbnQuIFBpcGVsaW5lIGNvbXBvbmVudCBuYW1lcyBhbGwgaGF2ZSB0aGUgc2FtZSByZXN0cmljdGlvbnMuXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIHZhbGlkYXRlIHRoZSBuYW1lIG9mIGFsbCBjb21wb25lbnRzIG9mIGEgcGlwZWxpbmUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZU5hbWUodGhpbmc6IHN0cmluZywgbmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkKSB7XG4gICAgaWYgKG5hbWUgIT09IHVuZGVmaW5lZCAmJiAhVkFMSURfSURFTlRJRklFUl9SRUdFWC50ZXN0KG5hbWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJHt0aGluZ30gbmFtZSBtdXN0IG1hdGNoIHJlZ3VsYXIgZXhwcmVzc2lvbjogJHtWQUxJRF9JREVOVElGSUVSX1JFR0VYLnRvU3RyaW5nKCl9LCBnb3QgJyR7bmFtZX0nYCk7XG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAvcm9vdC9yZXBvcy9hd3MtY2RrL3BhY2thZ2VzL0Bhd3MtY2RrL2NvZGVwaXBlbGluZS9saWIvdmFsaWRhdGlvbi50cyIsImltcG9ydCB7IEJ1aWxkUHJvamVjdFJlZiB9IGZyb20gJ0Bhd3MtY2RrL2NvZGVidWlsZCc7XG5pbXBvcnQgeyBSZXBvc2l0b3J5UmVmIH0gZnJvbSAnQGF3cy1jZGsvY29kZWNvbW1pdCc7XG5pbXBvcnQgeyBDb25zdHJ1Y3QsIFBvbGljeVN0YXRlbWVudCwgU2VjcmV0IH0gZnJvbSAnQGF3cy1jZGsvY29yZSc7XG5pbXBvcnQgeyBFdmVudFJ1bGUsIEV2ZW50UnVsZVByb3BzLCBJRXZlbnRSdWxlVGFyZ2V0IH0gZnJvbSAnQGF3cy1jZGsvZXZlbnRzJztcbmltcG9ydCB7IExhbWJkYVJlZiB9IGZyb20gJ0Bhd3MtY2RrL2xhbWJkYSc7XG5pbXBvcnQgeyBjb2RlcGlwZWxpbmUgfSBmcm9tICdAYXdzLWNkay9yZXNvdXJjZXMnO1xuaW1wb3J0IHsgQnVja2V0UmVmIH0gZnJvbSAnQGF3cy1jZGsvczMnO1xuaW1wb3J0IHsgQXJ0aWZhY3QgfSBmcm9tICcuL2FydGlmYWN0JztcbmltcG9ydCB7IFN0YWdlIH0gZnJvbSAnLi9zdGFnZSc7XG5pbXBvcnQgKiBhcyB2YWxpZGF0aW9uIGZyb20gJy4vdmFsaWRhdGlvbic7XG5pbXBvcnQgeyB2YWxpZGF0ZUFydGlmYWN0Qm91bmRzIH0gZnJvbSAnLi92YWxpZGF0aW9uJztcblxuZXhwb3J0IGVudW0gQWN0aW9uQ2F0ZWdvcnkge1xuICAgIFNvdXJjZSA9ICdTb3VyY2UnLFxuICAgIEJ1aWxkID0gJ0J1aWxkJyxcbiAgICBUZXN0ID0gJ1Rlc3QnLFxuICAgIEFwcHJvdmFsID0gJ0FwcHJvdmFsJyxcbiAgICBEZXBsb3kgPSAnRGVwbG95JyxcbiAgICBJbnZva2UgPSAnSW52b2tlJ1xufVxuXG4vKipcbiAqIFNwZWNpZmllcyB0aGUgY29uc3RyYWludHMgb24gdGhlIG51bWJlciBvZiBpbnB1dCBhbmQgb3V0cHV0XG4gKiBhcnRpZmFjdHMgYW4gYWN0aW9uIGNhbiBoYXZlLlxuICpcbiAqIFRoZSBjb25zdHJhaW50cyBmb3IgZWFjaCBhY3Rpb24gdHlwZSBhcmUgZG9jdW1lbnRlZCBvbiB0aGVcbiAqIHtAbGluayBodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vY29kZXBpcGVsaW5lL2xhdGVzdC91c2VyZ3VpZGUvcmVmZXJlbmNlLXBpcGVsaW5lLXN0cnVjdHVyZS5odG1sIFBpcGVsaW5lIFN0cnVjdHVyZSBSZWZlcmVuY2V9IHBhZ2UuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQWN0aW9uQXJ0aWZhY3RCb3VuZHMge1xuICAgIG1pbklucHV0czogbnVtYmVyO1xuICAgIG1heElucHV0czogbnVtYmVyO1xuICAgIG1pbk91dHB1dHM6IG51bWJlcjtcbiAgICBtYXhPdXRwdXRzOiBudW1iZXI7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRCb3VuZHMoKTogQWN0aW9uQXJ0aWZhY3RCb3VuZHMge1xuICAgIHJldHVybiB7XG4gICAgICAgIG1pbklucHV0czogMCxcbiAgICAgICAgbWF4SW5wdXRzOiA1LFxuICAgICAgICBtaW5PdXRwdXRzOiAwLFxuICAgICAgICBtYXhPdXRwdXRzOiA1XG4gICAgfTtcbn1cblxuLyoqXG4gKiBDb25zdHJ1Y3Rpb24gcHJvcGVydGllcyBvZiB0aGUgbG93IGxldmVsIHtAbGluayBBY3Rpb24gYWN0aW9uIHR5cGV9LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEFjdGlvblByb3BzIHtcbiAgICAvKipcbiAgICAgKiBBIGNhdGVnb3J5IHRoYXQgZGVmaW5lcyB3aGljaCBhY3Rpb24gdHlwZSB0aGUgb3duZXIgKHRoZSBlbnRpdHkgdGhhdCBwZXJmb3JtcyB0aGUgYWN0aW9uKSBwZXJmb3Jtcy5cbiAgICAgKiBUaGUgY2F0ZWdvcnkgdGhhdCB5b3Ugc2VsZWN0IGRldGVybWluZSB0aGUgcHJvdmlkZXJzIHRoYXQgeW91IGNhbiBzcGVjaWZ5IGZvciB0aGUge0BsaW5rICNwcm92aWRlcn0gcHJvcGVydHkuXG4gICAgICovXG4gICAgY2F0ZWdvcnk6IEFjdGlvbkNhdGVnb3J5O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNlcnZpY2UgcHJvdmlkZXIgdGhhdCB0aGUgYWN0aW9uIGNhbGxzLiBUaGUgcHJvdmlkZXJzIHRoYXQgeW91IGNhbiBzcGVjaWZ5IGFyZSBkZXRlcm1pbmVkIGJ5XG4gICAgICogdGhlIGNhdGVnb3J5IHRoYXQgeW91IHNlbGVjdC4gRm9yIGV4YW1wbGUsIGEgdmFsaWQgcHJvdmlkZXIgZm9yIHRoZSBEZXBsb3kgY2F0ZWdvcnkgaXMgQVdTIENvZGVEZXBsb3ksXG4gICAgICogd2hpY2ggeW91IHdvdWxkIHNwZWNpZnkgYXMgQ29kZURlcGxveS5cbiAgICAgKi9cbiAgICBwcm92aWRlcjogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNvbnN0cmFpbnRzIHRvIGFwcGx5IHRvIHRoZSBudW1iZXIgb2YgaW5wdXQgYW5kIG91dHB1dCBhcnRpZmFjdHMgdXNlZCBieSB0aGlzIGFjdGlvbi5cbiAgICAgKi9cbiAgICBhcnRpZmFjdEJvdW5kczogQWN0aW9uQXJ0aWZhY3RCb3VuZHM7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYWN0aW9uJ3MgY29uZmlndXJhdGlvbi4gVGhlc2UgYXJlIGtleS12YWx1ZSBwYWlycyB0aGF0IHNwZWNpZnkgaW5wdXQgdmFsdWVzIGZvciBhbiBhY3Rpb24uXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZSB0aGUgQVdTIENvZGVQaXBlbGluZSBVc2VyIEd1aWRlLlxuICAgICAqXG4gICAgICogaHR0cDovL2RvY3MuYXdzLmFtYXpvbi5jb20vY29kZXBpcGVsaW5lL2xhdGVzdC91c2VyZ3VpZGUvcmVmZXJlbmNlLXBpcGVsaW5lLXN0cnVjdHVyZS5odG1sI2FjdGlvbi1yZXF1aXJlbWVudHNcbiAgICAgKi9cbiAgICBjb25maWd1cmF0aW9uPzogYW55O1xuXG4gICAgLyoqXG4gICAgICogRm9yIGFsbCBjdXJyZW50bHkgc3VwcG9ydGVkIGFjdGlvbiB0eXBlcywgdGhlIG9ubHkgdmFsaWQgdmVyc2lvbiBzdHJpbmcgaXMgXCIxXCIuXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgdmVyc2lvbj86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEZvciBhbGwgY3VycmVudGx5IHN1cHBvcnRlZCBhY3Rpb24gdHlwZXMsIHRoZSBvbmx5IHZhbGlkIG93bmVyIHN0cmluZyBpc1xuICAgICAqIFwiQVdTXCIsIFwiVGhpcmRQYXJ0eVwiLCBvciBcIkN1c3RvbVwiLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlIHRoZSBBV1NcbiAgICAgKiBDb2RlUGlwZWxpbmUgQVBJIFJlZmVyZW5jZS5cbiAgICAgKlxuICAgICAqIEBkZWZhdWx0ICdBV1MnXG4gICAgICovXG4gICAgb3duZXI/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogTG93IGxldmVsIGNsYXNzIGZvciBnZW5lcmljYWxseSBjcmVhdGluZyBwaXBlbGluZSBhY3Rpb25zLlxuICogSXQgaXMgcmVjb21tZW5kZWQgdGhhdCBjb25jcmV0ZSB0eXBlcyBhcmUgdXNlZCBpbnN0ZWFkLCBzdWNoIGFzIHtAbGluayBDb2RlQ29tbWl0U291cmNlfSBvclxuICoge0BsaW5rIENvZGVCdWlsZEFjdGlvbn0uXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBY3Rpb24gZXh0ZW5kcyBDb25zdHJ1Y3Qge1xuICAgIC8qKlxuICAgICAqIFRoZSBjYXRlZ29yeSBvZiB0aGUgYWN0aW9uLiBUaGUgY2F0ZWdvcnkgZGVmaW5lcyB3aGljaCBhY3Rpb24gdHlwZSB0aGUgb3duZXIgKHRoZSBlbnRpdHkgdGhhdCBwZXJmb3JtcyB0aGUgYWN0aW9uKSBwZXJmb3Jtcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgY2F0ZWdvcnk6IEFjdGlvbkNhdGVnb3J5O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNlcnZpY2UgcHJvdmlkZXIgdGhhdCB0aGUgYWN0aW9uIGNhbGxzLlxuICAgICAqL1xuICAgIHB1YmxpYyByZWFkb25seSBwcm92aWRlcjogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFjdGlvbidzIGNvbmZpZ3VyYXRpb24uIFRoZXNlIGFyZSBrZXktdmFsdWUgcGFpcnMgdGhhdCBzcGVjaWZ5IGlucHV0IHZhbHVlcyBmb3IgYW4gYWN0aW9uLlxuICAgICAqIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgdGhlIEFXUyBDb2RlUGlwZWxpbmUgVXNlciBHdWlkZS5cbiAgICAgKlxuICAgICAqIGh0dHA6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2NvZGVwaXBlbGluZS9sYXRlc3QvdXNlcmd1aWRlL3JlZmVyZW5jZS1waXBlbGluZS1zdHJ1Y3R1cmUuaHRtbCNhY3Rpb24tcmVxdWlyZW1lbnRzXG4gICAgICovXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbmZpZ3VyYXRpb24/OiBhbnk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3JkZXIgaW4gd2hpY2ggQVdTIENvZGVQaXBlbGluZSBydW5zIHRoaXMgYWN0aW9uLlxuICAgICAqIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgdGhlIEFXUyBDb2RlUGlwZWxpbmUgVXNlciBHdWlkZS5cbiAgICAgKlxuICAgICAqIGh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9jb2RlcGlwZWxpbmUvbGF0ZXN0L3VzZXJndWlkZS9yZWZlcmVuY2UtcGlwZWxpbmUtc3RydWN0dXJlLmh0bWwjYWN0aW9uLXJlcXVpcmVtZW50c1xuICAgICAqL1xuICAgIHB1YmxpYyBydW5PcmRlcjogbnVtYmVyO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBhcnRpZmFjdEJvdW5kczogQWN0aW9uQXJ0aWZhY3RCb3VuZHM7XG4gICAgcHJpdmF0ZSByZWFkb25seSBpbnB1dEFydGlmYWN0cyA9IG5ldyBBcnJheTxBcnRpZmFjdD4oKTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IG91dHB1dEFydGlmYWN0cyA9IG5ldyBBcnJheTxBcnRpZmFjdD4oKTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IG93bmVyOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSByZWFkb25seSB2ZXJzaW9uOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSByZWFkb25seSBzdGFnZTogU3RhZ2U7XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQ6IFN0YWdlLCBuYW1lOiBzdHJpbmcsIHByb3BzOiBBY3Rpb25Qcm9wcykge1xuICAgICAgICBzdXBlcihwYXJlbnQsIG5hbWUpO1xuXG4gICAgICAgIHZhbGlkYXRpb24udmFsaWRhdGVOYW1lKCdBY3Rpb24nLCBuYW1lKTtcblxuICAgICAgICB0aGlzLm93bmVyID0gcHJvcHMub3duZXIgfHwgJ0FXUyc7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IHByb3BzLnZlcnNpb24gfHwgJzEnO1xuICAgICAgICB0aGlzLmNhdGVnb3J5ID0gcHJvcHMuY2F0ZWdvcnk7XG4gICAgICAgIHRoaXMucHJvdmlkZXIgPSBwcm9wcy5wcm92aWRlcjtcbiAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gcHJvcHMuY29uZmlndXJhdGlvbjtcbiAgICAgICAgdGhpcy5hcnRpZmFjdEJvdW5kcyA9IHByb3BzLmFydGlmYWN0Qm91bmRzO1xuICAgICAgICB0aGlzLnJ1bk9yZGVyID0gMTtcbiAgICAgICAgdGhpcy5zdGFnZSA9IHBhcmVudDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdmFsaWRhdGUoKTogc3RyaW5nW10ge1xuICAgICAgICByZXR1cm4gdmFsaWRhdGVBcnRpZmFjdEJvdW5kcygnaW5wdXQnLCB0aGlzLmlucHV0QXJ0aWZhY3RzLCB0aGlzLmFydGlmYWN0Qm91bmRzLm1pbklucHV0cyxcbiAgICAgICAgICAgICAgICB0aGlzLmFydGlmYWN0Qm91bmRzLm1heElucHV0cywgdGhpcy5jYXRlZ29yeSwgdGhpcy5wcm92aWRlcikuY29uY2F0KFxuICAgICAgICAgICAgdmFsaWRhdGVBcnRpZmFjdEJvdW5kcygnb3V0cHV0JywgdGhpcy5vdXRwdXRBcnRpZmFjdHMsIHRoaXMuYXJ0aWZhY3RCb3VuZHMubWluT3V0cHV0cyxcbiAgICAgICAgICAgICAgICB0aGlzLmFydGlmYWN0Qm91bmRzLm1heE91dHB1dHMsIHRoaXMuY2F0ZWdvcnksIHRoaXMucHJvdmlkZXIpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBBY3Rpb24gdG8gYSBDbG91ZEZvcm1hdGlvbiBzdHJ1Y3RcbiAgICAgKi9cbiAgICBwdWJsaWMgcmVuZGVyKCk6IGNvZGVwaXBlbGluZS5QaXBlbGluZVJlc291cmNlLkFjdGlvbkRlY2xhcmF0aW9uUHJvcGVydHkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgaW5wdXRBcnRpZmFjdHM6IHRoaXMuaW5wdXRBcnRpZmFjdHMubWFwKGEgPT4gKHsgbmFtZTogYS5uYW1lIH0pKSxcbiAgICAgICAgICAgIGFjdGlvblR5cGVJZDoge1xuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiB0aGlzLmNhdGVnb3J5LnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgdmVyc2lvbjogdGhpcy52ZXJzaW9uLFxuICAgICAgICAgICAgICAgIG93bmVyOiB0aGlzLm93bmVyLFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyOiB0aGlzLnByb3ZpZGVyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb246IHRoaXMuY29uZmlndXJhdGlvbixcbiAgICAgICAgICAgIG91dHB1dEFydGlmYWN0czogdGhpcy5vdXRwdXRBcnRpZmFjdHMubWFwKGEgPT4gKHsgbmFtZTogYS5uYW1lIH0pKSxcbiAgICAgICAgICAgIHJ1bk9yZGVyOiB0aGlzLnJ1bk9yZGVyXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHVibGljIG9uU3RhdGVDaGFuZ2UobmFtZTogc3RyaW5nLCB0YXJnZXQ/OiBJRXZlbnRSdWxlVGFyZ2V0LCBvcHRpb25zPzogRXZlbnRSdWxlUHJvcHMpIHtcbiAgICAgICAgY29uc3QgcnVsZSA9IG5ldyBFdmVudFJ1bGUodGhpcy5zdGFnZS5waXBlbGluZSwgbmFtZSwgb3B0aW9ucyk7XG4gICAgICAgIHJ1bGUuYWRkVGFyZ2V0KHRhcmdldCk7XG4gICAgICAgIHJ1bGUuYWRkRXZlbnRQYXR0ZXJuKHtcbiAgICAgICAgICAgIGRldGFpbFR5cGU6IFsgJ0NvZGVQaXBlbGluZSBTdGFnZSBFeGVjdXRpb24gU3RhdGUgQ2hhbmdlJyBdLFxuICAgICAgICAgICAgc291cmNlOiBbICdhd3MuY29kZXBpcGVsaW5lJyBdLFxuICAgICAgICAgICAgcmVzb3VyY2VzOiBbIHRoaXMuc3RhZ2UucGlwZWxpbmUucGlwZWxpbmVBcm4gXSxcbiAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgIHN0YWdlOiBbIHRoaXMuc3RhZ2UubmFtZSBdLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogWyB0aGlzLm5hbWUgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcnVsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJZiBhbiBBcnRpZmFjdCBpcyBhZGRlZCBhcyBhIGNoaWxkLCBhZGQgaXQgdG8gdGhlIGxpc3Qgb2Ygb3V0cHV0IGFydGlmYWN0cy5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYWRkQ2hpbGQoY2hpbGQ6IENvbnN0cnVjdCwgbmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyLmFkZENoaWxkKGNoaWxkLCBuYW1lKTtcbiAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgQXJ0aWZhY3QpIHtcbiAgICAgICAgICAgIHRoaXMub3V0cHV0QXJ0aWZhY3RzLnB1c2goY2hpbGQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFkZE91dHB1dEFydGlmYWN0KG5hbWU6IHN0cmluZyk6IEFydGlmYWN0IHtcbiAgICAgICAgY29uc3QgYXJ0aWZhY3QgPSBuZXcgQXJ0aWZhY3QodGhpcywgbmFtZSk7XG4gICAgICAgIHJldHVybiBhcnRpZmFjdDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYWRkSW5wdXRBcnRpZmFjdChhcnRpZmFjdDogQXJ0aWZhY3QpOiBBY3Rpb24ge1xuICAgICAgICB0aGlzLmlucHV0QXJ0aWZhY3RzLnB1c2goYXJ0aWZhY3QpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5cbi8qKlxuICogQ29uc3RydWN0aW9uIHByb3BlcnRpZXMgb2YgdGhlIGxvdyBsZXZlbCB7QGxpbmsgU291cmNlIHNvdXJjZSBhY3Rpb259XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU291cmNlUHJvcHMge1xuICAgIC8qKlxuICAgICAqIFRoZSBzb3VyY2UgYWN0aW9uIG93bmVyIChjb3VsZCBlIFwiQVdTXCIsIFwiVGhpcmRQYXJ0eVwiIG9yIFwiQ3VzdG9tXCIpXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCBBV1NcbiAgICAgKi9cbiAgICBvd25lcj86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBzb3VyY2UgYWN0aW9uIHZlcmlzb24uXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCBcIjFcIlxuICAgICAqL1xuICAgIHZlcnNpb24/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgc291cmNlJ3Mgb3V0cHV0IGFydGlmYWN0LiBPdXRwdXQgYXJ0aWZhY3RzIGFyZSB1c2VkIGJ5IENvZGVQaXBlbGluZSBhc1xuICAgICAqIGlucHV0cyBpbnRvIG90aGVyIGFjdGlvbnMuXG4gICAgICovXG4gICAgYXJ0aWZhY3ROYW1lOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2VydmljZSBwcm92aWRlciB0aGF0IHRoZSBhY3Rpb24gY2FsbHMuIEZvciBleGFtcGxlLCBhIHZhbGlkIHByb3ZpZGVyIGZvciBTb3VyY2UgYWN0aW9ucyBpcyBTMy5cbiAgICAgKi9cbiAgICBwcm92aWRlcjogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFjdGlvbidzIGNvbmZpZ3VyYXRpb24uIFRoZXNlIGFyZSBrZXktdmFsdWUgcGFpcnMgdGhhdCBzcGVjaWZ5IGlucHV0IHZhbHVlcyBmb3IgYW4gYWN0aW9uLlxuICAgICAqIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgdGhlIEFXUyBDb2RlUGlwZWxpbmUgVXNlciBHdWlkZS5cbiAgICAgKlxuICAgICAqIGh0dHA6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2NvZGVwaXBlbGluZS9sYXRlc3QvdXNlcmd1aWRlL3JlZmVyZW5jZS1waXBlbGluZS1zdHJ1Y3R1cmUuaHRtbCNhY3Rpb24tcmVxdWlyZW1lbnRzXG4gICAgICovXG4gICAgY29uZmlndXJhdGlvbj86IGFueTtcbn1cblxuLyoqXG4gKiBMb3cgbGV2ZWwgY2xhc3MgZm9yIHNvdXJjZSBhY3Rpb25zLlxuICogSXQgaXMgcmVjb21tZW5kZWQgdGhhdCBjb25jcmV0ZSB0eXBlcyBhcmUgdXNlZCBpbnN0ZWFkLCBzdWNoIGFzIHtAbGluayBBbWF6b25TM1NvdXJjZX0gb3JcbiAqIHtAbGluayBDb2RlQ29tbWl0U291cmNlfS5cbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNvdXJjZSBleHRlbmRzIEFjdGlvbiB7XG4gICAgcHVibGljIHJlYWRvbmx5IGFydGlmYWN0OiBBcnRpZmFjdDtcblxuICAgIGNvbnN0cnVjdG9yKHBhcmVudDogU3RhZ2UsIG5hbWU6IHN0cmluZywgcHJvcHM6IFNvdXJjZVByb3BzKSB7XG4gICAgICAgIHN1cGVyKHBhcmVudCwgbmFtZSwge1xuICAgICAgICAgICAgY2F0ZWdvcnk6IEFjdGlvbkNhdGVnb3J5LlNvdXJjZSxcbiAgICAgICAgICAgIG93bmVyOiBwcm9wcy5vd25lcixcbiAgICAgICAgICAgIHByb3ZpZGVyOiBwcm9wcy5wcm92aWRlcixcbiAgICAgICAgICAgIHZlcnNpb246IHByb3BzLnZlcnNpb24sXG4gICAgICAgICAgICBhcnRpZmFjdEJvdW5kczogeyBtaW5JbnB1dHM6IDAsIG1heElucHV0czogMCwgbWluT3V0cHV0czogMSwgbWF4T3V0cHV0czogMSB9LFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbjogcHJvcHMuY29uZmlndXJhdGlvblxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFydGlmYWN0ID0gdGhpcy5hZGRPdXRwdXRBcnRpZmFjdChwcm9wcy5hcnRpZmFjdE5hbWUpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDb25zdHJ1Y3Rpb24gcHJvcGVydGllcyBvZiB0aGUge0BsaW5rIEFtYXpvblMzU291cmNlIFMzIHNvdXJjZSBhY3Rpb259XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQW1hem9uUzNTb3VyY2VQcm9wcyB7XG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIHNvdXJjZSdzIG91dHB1dCBhcnRpZmFjdC4gT3V0cHV0IGFydGlmYWN0cyBhcmUgdXNlZCBieSBDb2RlUGlwZWxpbmUgYXNcbiAgICAgKiBpbnB1dHMgaW50byBvdGhlciBhY3Rpb25zLlxuICAgICAqL1xuICAgIGFydGlmYWN0TmFtZTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIEFtYXpvbiBTMyBidWNrZXQgdGhhdCBzdG9yZXMgdGhlIHNvdXJjZSBjb2RlXG4gICAgICovXG4gICAgYnVja2V0OiBCdWNrZXRSZWY7XG5cbiAgICAvKipcbiAgICAgKiBUaGUga2V5IHdpdGhpbiB0aGUgUzMgYnVja2V0IHRoYXQgc3RvcmVzIHRoZSBzb3VyY2UgY29kZVxuICAgICAqL1xuICAgIGJ1Y2tldEtleTogc3RyaW5nO1xuXG4gICAgLy8gVE9ETzogdXNlIENsb3VkV2F0Y2ggZXZlbnRzIGluc3RlYWRcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCBBV1MgQ29kZVBpcGVsaW5lIHNob3VsZCBwb2xsIGZvciBzb3VyY2UgY2hhbmdlc1xuICAgICAqXG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuICAgIHBvbGxGb3JTb3VyY2VDaGFuZ2VzPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBTb3VyY2UgdGhhdCBpcyBwcm92aWRlZCBieSBhIHNwZWNpZmljIEFtYXpvbiBTMyBvYmplY3RcbiAqL1xuZXhwb3J0IGNsYXNzIEFtYXpvblMzU291cmNlIGV4dGVuZHMgU291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQ6IFN0YWdlLCBuYW1lOiBzdHJpbmcsIHByb3BzOiBBbWF6b25TM1NvdXJjZVByb3BzKSB7XG4gICAgICAgIHN1cGVyKHBhcmVudCwgbmFtZSwge1xuICAgICAgICAgICAgcHJvdmlkZXI6ICdTMycsXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uOiB7XG4gICAgICAgICAgICAgICAgUzNCdWNrZXQ6IHByb3BzLmJ1Y2tldC5idWNrZXROYW1lLFxuICAgICAgICAgICAgICAgIFMzT2JqZWN0S2V5OiBwcm9wcy5idWNrZXRLZXksXG4gICAgICAgICAgICAgICAgUG9sbEZvclNvdXJjZUNoYW5nZXM6IHByb3BzLnBvbGxGb3JTb3VyY2VDaGFuZ2VzIHx8IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhcnRpZmFjdE5hbWU6IHByb3BzLmFydGlmYWN0TmFtZVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBwaXBlbGluZSBuZWVkcyBwZXJtaXNzaW9ucyB0byByZWFkIGZyb20gdGhlIFMzIGJ1Y2tldFxuICAgICAgICBwcm9wcy5idWNrZXQuZ3JhbnRSZWFkKHBhcmVudC5waXBlbGluZS5yb2xlKTtcbiAgICB9XG59XG5cbi8qKlxuICogQ29uc3RydWN0aW9uIHByb3BlcnRpZXMgb2YgdGhlIHtAbGluayBDb2RlQ29tbWl0U291cmNlIENvZGVDb21taXQgc291cmNlIGFjdGlvbn1cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb2RlQ29tbWl0U291cmNlUHJvcHMge1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBzb3VyY2UncyBvdXRwdXQgYXJ0aWZhY3QuIE91dHB1dCBhcnRpZmFjdHMgYXJlIHVzZWQgYnkgQ29kZVBpcGVsaW5lIGFzXG4gICAgICogaW5wdXRzIGludG8gb3RoZXIgYWN0aW9ucy5cbiAgICAgKi9cbiAgICBhcnRpZmFjdE5hbWU6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBDb2RlQ29tbWl0IHJlcG9zaXRvcnkuXG4gICAgICovXG4gICAgcmVwb3NpdG9yeTogUmVwb3NpdG9yeVJlZjtcblxuICAgIC8qKlxuICAgICAqIEBkZWZhdWx0ICdtYXN0ZXInXG4gICAgICovXG4gICAgYnJhbmNoPzogc3RyaW5nO1xuXG4gICAgLy8gVE9ETzogdXNlIENsb3VkV2F0Y2ggZXZlbnRzIGluc3RlYWRcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCBBV1MgQ29kZVBpcGVsaW5lIHNob3VsZCBwb2xsIGZvciBzb3VyY2UgY2hhbmdlc1xuICAgICAqXG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuICAgIHBvbGxGb3JTb3VyY2VDaGFuZ2VzPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBTb3VyY2UgdGhhdCBpcyBwcm92aWRlZCBieSBhbiBBV1MgQ29kZUNvbW1pdCByZXBvc2l0b3J5XG4gKi9cbmV4cG9ydCBjbGFzcyBDb2RlQ29tbWl0U291cmNlIGV4dGVuZHMgU291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQ6IFN0YWdlLCBuYW1lOiBzdHJpbmcsIHByb3BzOiBDb2RlQ29tbWl0U291cmNlUHJvcHMpIHtcbiAgICAgICAgc3VwZXIocGFyZW50LCBuYW1lLCB7XG4gICAgICAgICAgICBwcm92aWRlcjogJ0NvZGVDb21taXQnLFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbjoge1xuICAgICAgICAgICAgICAgIFJlcG9zaXRvcnlOYW1lOiBwcm9wcy5yZXBvc2l0b3J5LnJlcG9zaXRvcnlOYW1lLFxuICAgICAgICAgICAgICAgIEJyYW5jaE5hbWU6IHByb3BzLmJyYW5jaCB8fCAnbWFzdGVyJyxcbiAgICAgICAgICAgICAgICBQb2xsRm9yU291cmNlQ2hhbmdlczogcHJvcHMucG9sbEZvclNvdXJjZUNoYW5nZXMgfHwgdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFydGlmYWN0TmFtZTogcHJvcHMuYXJ0aWZhY3ROYW1lXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9jb2RlY29tbWl0L2xhdGVzdC91c2VyZ3VpZGUvYXV0aC1hbmQtYWNjZXNzLWNvbnRyb2wtcGVybWlzc2lvbnMtcmVmZXJlbmNlLmh0bWwjYWEtYWNwXG4gICAgICAgIGNvbnN0IGFjdGlvbnMgPSBbXG4gICAgICAgICAgICAnY29kZWNvbW1pdDpHZXRCcmFuY2gnLFxuICAgICAgICAgICAgJ2NvZGVjb21taXQ6R2V0Q29tbWl0JyxcbiAgICAgICAgICAgICdjb2RlY29tbWl0OlVwbG9hZEFyY2hpdmUnLFxuICAgICAgICAgICAgJ2NvZGVjb21taXQ6R2V0VXBsb2FkQXJjaGl2ZVN0YXR1cycsXG4gICAgICAgICAgICAnY29kZWNvbW1pdDpDYW5jZWxVcGxvYWRBcmNoaXZlJyxcbiAgICAgICAgXTtcblxuICAgICAgICBwYXJlbnQucGlwZWxpbmUuYWRkVG9Sb2xlUG9saWN5KG5ldyBQb2xpY3lTdGF0ZW1lbnQoKVxuICAgICAgICAgICAgLmFkZFJlc291cmNlKHByb3BzLnJlcG9zaXRvcnkucmVwb3NpdG9yeUFybilcbiAgICAgICAgICAgIC5hZGRBY3Rpb25zKC4uLmFjdGlvbnMpKTtcbiAgICB9XG59XG5cbi8qKlxuICogQ29uc3RydWN0aW9uIHByb3BlcnRpZXMgb2YgdGhlIHtAbGluayBHaXRIdWJTb3VyY2UgR2l0SHViIHNvdXJjZSBhY3Rpb259XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2l0aHViU291cmNlUHJvcHMge1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBzb3VyY2UncyBvdXRwdXQgYXJ0aWZhY3QuIE91dHB1dCBhcnRpZmFjdHMgYXJlIHVzZWQgYnkgQ29kZVBpcGVsaW5lIGFzXG4gICAgICogaW5wdXRzIGludG8gb3RoZXIgYWN0aW9ucy5cbiAgICAgKi9cbiAgICBhcnRpZmFjdE5hbWU6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBHaXRIdWIgYWNjb3VudC91c2VyIHRoYXQgb3ducyB0aGUgcmVwby5cbiAgICAgKi9cbiAgICBvd25lcjogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIHJlcG8sIHdpdGhvdXQgdGhlIHVzZXJuYW1lLlxuICAgICAqL1xuICAgIHJlcG86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBicmFuY2ggdG8gdXNlLlxuICAgICAqXG4gICAgICogQGRlZmF1bHQgXCJtYXN0ZXJcIlxuICAgICAqL1xuICAgIGJyYW5jaD86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEEgR2l0SHViIE9BdXRoIHRva2VuIHRvIHVzZSBmb3IgYXV0aGVudGljYXRpb24uXG4gICAgICpcbiAgICAgKiBJdCBpcyByZWNvbW1lbmRlZCB0byB1c2UgYSBgU2VjcmV0UGFyYW1ldGVyYCB0byBvYnRhaW4gdGhlIHRva2VuIGZyb20gdGhlIFNTTVxuICAgICAqIFBhcmFtZXRlciBTdG9yZTpcbiAgICAgKlxuICAgICAqICAgICBjb25zdCBvYXV0aCA9IG5ldyBTZWNyZXRQYXJhbWV0ZXIodGhpcywgJ0dpdEh1Yk9BdXRoVG9rZW4nLCB7IHNzbVBhcmFtZXRlcjogJ215LWdpdGh1Yi10b2tlbiB9KTtcbiAgICAgKiAgICAgbmV3IEdpdEh1YlNvdXJjZShzdGFnZSwgJ0dIJyB7IG9hdXRoVG9rZW46IG9hdXRoIH0pO1xuICAgICAqXG4gICAgICovXG4gICAgb2F1dGhUb2tlbjogU2VjcmV0O1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgQVdTIENvZGVQaXBlbGluZSBzaG91bGQgcG9sbCBmb3Igc291cmNlIGNoYW5nZXNcbiAgICAgKlxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cbiAgICBwb2xsRm9yU291cmNlQ2hhbmdlcz86IGJvb2xlYW47XG59XG5cbi8qKlxuICogU291cmNlIHRoYXQgaXMgcHJvdmlkZWQgYnkgYSBHaXRIdWIgcmVwb3NpdG9yeVxuICovXG5leHBvcnQgY2xhc3MgR2l0SHViU291cmNlIGV4dGVuZHMgU291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQ6IFN0YWdlLCBuYW1lOiBzdHJpbmcsIHByb3BzOiBHaXRodWJTb3VyY2VQcm9wcykge1xuICAgICAgICBzdXBlcihwYXJlbnQsIG5hbWUsIHtcbiAgICAgICAgICAgIG93bmVyOiAnVGhpcmRQYXJ0eScsXG4gICAgICAgICAgICBwcm92aWRlcjogJ0dpdEh1YicsXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uOiB7XG4gICAgICAgICAgICAgICAgT3duZXI6IHByb3BzLm93bmVyLFxuICAgICAgICAgICAgICAgIFJlcG86IHByb3BzLnJlcG8sXG4gICAgICAgICAgICAgICAgQnJhbmNoOiBwcm9wcy5icmFuY2ggfHwgXCJtYXN0ZXJcIixcbiAgICAgICAgICAgICAgICBPQXV0aFRva2VuOiBwcm9wcy5vYXV0aFRva2VuLFxuICAgICAgICAgICAgICAgIFBvbGxGb3JTb3VyY2VDaGFuZ2VzOiBwcm9wcy5wb2xsRm9yU291cmNlQ2hhbmdlcyB8fCB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXJ0aWZhY3ROYW1lOiBwcm9wcy5hcnRpZmFjdE5hbWVcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG4vKipcbiAqIENvbnN0cnVjdGlvbiBwcm9wZXJ0aWVzIG9mIHRoZSBsb3cgbGV2ZWwge0BsaW5rIEJ1aWxkQWN0aW9uIGJ1aWxkIGFjdGlvbn1cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCdWlsZEFjdGlvblByb3BzIHtcbiAgICAvKipcbiAgICAgKiBUaGUgc291cmNlIHRvIHVzZSBhcyBpbnB1dCBmb3IgdGhpcyBidWlsZFxuICAgICAqL1xuICAgIGlucHV0QXJ0aWZhY3Q6IEFydGlmYWN0O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNlcnZpY2UgcHJvdmlkZXIgdGhhdCB0aGUgYWN0aW9uIGNhbGxzLiBGb3IgZXhhbXBsZSwgYSB2YWxpZCBwcm92aWRlciBmb3IgU291cmNlIGFjdGlvbnMgaXMgQ29kZUJ1aWxkLlxuICAgICAqL1xuICAgIHByb3ZpZGVyOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgYnVpbGQncyBvdXRwdXQgYXJ0aWZhY3RcbiAgICAgKi9cbiAgICBhcnRpZmFjdE5hbWU/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYWN0aW9uJ3MgY29uZmlndXJhdGlvbi4gVGhlc2UgYXJlIGtleS12YWx1ZSBwYWlycyB0aGF0IHNwZWNpZnkgaW5wdXQgdmFsdWVzIGZvciBhbiBhY3Rpb24uXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZSB0aGUgQVdTIENvZGVQaXBlbGluZSBVc2VyIEd1aWRlLlxuICAgICAqXG4gICAgICogaHR0cDovL2RvY3MuYXdzLmFtYXpvbi5jb20vY29kZXBpcGVsaW5lL2xhdGVzdC91c2VyZ3VpZGUvcmVmZXJlbmNlLXBpcGVsaW5lLXN0cnVjdHVyZS5odG1sI2FjdGlvbi1yZXF1aXJlbWVudHNcbiAgICAgKi9cbiAgICBjb25maWd1cmF0aW9uPzogYW55O1xufVxuXG4vKipcbiAqIExvdyBsZXZlbCBjbGFzcyBmb3IgYnVpbGQgYWN0aW9ucy5cbiAqIEl0IGlzIHJlY29tbWVuZGVkIHRoYXQgY29uY3JldGUgdHlwZXMgYXJlIHVzZWQgaW5zdGVhZCwgc3VjaCBhcyB7QGxpbmsgQ29kZUJ1aWxkQWN0aW9ufS5cbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJ1aWxkQWN0aW9uIGV4dGVuZHMgQWN0aW9uIHtcbiAgICBwdWJsaWMgcmVhZG9ubHkgYXJ0aWZhY3Q/OiBBcnRpZmFjdDtcblxuICAgIGNvbnN0cnVjdG9yKHBhcmVudDogU3RhZ2UsIG5hbWU6IHN0cmluZywgcHJvcHM6IEJ1aWxkQWN0aW9uUHJvcHMpIHtcbiAgICAgICAgc3VwZXIocGFyZW50LCBuYW1lLCB7XG4gICAgICAgICAgICBhcnRpZmFjdEJvdW5kczogeyBtaW5JbnB1dHM6IDEsIG1heElucHV0czogMSwgbWluT3V0cHV0czogMCwgbWF4T3V0cHV0czogMSB9LFxuICAgICAgICAgICAgY2F0ZWdvcnk6IEFjdGlvbkNhdGVnb3J5LkJ1aWxkLFxuICAgICAgICAgICAgcHJvdmlkZXI6IHByb3BzLnByb3ZpZGVyLFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbjogcHJvcHMuY29uZmlndXJhdGlvblxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFkZElucHV0QXJ0aWZhY3QocHJvcHMuaW5wdXRBcnRpZmFjdCk7XG4gICAgICAgIGlmIChwcm9wcy5hcnRpZmFjdE5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMuYXJ0aWZhY3QgPSB0aGlzLmFkZE91dHB1dEFydGlmYWN0KHByb3BzLmFydGlmYWN0TmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQ29uc3RydWN0aW9uIHByb3BlcnRpZXMgb2YgdGhlIHtAbGluayBDb2RlQnVpbGRBY3Rpb24gQ29kZUJ1aWxkIGFjdGlvbn1cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb2RlQnVpbGRBY3Rpb25Qcm9wcyB7XG4gICAgLyoqXG4gICAgICogVGhlIHNvdXJjZSB0byB1c2UgYXMgaW5wdXQgZm9yIHRoaXMgYnVpbGRcbiAgICAgKi9cbiAgICBpbnB1dEFydGlmYWN0OiBBcnRpZmFjdDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBidWlsZCdzIG91dHB1dCBhcnRpZmFjdFxuICAgICAqL1xuICAgIGFydGlmYWN0TmFtZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBidWlsZCBwcm9qZWN0XG4gICAgICovXG4gICAgcHJvamVjdDogQnVpbGRQcm9qZWN0UmVmO1xufVxuXG4vKipcbiAqIEJ1aWxkIGFjdGlvbiB0aGF0IHVzZXMgQVdTIENvZGVCdWlsZFxuICovXG5leHBvcnQgY2xhc3MgQ29kZUJ1aWxkQWN0aW9uIGV4dGVuZHMgQnVpbGRBY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudDogU3RhZ2UsIG5hbWU6IHN0cmluZywgcHJvcHM6IENvZGVCdWlsZEFjdGlvblByb3BzKSB7XG4gICAgICAgIC8vIFRoaXMgaGFwcGVuZWQgd2hlbiBQcm9qZWN0TmFtZSB3YXMgYWNjaWRlbnRhbGx5IHNldCB0byB0aGUgcHJvamVjdCdzIEFSTjpcbiAgICAgICAgLy8gaHR0cHM6Ly9xaWl0YS5jb20vaWtlaXN1a2UvaXRlbXMvMmZiYzBiODBiOWJiZDk4MWI0MWZcblxuICAgICAgICBzdXBlcihwYXJlbnQsIG5hbWUsIHtcbiAgICAgICAgICAgIHByb3ZpZGVyOiAnQ29kZUJ1aWxkJyxcbiAgICAgICAgICAgIGlucHV0QXJ0aWZhY3Q6IHByb3BzLmlucHV0QXJ0aWZhY3QsXG4gICAgICAgICAgICBhcnRpZmFjdE5hbWU6IHByb3BzLmFydGlmYWN0TmFtZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb246IHtcbiAgICAgICAgICAgICAgICBQcm9qZWN0TmFtZTogcHJvcHMucHJvamVjdC5wcm9qZWN0TmFtZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBhY3Rpb25zID0gW1xuICAgICAgICAgICAgJ2NvZGVidWlsZDpCYXRjaEdldEJ1aWxkcycsXG4gICAgICAgICAgICAnY29kZWJ1aWxkOlN0YXJ0QnVpbGQnLFxuICAgICAgICAgICAgJ2NvZGVidWlsZDpTdG9wQnVpbGQnLFxuICAgICAgICBdO1xuXG4gICAgICAgIHBhcmVudC5waXBlbGluZS5hZGRUb1JvbGVQb2xpY3kobmV3IFBvbGljeVN0YXRlbWVudCgpXG4gICAgICAgICAgICAuYWRkUmVzb3VyY2UocHJvcHMucHJvamVjdC5wcm9qZWN0QXJuKVxuICAgICAgICAgICAgLmFkZEFjdGlvbnMoLi4uYWN0aW9ucykpO1xuXG4gICAgICAgIC8vIGFsbG93IGNvZGVidWlsZCB0byByZWFkIGFuZCB3cml0ZSBhcnRpZmFjdHMgdG8gdGhlIHBpcGxpbmUncyBhcnRpZmFjdCBidWNrZXQuXG4gICAgICAgIHBhcmVudC5waXBlbGluZS5hcnRpZmFjdEJ1Y2tldC5ncmFudFJlYWRXcml0ZShwcm9wcy5wcm9qZWN0LnJvbGUpO1xuXG4gICAgICAgIC8vIHBvbGljeSBtdXN0IGJlIGFkZGVkIGFzIGEgZGVwZW5kZW5jeSB0byB0aGUgcGlwZWxpbmUhIVxuICAgICAgICAvLyBUT0RPOiBncmFudHMgLSBidWlsZC5hZGRSZXNvdXJjZVBlcm1pc3Npb24oKSBhbmQgYWxzbyBtYWtlIHN1cmUgcGVybWlzc2lvblxuICAgICAgICAvLyBpbmNsdWRlcyB0aGUgcGlwZWxpbmUgcm9sZSBBV1MgcHJpbmNpcGFsLlxuICAgIH1cbn1cblxuLyoqXG4gKiBNYW51YWwgYXBwcm92YWwgYWN0aW9uXG4gKi9cbmV4cG9ydCBjbGFzcyBBcHByb3ZhbEFjdGlvbiBleHRlbmRzIEFjdGlvbiB7XG4gICAgY29uc3RydWN0b3IocGFyZW50OiBTdGFnZSwgbmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKHBhcmVudCwgbmFtZSwge1xuICAgICAgICAgICAgY2F0ZWdvcnk6IEFjdGlvbkNhdGVnb3J5LkFwcHJvdmFsLFxuICAgICAgICAgICAgcHJvdmlkZXI6ICdNYW51YWwnLFxuICAgICAgICAgICAgYXJ0aWZhY3RCb3VuZHM6IHsgbWluSW5wdXRzOiAwLCBtYXhJbnB1dHM6IDAsIG1pbk91dHB1dHM6IDAsIG1heE91dHB1dHM6IDAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW52b2tlTGFtYmRhUHJvcHMge1xuICAgIC8qKlxuICAgICAqIFRoZSBsYW1iZGEgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgICAqL1xuICAgIGxhbWJkYTogTGFtYmRhUmVmO1xuXG4gICAgLyoqXG4gICAgICogU3RyaW5nIHRvIGJlIHVzZWQgaW4gdGhlIGV2ZW50IGRhdGEgcGFyYW1ldGVyIHBhc3NlZCB0byB0aGUgTGFtYmRhXG4gICAgICogZnVuY3Rpb25cbiAgICAgKlxuICAgICAqIFNlZSBhbiBleGFtcGxlIEpTT04gZXZlbnQgaW4gdGhlIENvZGVQaXBlbGluZSBkb2N1bWVudGF0aW9uLlxuICAgICAqXG4gICAgICogaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2NvZGVwaXBlbGluZS9sYXRlc3QvdXNlcmd1aWRlL2FjdGlvbnMtaW52b2tlLWxhbWJkYS1mdW5jdGlvbi5odG1sI2FjdGlvbnMtaW52b2tlLWxhbWJkYS1mdW5jdGlvbi1qc29uLWV2ZW50LWV4YW1wbGVcbiAgICAgKi9cbiAgICB1c2VyUGFyYW1ldGVycz86IGFueTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgdGhlIFwiY29kZXBpcGVsaW5lOlB1dEpvYlN1Y2Nlc3NSZXN1bHRcIiBhbmRcbiAgICAgKiBcImNvZGVwaXBlbGluZTpQdXRKb2JGYWlsdXJlUmVzdWx0XCIgZm9yICcqJyByZXNvdXJjZSB0byB0aGUgTGFtYmRhXG4gICAgICogZXhlY3V0aW9uIHJvbGUgcG9saWN5LlxuICAgICAqXG4gICAgICogTk9URTogdGhlIHJlYXNvbiB3ZSBjYW4ndCBhZGQgdGhlIHNwZWNpZmljIHBpcGVsaW5lIEFSTiBhcyBhIHJlc291cmNlIGlzXG4gICAgICogdG8gYXZvaWQgYSBjeWNsaWMgZGVwZW5kZW5jeSBiZXR3ZWVuIHRoZSBwaXBlbGluZSBhbmQgdGhlIExhbWJkYSBmdW5jdGlvblxuICAgICAqICh0aGUgcGlwZWxpbmUgcmVmZXJlbmNlcykgdGhlIExhbWJkYSBhbmQgdGhlIExhbWJkYSBuZWVkcyBwZXJtaXNzaW9ucyBvblxuICAgICAqIHRoZSBwaXBlbGluZS5cbiAgICAgKlxuICAgICAqIEBzZWVcbiAgICAgKiBodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vY29kZXBpcGVsaW5lL2xhdGVzdC91c2VyZ3VpZGUvYWN0aW9ucy1pbnZva2UtbGFtYmRhLWZ1bmN0aW9uLmh0bWwjYWN0aW9ucy1pbnZva2UtbGFtYmRhLWZ1bmN0aW9uLWNyZWF0ZS1mdW5jdGlvblxuICAgICAqXG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuICAgIGFkZFB1dEpvYlJlc3VsdFBvbGljeT86IGJvb2xlYW47XG59XG4vKipcbiAqIEBsaW5rIGh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9jb2RlcGlwZWxpbmUvbGF0ZXN0L3VzZXJndWlkZS9hY3Rpb25zLWludm9rZS1sYW1iZGEtZnVuY3Rpb24uaHRtbFxuICovXG5leHBvcnQgY2xhc3MgSW52b2tlTGFtYmRhQWN0aW9uIGV4dGVuZHMgQWN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQ6IFN0YWdlLCBuYW1lOiBzdHJpbmcsIHByb3BzOiBJbnZva2VMYW1iZGFQcm9wcykge1xuICAgICAgICBzdXBlcihwYXJlbnQsIG5hbWUsIHtcbiAgICAgICAgICAgIGNhdGVnb3J5OiBBY3Rpb25DYXRlZ29yeS5JbnZva2UsXG4gICAgICAgICAgICBwcm92aWRlcjogJ0xhbWJkYScsXG4gICAgICAgICAgICBhcnRpZmFjdEJvdW5kczogZGVmYXVsdEJvdW5kcygpLFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbjoge1xuICAgICAgICAgICAgICAgIEZ1bmN0aW9uTmFtZTogcHJvcHMubGFtYmRhLmZ1bmN0aW9uTmFtZSxcbiAgICAgICAgICAgICAgICBVc2VyUGFyYW1ldGVyczogcHJvcHMudXNlclBhcmFtZXRlcnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gYWxsb3cgcGlwZWxpbmUgdG8gbGlzdCBmdW5jdGlvbnNcbiAgICAgICAgcGFyZW50LnBpcGVsaW5lLmFkZFRvUm9sZVBvbGljeShuZXcgUG9saWN5U3RhdGVtZW50KClcbiAgICAgICAgICAgIC5hZGRBY3Rpb24oJ2xhbWJkYTpMaXN0RnVuY3Rpb25zJylcbiAgICAgICAgICAgIC5hZGRSZXNvdXJjZSgnKicpKTtcblxuICAgICAgICAvLyBhbGxvdyBwaXBlbGluZSB0byBpbnZva2UgdGhpcyBsYW1iZGEgZnVuY3Rpb25uXG4gICAgICAgIHBhcmVudC5waXBlbGluZS5hZGRUb1JvbGVQb2xpY3kobmV3IFBvbGljeVN0YXRlbWVudCgpXG4gICAgICAgICAgICAuYWRkQWN0aW9uKCdsYW1iZGE6SW52b2tlRnVuY3Rpb24nKVxuICAgICAgICAgICAgLmFkZFJlc291cmNlKHByb3BzLmxhbWJkYS5mdW5jdGlvbkFybikpO1xuXG4gICAgICAgIC8vIGFsbG93IGxhbWJkYSB0byBwdXQgam9iIHJlc3VsdHMgZm9yIHRoaXMgcGlwZWxpbmUuXG4gICAgICAgIGNvbnN0IGFkZFRvUG9saWN5ID0gcHJvcHMuYWRkUHV0Sm9iUmVzdWx0UG9saWN5ICE9PSB1bmRlZmluZWQgPyBwcm9wcy5hZGRQdXRKb2JSZXN1bHRQb2xpY3kgOiB0cnVlO1xuICAgICAgICBpZiAoYWRkVG9Qb2xpY3kpIHtcbiAgICAgICAgICAgIHByb3BzLmxhbWJkYS5hZGRUb1JvbGVQb2xpY3kobmV3IFBvbGljeVN0YXRlbWVudCgpXG4gICAgICAgICAgICAgICAgLmFkZFJlc291cmNlKCcqJykgLy8gdG8gYXZvaWQgY3ljbGVzIChzZWUgZG9jcylcbiAgICAgICAgICAgICAgICAuYWRkQWN0aW9uKCdjb2RlcGlwZWxpbmU6UHV0Sm9iU3VjY2Vzc1Jlc3VsdCcpXG4gICAgICAgICAgICAgICAgLmFkZEFjdGlvbignY29kZXBpcGVsaW5lOlB1dEpvYkZhaWx1cmVSZXN1bHQnKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYW4gaW5wdXQgYXJ0aWZhY3RcbiAgICAgKiBAcGFyYW0gYXJ0aWZhY3RcbiAgICAgKi9cbiAgICBwdWJsaWMgYWRkSW5wdXRBcnRpZmFjdChhcnRpZmFjdDogQXJ0aWZhY3QpOiBJbnZva2VMYW1iZGFBY3Rpb24ge1xuICAgICAgICBzdXBlci5hZGRJbnB1dEFydGlmYWN0KGFydGlmYWN0KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG4vLyBleHBvcnQgY2xhc3MgVGVzdEFjdGlvbiBleHRlbmRzIEFjdGlvbiB7XG4vLyAgICAgY29uc3RydWN0b3IocGFyZW50OiBTdGFnZSwgbmFtZTogc3RyaW5nLCBwcm92aWRlcjogc3RyaW5nLCBhcnRpZmFjdEJvdW5kczogQWN0aW9uQXJ0aWZhY3RCb3VuZHMsIGNvbmZpZ3VyYXRpb24/OiBhbnkpIHtcbi8vICAgICAgICAgc3VwZXIocGFyZW50LCBuYW1lLCB7XG4vLyAgICAgICAgICAgY2F0ZWdvcnk6IEFjdGlvbkNhdGVnb3J5LlRlc3QsXG4vLyAgICAgICAgICAgcHJvdmlkZXIsXG4vLyAgICAgICAgICAgYXJ0aWZhY3RCb3VuZHMsXG4vLyAgICAgICAgICAgY29uZmlndXJhdGlvblxuLy8gICAgICAgICB9KTtcbi8vICAgICB9XG4vLyB9XG5cbi8vIGV4cG9ydCBjbGFzcyBDb2RlQnVpbGRUZXN0IGV4dGVuZHMgVGVzdEFjdGlvbiB7XG4vLyAgICAgY29uc3RydWN0b3IocGFyZW50OiBTdGFnZSwgbmFtZTogc3RyaW5nLCBwcm9qZWN0OiBjb2RlYnVpbGQuUHJvamVjdEFybkF0dHJpYnV0ZSkge1xuLy8gICAgICAgICBzdXBlcihwYXJlbnQsIG5hbWUsICdDb2RlQnVpbGQnLCB7IG1pbklucHV0czogMSwgbWF4SW5wdXRzOiAxLCBtaW5PdXRwdXRzOiAwLCBtYXhPdXRwdXRzOiAxIH0sIHtcbi8vICAgICAgICAgICAgIFByb2plY3ROYW1lOiBwcm9qZWN0XG4vLyAgICAgICAgIH0pO1xuLy8gICAgIH1cbi8vIH1cblxuLy8gZXhwb3J0IGNsYXNzIERlcGxveUFjdGlvbiBleHRlbmRzIEFjdGlvbiB7XG4vLyAgICAgY29uc3RydWN0b3IocGFyZW50OiBTdGFnZSwgbmFtZTogc3RyaW5nLCBwcm92aWRlcjogc3RyaW5nLCBhcnRpZmFjdEJvdW5kczogQWN0aW9uQXJ0aWZhY3RCb3VuZHMsIGNvbmZpZ3VyYXRpb24/OiBhbnkpIHtcbi8vICAgICAgICAgc3VwZXIocGFyZW50LCBuYW1lLCB7XG4vLyAgICAgICAgICAgY2F0ZWdvcnk6IEFjdGlvbkNhdGVnb3J5LkRlcGxveSxcbi8vICAgICAgICAgICBwcm92aWRlcixcbi8vICAgICAgICAgICBhcnRpZmFjdEJvdW5kcyxcbi8vICAgICAgICAgICBjb25maWd1cmF0aW9uXG4vLyAgICAgICAgIH0pO1xuLy8gICAgIH1cbi8vIH1cblxuLy8gZXhwb3J0IGNsYXNzIENvZGVEZXBsb3kgZXh0ZW5kcyBEZXBsb3lBY3Rpb24ge1xuLy8gICAgIGNvbnN0cnVjdG9yKHBhcmVudDogU3RhZ2UsIG5hbWU6IHN0cmluZywgYXBwbGljYXRpb25OYW1lOiBzdHJpbmcsIGRlcGxveW1lbnRHcm91cE5hbWU6IHN0cmluZykge1xuLy8gICAgICAgICBzdXBlcihwYXJlbnQsIG5hbWUsICdDb2RlRGVwbG95JywgeyBtaW5JbnB1dHM6IDEsIG1heElucHV0czogMSwgbWluT3V0cHV0czogMCwgbWF4T3V0cHV0czogMCB9LCB7XG4vLyAgICAgICAgICAgICBBcHBsaWNhdGlvbk5hbWU6IGFwcGxpY2F0aW9uTmFtZSxcbi8vICAgICAgICAgICAgIERlcGxveW1lbnRHcm91cE5hbWU6IGRlcGxveW1lbnRHcm91cE5hbWVcbi8vICAgICAgICAgfSk7XG4vLyAgICAgfVxuLy8gfVxuXG4vLyBleHBvcnQgY2xhc3MgRWxhc3RpY0JlYW5zdGFsa0RlcGxveSBleHRlbmRzIERlcGxveUFjdGlvbiB7XG4vLyAgICAgY29uc3RydWN0b3IocGFyZW50OiBTdGFnZSwgbmFtZTogc3RyaW5nLCBhcHBsaWNhdGlvbk5hbWU6IHN0cmluZywgZW52aXJvbm1lbnROYW1lOiBzdHJpbmcpIHtcbi8vICAgICAgICAgc3VwZXIocGFyZW50LCBuYW1lLCAnRWxhc3RpY0JlYW5zdGFsaycsIHsgbWluSW5wdXRzOiAxLCBtYXhJbnB1dHM6IDEsIG1pbk91dHB1dHM6IDAsIG1heE91dHB1dHM6IDAgfSwge1xuLy8gICAgICAgICAgICAgQXBwbGljYXRpb25OYW1lOiBhcHBsaWNhdGlvbk5hbWUsXG4vLyAgICAgICAgICAgICBFbnZpcm9ubWVudE5hbWU6IGVudmlyb25tZW50TmFtZVxuLy8gICAgICAgICB9KTtcbi8vICAgICB9XG4vLyB9XG5cbi8vIGV4cG9ydCBjbGFzcyBPcHNXb3Jrc0RlcGxveSBleHRlbmRzIERlcGxveUFjdGlvbiB7XG4vLyAgICAgY29uc3RydWN0b3IocGFyZW50OiBTdGFnZSwgbmFtZTogc3RyaW5nLCBhcHA6IHN0cmluZywgc3RhY2s6IHN0cmluZywgbGF5ZXI/OiBzdHJpbmcpIHtcbi8vICAgICAgICAgc3VwZXIocGFyZW50LCBuYW1lLCAnT3BzV29ya3MnLCB7IG1pbklucHV0czogMSwgbWF4SW5wdXRzOiAxLCBtaW5PdXRwdXRzOiAwLCBtYXhPdXRwdXRzOiAwIH0sIHtcbi8vICAgICAgICAgICAgIFN0YWNrOiBzdGFjayxcbi8vICAgICAgICAgICAgIEFwcDogYXBwLFxuLy8gICAgICAgICAgICAgTGF5ZXI6IGxheWVyLFxuLy8gICAgICAgICB9KTtcbi8vICAgICB9XG4vLyB9XG5cbi8vIGV4cG9ydCBjbGFzcyBFQ1NEZXBsb3kgZXh0ZW5kcyBEZXBsb3lBY3Rpb24ge1xuLy8gICAgIGNvbnN0cnVjdG9yKHBhcmVudDogU3RhZ2UsIG5hbWU6IHN0cmluZywgY2x1c3Rlck5hbWU6IHN0cmluZywgc2VydmljZU5hbWU6IHN0cmluZywgZmlsZU5hbWU/OiBzdHJpbmcpIHtcbi8vICAgICAgICAgc3VwZXIocGFyZW50LCBuYW1lLCAnRUNTJywgeyBtaW5JbnB1dHM6IDEsIG1heElucHV0czogMSwgbWluT3V0cHV0czogMCwgbWF4T3V0cHV0czogMCB9LCB7XG4vLyAgICAgICAgICAgICBDbHVzdGVyTmFtZTogY2x1c3Rlck5hbWUsXG4vLyAgICAgICAgICAgICBTZXJ2aWNlTmFtZTogc2VydmljZU5hbWUsXG4vLyAgICAgICAgICAgICBGaWxlTmFtZTogZmlsZU5hbWUsXG4vLyAgICAgICAgIH0pO1xuLy8gICAgIH1cbi8vIH1cblxuLypcbiAgVE9ETzogQSBKZW5raW5zIGJ1aWxkIG5lZWRzIGEgY29ycmVzcG9uZGluZyBjdXN0b20gYWN0aW9uIGZvciBlYWNoIFwiSmVua2lucyBwcm92aWRlclwiLlxuICAgICAgICBUaGlzIHNob3VsZCBiZSBjcmVhdGVkIGF1dG9tYXRpY2FsbHkuXG5cbiAgRXhhbXBsZSBjdXN0b20gYWN0aW9uIGNyZWF0ZWQgdG8gZXhlY3V0ZSBKZW5raW5zOlxuICB7XG4gICAgXCJpZFwiOiB7XG4gICAgICAgIFwiY2F0ZWdvcnlcIjogXCJUZXN0XCIsXG4gICAgICAgIFwicHJvdmlkZXJcIjogXCI8cHJvdmlkZXIgbmFtZT5cIixcbiAgICAgICAgXCJvd25lclwiOiBcIkN1c3RvbVwiLFxuICAgICAgICBcInZlcnNpb25cIjogXCIxXCJcbiAgICB9LFxuICAgIFwib3V0cHV0QXJ0aWZhY3REZXRhaWxzXCI6IHtcbiAgICAgICAgXCJtaW5pbXVtQ291bnRcIjogMCxcbiAgICAgICAgXCJtYXhpbXVtQ291bnRcIjogNVxuICAgIH0sXG4gICAgXCJzZXR0aW5nc1wiOiB7XG4gICAgICAgIFwiZXhlY3V0aW9uVXJsVGVtcGxhdGVcIjogXCJodHRwczovL3d3dy5nb29nbGUuY29tL2pvYi97Q29uZmlnOlByb2plY3ROYW1lfS97RXh0ZXJuYWxFeGVjdXRpb25JZH1cIixcbiAgICAgICAgXCJlbnRpdHlVcmxUZW1wbGF0ZVwiOiBcImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vam9iL3tDb25maWc6UHJvamVjdE5hbWV9XCJcbiAgICB9LFxuICAgIFwiYWN0aW9uQ29uZmlndXJhdGlvblByb3BlcnRpZXNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgICBcInF1ZXJ5YWJsZVwiOiB0cnVlLFxuICAgICAgICAgICAgXCJrZXlcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIlByb2plY3ROYW1lXCIsXG4gICAgICAgICAgICBcInJlcXVpcmVkXCI6IHRydWUsXG4gICAgICAgICAgICBcInNlY3JldFwiOiBmYWxzZVxuICAgICAgICB9XG4gICAgXSxcbiAgICBcImlucHV0QXJ0aWZhY3REZXRhaWxzXCI6IHtcbiAgICAgICAgXCJtaW5pbXVtQ291bnRcIjogMCxcbiAgICAgICAgXCJtYXhpbXVtQ291bnRcIjogNVxuICAgIH1cbiAgfVxuKi9cblxuLy8gZXhwb3J0IGNsYXNzIEplbmtpbnNCdWlsZCBleHRlbmRzIEJ1aWxkQWN0aW9uIHtcbi8vICAgICBjb25zdHJ1Y3RvcihwYXJlbnQ6IFN0YWdlLCBuYW1lOiBzdHJpbmcsIGplbmtpbnNQcm92aWRlcjogc3RyaW5nLCBwcm9qZWN0OiBzdHJpbmcpIHtcbi8vICAgICAgICAgc3VwZXIocGFyZW50LCBuYW1lLCBqZW5raW5zUHJvdmlkZXIsIERlZmF1bHRCb3VuZHMoKSwge1xuLy8gICAgICAgICAgICAgUHJvamVjdE5hbWU6IHByb2plY3Rcbi8vICAgICAgICAgfSk7XG4vLyAgICAgfVxuLy8gfVxuXG4vLyBleHBvcnQgY2xhc3MgSmVua2luc1Rlc3QgZXh0ZW5kcyBUZXN0QWN0aW9uIHtcbi8vICAgICBjb25zdHJ1Y3RvcihwYXJlbnQ6IFN0YWdlLCBuYW1lOiBzdHJpbmcsIGplbmtpbnNQcm92aWRlcjogc3RyaW5nLCBwcm9qZWN0OiBzdHJpbmcpIHtcbi8vICAgICAgICAgc3VwZXIocGFyZW50LCBuYW1lLCBqZW5raW5zUHJvdmlkZXIsIERlZmF1bHRCb3VuZHMoKSwge1xuLy8gICAgICAgICAgICAgUHJvamVjdE5hbWU6IHByb2plY3Rcbi8vICAgICAgICAgfSk7XG4vLyAgICAgfVxuLy8gfVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC9yb290L3JlcG9zL2F3cy1jZGsvcGFja2FnZXMvQGF3cy1jZGsvY29kZXBpcGVsaW5lL2xpYi9hY3Rpb25zLnRzIiwibW9kdWxlLmV4cG9ydHMgPSBqc2lpJF9hd3NfY2RrX2V2ZW50cyQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJqc2lpJF9hd3NfY2RrX2V2ZW50cyRcIlxuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgeyBDb25zdHJ1Y3QsIFRva2VuIH0gZnJvbSBcIkBhd3MtY2RrL2NvcmVcIjtcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gXCIuL2FjdGlvbnNcIjtcblxuLyoqXG4gKiBAbGluayBodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vQVdTQ2xvdWRGb3JtYXRpb24vbGF0ZXN0L1VzZXJHdWlkZS9jb250aW51b3VzLWRlbGl2ZXJ5LWNvZGVwaXBlbGluZS1wYXJhbWV0ZXItb3ZlcnJpZGUtZnVuY3Rpb25zLmh0bWxcbiAqL1xuZXhwb3J0IGNsYXNzIEFydGlmYWN0QXR0cmlidXRlIGV4dGVuZHMgVG9rZW4ge1xuICAgIGNvbnN0cnVjdG9yKGFydGlmYWN0OiBBcnRpZmFjdCwgYXR0cmlidXRlTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKCgpID0+ICh7ICdGbjo6R2V0QXJ0aWZhY3RBdHQnOiBbYXJ0aWZhY3QubmFtZSwgYXR0cmlidXRlTmFtZV0gfSkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGluayBodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vQVdTQ2xvdWRGb3JtYXRpb24vbGF0ZXN0L1VzZXJHdWlkZS9jb250aW51b3VzLWRlbGl2ZXJ5LWNvZGVwaXBlbGluZS1wYXJhbWV0ZXItb3ZlcnJpZGUtZnVuY3Rpb25zLmh0bWxcbiAqL1xuZXhwb3J0IGNsYXNzIEFydGlmYWN0R2V0UGFyYW0gZXh0ZW5kcyBUb2tlbiB7XG4gICAgY29uc3RydWN0b3IoYXJ0aWZhY3Q6IEFydGlmYWN0LCBqc29uRmlsZTogc3RyaW5nLCBrZXlOYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoKCkgPT4gKHsgJ0ZuOjpHZXRQYXJhbSc6IFthcnRpZmFjdC5uYW1lLCBqc29uRmlsZSwga2V5TmFtZV0gfSkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBbiBvdXRwdXQgYXJ0aWZhY3Qgb2YgYW4gYWN0aW9uLiBBcnRpZmFjdHMgY2FuIGJlIHVzZWQgYXMgaW5wdXQgYnkgc29tZSBhY3Rpb25zLlxuICovXG5leHBvcnQgY2xhc3MgQXJ0aWZhY3QgZXh0ZW5kcyBDb25zdHJ1Y3Qge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudDogQWN0aW9uLCByZWFkb25seSBuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIocGFyZW50LCBuYW1lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIEFydGlmYWN0UGF0aCBmb3IgYSBmaWxlIHdpdGhpbiB0aGlzIGFydGlmYWN0LlxuICAgICAqIE91dHB1dCBpcyBpbiB0aGUgZm9ybSBcIjxhcnRpZmFjdC1uYW1lPjo6PGZpbGUtbmFtZT5cIlxuICAgICAqIEBwYXJhbSBmaWxlTmFtZSBUaGUgbmFtZSBvZiB0aGUgZmlsZVxuICAgICAqL1xuICAgIHB1YmxpYyBzdWJhcnRpZmFjdChmaWxlTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXJ0aWZhY3RQYXRoKHRoaXMsIGZpbGVOYW1lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXJ0aWZhY3QgYXR0cmlidXRlIGZvciB0aGUgbmFtZSBvZiB0aGUgUzMgYnVja2V0IHdoZXJlIHRoZSBhcnRpZmFjdCBpcyBzdG9yZWQuXG4gICAgICovXG4gICAgcHVibGljIGdldCBidWNrZXROYW1lKCkge1xuICAgICAgICByZXR1cm4gbmV3IEFydGlmYWN0QXR0cmlidXRlKHRoaXMsICdCdWNrZXROYW1lJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGFydGlmYWN0IGF0dHJpYnV0ZSBmb3IgVGhlIG5hbWUgb2YgdGhlIC56aXAgZmlsZSB0aGF0IGNvbnRhaW5zIHRoZSBhcnRpZmFjdCB0aGF0IGlzXG4gICAgICogZ2VuZXJhdGVkIGJ5IEFXUyBDb2RlUGlwZWxpbmUsIHN1Y2ggYXMgMUFCQ3laWi56aXAuXG4gICAgICovXG4gICAgcHVibGljIGdldCBvYmplY3RLZXkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXJ0aWZhY3RBdHRyaWJ1dGUodGhpcywgJ09iamVjdEtleScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBhcnRpZmFjdCBhdHRyaWJ1dGUgb2YgdGhlIEFtYXpvbiBTaW1wbGUgU3RvcmFnZSBTZXJ2aWNlIChBbWF6b24gUzMpIFVSTCBvZiB0aGUgYXJ0aWZhY3QsXG4gICAgICogc3VjaCBhcyBodHRwczovL3MzLXVzLXdlc3QtMi5hbWF6b25hd3MuY29tL2FydGlmYWN0c3RvcmVidWNrZXQteWl2Y3p3OGptYTBjL3Rlc3QvVGVtcGxhdGVTby8xQUJDeVpaLnppcC5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IHVybCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBcnRpZmFjdEF0dHJpYnV0ZSh0aGlzLCAnVVJMJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHRva2VuIGZvciBhIHZhbHVlIGluc2lkZSBhIEpTT04gZmlsZSB3aXRoaW4gdGhpcyBhcnRpZmFjdC5cbiAgICAgKiBAcGFyYW0ganNvbkZpbGUgVGhlIEpTT04gZmlsZSBuYW1lLlxuICAgICAqIEBwYXJhbSBrZXlOYW1lIFRoZSBoYXNoIGtleS5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0UGFyYW0oanNvbkZpbGU6IHN0cmluZywga2V5TmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXJ0aWZhY3RHZXRQYXJhbSh0aGlzLCBqc29uRmlsZSwga2V5TmFtZSk7XG4gICAgfVxuXG4gICAgcHVibGljIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBIHNwZWNpZmljIGZpbGUgd2l0aGluIGFuIG91dHB1dCBhcnRpZmFjdC5cbiAqXG4gKiBUaGUgbW9zdCBjb21tb24gdXNlIGNhc2UgZm9yIHRoaXMgaXMgc3BlY2lmeWluZyB0aGUgdGVtcGxhdGUgZmlsZVxuICogZm9yIGEgQ2xvdWRGb3JtYXRpb24gYWN0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgQXJ0aWZhY3RQYXRoIHtcbiAgICBjb25zdHJ1Y3RvcihyZWFkb25seSBhcnRpZmFjdDogQXJ0aWZhY3QsIHJlYWRvbmx5IGZpbGVOYW1lOiBzdHJpbmcpIHtcblxuICAgIH1cblxuICAgIGdldCBsb2NhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuYXJ0aWZhY3QubmFtZX06OiR7dGhpcy5maWxlTmFtZX1gO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAvcm9vdC9yZXBvcy9hd3MtY2RrL3BhY2thZ2VzL0Bhd3MtY2RrL2NvZGVwaXBlbGluZS9saWIvYXJ0aWZhY3QudHMiLCJtb2R1bGUuZXhwb3J0cyA9IGpzaWkkX2F3c19jZGtfaWFtJDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImpzaWkkX2F3c19jZGtfaWFtJFwiXG4vLyBtb2R1bGUgaWQgPSA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogVHlwZSBvZiBhIG1hcCBtYXBwaW5nIHN0cmluZ3MgdG8gc29tZSBhcmJpdHJhcnkgdHlwZVxuICpcbiAqIE5hbWUgaXMgbm90IGlkZWFsLCBidXQ6XG4gKlxuICogLSBDYW5ub3QgY2FsbCBpdCBPYmplY3QsIHRoYXQgYWxyZWFkeSBtZWFucyBzb21ldGhpbmcuXG4gKiAtIENhbm5vdCBjYWxsIGl0IERpY3Qgb3IgRGljdGlvbmFyeSwgc2luY2UgaW4gb3RoZXIgbGFuZ3VhZ2VzXG4gKiAgIHRob3NlIGFsc28gYWxsb3cgc3BlY2lmeWluZyB0aGUga2V5IHR5cGUuXG4gKi9cbmV4cG9ydCB0eXBlIE9iajxUPiA9IHtba2V5OiBzdHJpbmddOiBUfTtcblxuLyoqXG4gKiBSZXR1cm4gd2hldGhlciB0aGUgZ2l2ZW4gdmFsdWUgaXMgYW4gb2JqZWN0XG4gKlxuICogRXZlbiB0aG91Z2ggYXJyYXlzIHRlY2huaWNhbGx5IGFyZSBvYmplY3RzLCB3ZSB1c3VhbGx5IHdhbnQgdG8gdHJlYXQgdGhlbSBkaWZmZXJlbnRseSxcbiAqIHNvIHdlIHJldHVybiBmYWxzZSBpbiB0aG9zZSBjYXNlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KHg6IGFueSk6IHggaXMgT2JqPGFueT4ge1xuICAgIHJldHVybiB4ICE9PSBudWxsICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiAhaXNBcnJheSh4KTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gd2hldGhlciB0aGUgZ2l2ZW4gdmFsdWUgaXMgYW4gYXJyYXlcbiAqL1xuZXhwb3J0IGNvbnN0IGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4vKipcbiAqIFJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGFyZ3VtZW50IGlmIGl0J3Mgbm90IHVuZGVmaW5lZCwgb3RoZXJ3aXNlIHRoZSBkZWZhdWx0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpZkRlZmluZWQ8VD4oeDogVCB8IHVuZGVmaW5lZCwgZGVmOiBUKTogVCB7XG4gICAgcmV0dXJuIHR5cGVvZiB4ICE9PSAndW5kZWZpbmVkJyA/IHggOiBkZWY7XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHR5cGVzLnRzIiwiaW1wb3J0IHsgQ29uc3RydWN0IH0gZnJvbSAnQGF3cy1jZGsvY29yZSc7XG5pbXBvcnQgeyBFdmVudFJ1bGUsIEV2ZW50UnVsZVByb3BzLCBJRXZlbnRSdWxlVGFyZ2V0IH0gZnJvbSAnQGF3cy1jZGsvZXZlbnRzJztcbmltcG9ydCB7IGNvZGVwaXBlbGluZSB9IGZyb20gJ0Bhd3MtY2RrL3Jlc291cmNlcyc7XG5pbXBvcnQgeyBBY3Rpb24gfSBmcm9tICcuL2FjdGlvbnMnO1xuaW1wb3J0IHsgUGlwZWxpbmUgfSBmcm9tICcuL3BpcGVsaW5lJztcbmltcG9ydCAqIGFzIHZhbGlkYXRpb24gZnJvbSAnLi92YWxpZGF0aW9uJztcblxuLyoqXG4gKiBBIHN0YWdlIGluIGEgcGlwZWxpbmUuIFN0YWdlcyBhcmUgYWRkZWQgdG8gYSBwaXBlbGluZSBieSBjb25zdHJ1Y3RpbmcgYSBTdGFnZSB3aXRoXG4gKiB0aGUgcGlwZWxpbmUgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gYWRkIGEgc3RhZ2UgdG8gYSBwaXBlbGluZVxuICogbmV3IFN0YWdlKHBpcGVsaW5lLCAnTXlTdGFnZScpO1xuICovXG5leHBvcnQgY2xhc3MgU3RhZ2UgZXh0ZW5kcyBDb25zdHJ1Y3Qge1xuICAgIC8qKlxuICAgICAqIFRoZSBQaXBlbGluZSB0aGlzIHN0YWdlIGlzIGEgbWVtYmVyIG9mXG4gICAgICovXG4gICAgcHVibGljIHJlYWRvbmx5IHBpcGVsaW5lOiBQaXBlbGluZTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9hY3Rpb25zID0gbmV3IEFycmF5PEFjdGlvbj4oKTtcblxuICAgIC8qKlxuICAgICAqIEFwcGVuZCBhIG5ldyBzdGFnZSB0byB0aGUgcGlwZWxpbmVcbiAgICAgKlxuICAgICAqIE9ubHkgYSBQaXBlbGluZSBjYW4gYmUgcGFzc2VkIGluIGFzIGEgcGFyZW50IGJlY2F1c2Ugc3RhZ2VzIHNob3VsZFxuICAgICAqIGFsd2F5cyBiZSBhdHRhY2hlZCB0byBhIHBpcGVsaW5lLiBJdCdzIGlsbG9naWNhbCB0byBjb25zdHJ1Y3QgYSBTdGFnZVxuICAgICAqIHdpdGggYW55IG90aGVyIHBhcmVudC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQ6IFBpcGVsaW5lLCBuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIocGFyZW50LCBuYW1lKTtcbiAgICAgICAgdGhpcy5waXBlbGluZSA9IHBhcmVudDtcbiAgICAgICAgdmFsaWRhdGlvbi52YWxpZGF0ZU5hbWUoJ1N0YWdlJywgbmFtZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGEgZHVwbGljYXRlIG9mIHRoaXMgc3RhZ2UncyBsaXN0IG9mIGFjdGlvbnMuXG4gICAgICovXG4gICAgcHVibGljIGdldCBhY3Rpb25zKCk6IEFjdGlvbltdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGlvbnMuc2xpY2UoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdmFsaWRhdGUoKTogc3RyaW5nW10ge1xuICAgICAgICByZXR1cm4gdGhpcy52YWxpZGF0ZUhhc0FjdGlvbnMoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKCk6IGNvZGVwaXBlbGluZS5QaXBlbGluZVJlc291cmNlLlN0YWdlRGVjbGFyYXRpb25Qcm9wZXJ0eSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICBhY3Rpb25zOiB0aGlzLl9hY3Rpb25zLm1hcChhY3Rpb24gPT4gYWN0aW9uLnJlbmRlcigpKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHB1YmxpYyBvblN0YXRlQ2hhbmdlKG5hbWU6IHN0cmluZywgdGFyZ2V0PzogSUV2ZW50UnVsZVRhcmdldCwgb3B0aW9ucz86IEV2ZW50UnVsZVByb3BzKSB7XG4gICAgICAgIGNvbnN0IHJ1bGUgPSBuZXcgRXZlbnRSdWxlKHRoaXMucGlwZWxpbmUsIG5hbWUsIG9wdGlvbnMpO1xuICAgICAgICBydWxlLmFkZFRhcmdldCh0YXJnZXQpO1xuICAgICAgICBydWxlLmFkZEV2ZW50UGF0dGVybih7XG4gICAgICAgICAgICBkZXRhaWxUeXBlOiBbICdDb2RlUGlwZWxpbmUgU3RhZ2UgRXhlY3V0aW9uIFN0YXRlIENoYW5nZScgXSxcbiAgICAgICAgICAgIHNvdXJjZTogWyAnYXdzLmNvZGVwaXBlbGluZScgXSxcbiAgICAgICAgICAgIHJlc291cmNlczogWyB0aGlzLnBpcGVsaW5lLnBpcGVsaW5lQXJuIF0sXG4gICAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgICAgICBzdGFnZTogWyB0aGlzLm5hbWUgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcnVsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJZiBhbiBhY3Rpb24gaXMgYWRkZWQgYXMgYSBjaGlsZCwgYWRkIGl0IHRvIHRoZSBsaXN0IG9mIGFjdGlvbnMuXG4gICAgICogVE9ETzogVGhpcyBpcyBhIGhhY2sgdGhhdCBzaG91bGQgYmUgcmVtb3ZlZCBvbmNlIHRoZSBDREsgaGFzIGFuXG4gICAgICogICAgICAgb25DaGlsZEFkZGVkIHR5cGUgaG9vay5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0gY2hpbGRcbiAgICAgKiBAcGFyYW0gbmFtZVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBhZGRDaGlsZChjaGlsZDogQ29uc3RydWN0LCBuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIuYWRkQ2hpbGQoY2hpbGQsIG5hbWUpO1xuICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBBY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGlvbnMucHVzaChjaGlsZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgQWN0aW9ucyBjYW4gYmUgYWRkZWQgYXMgY2hpbGRyZW4gdG8gYSBTdGFnZScpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2YWxpZGF0ZUhhc0FjdGlvbnMoKTogc3RyaW5nW10ge1xuICAgICAgICBpZiAodGhpcy5fYWN0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBbYFN0YWdlICcke3RoaXMubmFtZX0nIG11c3QgaGF2ZSBhdCBsZWFzdCBvbmUgYWN0aW9uYF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAvcm9vdC9yZXBvcy9hd3MtY2RrL3BhY2thZ2VzL0Bhd3MtY2RrL2NvZGVwaXBlbGluZS9saWIvc3RhZ2UudHMiLCJleHBvcnQgKiBmcm9tICcuL2FjdGlvbnMnO1xuZXhwb3J0ICogZnJvbSAnLi9hcnRpZmFjdCc7XG5leHBvcnQgKiBmcm9tICcuL3BpcGVsaW5lJztcbmV4cG9ydCAqIGZyb20gJy4vc3RhZ2UnO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAvcm9vdC9yZXBvcy9hd3MtY2RrL3BhY2thZ2VzL0Bhd3MtY2RrL2NvZGVwaXBlbGluZS9saWIvaW5kZXgudHMiLCJpbXBvcnQgeyBBcm4sIENvbnN0cnVjdCwgUG9saWN5U3RhdGVtZW50LCBSZW1vdmFsUG9saWN5LCBTZXJ2aWNlUHJpbmNpcGFsLCBUb2tlbiB9IGZyb20gJ0Bhd3MtY2RrL2NvcmUnO1xuaW1wb3J0IHsgRXZlbnRSdWxlLCBFdmVudFJ1bGVQcm9wcywgRXZlbnRSdWxlVGFyZ2V0LCBJRXZlbnRSdWxlVGFyZ2V0IH0gZnJvbSAnQGF3cy1jZGsvZXZlbnRzJztcbmltcG9ydCAqIGFzIGlhbSBmcm9tICdAYXdzLWNkay9pYW0nO1xuaW1wb3J0IHsgUm9sZSB9IGZyb20gJ0Bhd3MtY2RrL2lhbSc7XG5pbXBvcnQgeyBjb2RlcGlwZWxpbmUgfSBmcm9tICdAYXdzLWNkay9yZXNvdXJjZXMnO1xuaW1wb3J0IHsgQnVja2V0LCBCdWNrZXRSZWYgfSBmcm9tICdAYXdzLWNkay9zMyc7XG5pbXBvcnQgeyBmbGF0TWFwLCBmbGF0dGVuIH0gZnJvbSAnQGF3cy1jZGsvdXRpbCc7XG5pbXBvcnQgeyBTdGFnZSB9IGZyb20gJy4vc3RhZ2UnO1xuaW1wb3J0ICogYXMgdmFsaWRhdGlvbiBmcm9tICcuL3ZhbGlkYXRpb24nO1xuXG4vKipcbiAqIFRoZSBBUk4gb2YgYSBwaXBlbGluZVxuICovXG5leHBvcnQgY2xhc3MgUGlwZWxpbmVBcm4gZXh0ZW5kcyBBcm4ge1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBpcGVsaW5lUHJvcHMge1xuICAgIC8qKlxuICAgICAqIFRoZSBTMyBidWNrZXQgdXNlZCBieSB0aGlzIFBpcGVsaW5lIHRvIHN0b3JlIGFydGlmYWN0cy5cbiAgICAgKiBJZiBub3Qgc3BlY2lmaWVkLCBhIG5ldyBTMyBidWNrZXQgd2lsbCBiZSBjcmVhdGVkLlxuICAgICAqL1xuICAgIGFydGlmYWN0QnVja2V0PzogQnVja2V0UmVmO1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdG8gcmVydW4gdGhlIEFXUyBDb2RlUGlwZWxpbmUgcGlwZWxpbmUgYWZ0ZXIgeW91IHVwZGF0ZSBpdC5cbiAgICAgKi9cbiAgICByZXN0YXJ0RXhlY3V0aW9uT25VcGRhdGU/OiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogTmFtZSBvZiB0aGUgcGlwZWxpbmUuIElmIHlvdSBkb24ndCBzcGVjaWZ5IGEgbmFtZSwgIEFXUyBDbG91ZEZvcm1hdGlvbiBnZW5lcmF0ZXMgYW4gSURcbiAgICAgKiBhbmQgdXNlcyB0aGF0IGZvciB0aGUgcGlwZWxpbmUgbmFtZS5cbiAgICAgKi9cbiAgICBwaXBlbGluZU5hbWU/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQW4gQVdTIENvZGVQaXBlbGluZSBwaXBlbGluZSB3aXRoIGl0cyBhc3NvY2lhdGVkIElBTSByb2xlIGFuZCBTMyBidWNrZXQuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIGNyZWF0ZSBhIHBpcGVsaW5lXG4gKiBjb25zdCBwaXBlbGluZSA9IG5ldyBQaXBlbGluZSh0aGlzLCAnUGlwZWxpbmUnKTtcbiAqXG4gKiAvLyBhZGQgYSBzdGFnZVxuICogY29uc3Qgc291cmNlU3RhZ2UgPSBuZXcgU3RhZ2UocGlwZWxpbmUsICdTb3VyY2UnKTtcbiAqXG4gKiAvLyBhZGQgYSBzb3VyY2UgYWN0aW9uIHRvIHRoZSBzdGFnZVxuICogbmV3IENvZGVDb21taXRTb3VyY2Uoc291cmNlU3RhZ2UsICdTb3VyY2UnLCB7XG4gKiAgICAgYXJ0aWZhY3ROYW1lOiAnU291cmNlQXJ0aWZhY3QnLFxuICogICAgIHJlcG9zaXRvcnk6IHJlcG9cbiAqIH0pO1xuICpcbiAqIC8vIC4uLiBhZGQgbW9yZSBzdGFnZXNcbiAqL1xuZXhwb3J0IGNsYXNzIFBpcGVsaW5lIGV4dGVuZHMgQ29uc3RydWN0IGltcGxlbWVudHMgSUV2ZW50UnVsZVRhcmdldCB7XG4gICAgLyoqXG4gICAgICogVGhlIElBTSByb2xlIEFXUyBDb2RlUGlwZWxpbmUgd2lsbCB1c2UgdG8gcGVyZm9ybSBhY3Rpb25zIG9yIGFzc3VtZSByb2xlcyBmb3IgYWN0aW9ucyB3aXRoXG4gICAgICogYSBtb3JlIHNwZWNpZmljIElBTSByb2xlLlxuICAgICAqL1xuICAgIHB1YmxpYyByZWFkb25seSByb2xlOiBpYW0uUm9sZTtcblxuICAgIC8qKlxuICAgICAqIEFSTiBvZiB0aGlzIHBpcGVsaW5lXG4gICAgICovXG4gICAgcHVibGljIHJlYWRvbmx5IHBpcGVsaW5lQXJuOiBQaXBlbGluZUFybjtcblxuICAgIC8qKlxuICAgICAqIEJ1Y2tldCB1c2VkIHRvIHN0b3JlIG91dHB1dCBhcnRpZmFjdHNcbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgYXJ0aWZhY3RCdWNrZXQ6IEJ1Y2tldFJlZjtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgc3RhZ2VzID0gbmV3IEFycmF5PFN0YWdlPigpO1xuICAgIHByaXZhdGUgZXZlbnRzUm9sZT86IFJvbGU7XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQ6IENvbnN0cnVjdCwgbmFtZTogc3RyaW5nLCBwcm9wcz86IFBpcGVsaW5lUHJvcHMpIHtcbiAgICAgICAgc3VwZXIocGFyZW50LCBuYW1lKTtcbiAgICAgICAgcHJvcHMgPSBwcm9wcyB8fCB7fTtcblxuICAgICAgICB2YWxpZGF0aW9uLnZhbGlkYXRlTmFtZSgnUGlwZWxpbmUnLCBwcm9wcy5waXBlbGluZU5hbWUpO1xuXG4gICAgICAgIC8vIElmIGEgYnVja2V0IGhhcyBiZWVuIHByb3ZpZGVkLCB1c2UgaXQgLSBvdGhlcndpc2UsIGNyZWF0ZSBhIGJ1Y2tldC5cbiAgICAgICAgbGV0IHByb3BzQnVja2V0ID0gcHJvcHMuYXJ0aWZhY3RCdWNrZXQ7XG4gICAgICAgIGlmICghcHJvcHNCdWNrZXQpIHtcbiAgICAgICAgICAgIHByb3BzQnVja2V0ID0gbmV3IEJ1Y2tldCh0aGlzLCAnQXJ0aWZhY3RzQnVja2V0Jywge1xuICAgICAgICAgICAgICAgIHJlbW92YWxQb2xpY3k6IFJlbW92YWxQb2xpY3kuT3JwaGFuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFydGlmYWN0QnVja2V0ID0gcHJvcHNCdWNrZXQ7XG5cbiAgICAgICAgdGhpcy5yb2xlID0gbmV3IGlhbS5Sb2xlKHRoaXMsICdSb2xlJywge1xuICAgICAgICAgICAgYXNzdW1lZEJ5OiBuZXcgU2VydmljZVByaW5jaXBhbCgnY29kZXBpcGVsaW5lLmFtYXpvbmF3cy5jb20nKVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBjb2RlUGlwZWxpbmUgPSBuZXcgY29kZXBpcGVsaW5lLlBpcGVsaW5lUmVzb3VyY2UodGhpcywgJ1Jlc291cmNlJywge1xuICAgICAgICAgICAgYXJ0aWZhY3RTdG9yZTogbmV3IFRva2VuKCgpID0+IHRoaXMucmVuZGVyQXJ0aWZhY3RTdG9yZSgpKSBhcyBhbnksXG4gICAgICAgICAgICBzdGFnZXM6IG5ldyBUb2tlbigoKSA9PiB0aGlzLnJlbmRlclN0YWdlcygpKSBhcyBhbnksXG4gICAgICAgICAgICByb2xlQXJuOiB0aGlzLnJvbGUucm9sZUFybixcbiAgICAgICAgICAgIHJlc3RhcnRFeGVjdXRpb25PblVwZGF0ZTogcHJvcHMgJiYgcHJvcHMucmVzdGFydEV4ZWN1dGlvbk9uVXBkYXRlLFxuICAgICAgICAgICAgcGlwZWxpbmVOYW1lOiBwcm9wcyAmJiBwcm9wcy5waXBlbGluZU5hbWUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHRoaXMgd2lsbCBwcm9kdWNlIGEgRGVwZW5kc09uIGZvciBib3RoIHRoZSByb2xlIGFuZCB0aGUgcG9saWN5IHJlc291cmNlcy5cbiAgICAgICAgY29kZVBpcGVsaW5lLmFkZERlcGVuZGVuY3kodGhpcy5yb2xlKTtcblxuICAgICAgICB0aGlzLmFydGlmYWN0QnVja2V0LmdyYW50UmVhZFdyaXRlKHRoaXMucm9sZSk7XG5cbiAgICAgICAgLy8gRG9lcyBub3QgZXhwb3NlIGEgRm46OkdldEF0dCBmb3IgdGhlIEFSTiBzbyB3ZSdsbCBoYXZlIHRvIG1ha2UgaXQgb3Vyc2VsdmVzXG4gICAgICAgIHRoaXMucGlwZWxpbmVBcm4gPSBuZXcgUGlwZWxpbmVBcm4oQXJuLmZyb21Db21wb25lbnRzKHtcbiAgICAgICAgICAgIHNlcnZpY2U6ICdjb2RlcGlwZWxpbmUnLFxuICAgICAgICAgICAgcmVzb3VyY2U6IGNvZGVQaXBlbGluZS5yZWZcbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBzdGF0ZW1lbnQgdG8gdGhlIHBpcGVsaW5lIHJvbGUuXG4gICAgICovXG4gICAgcHVibGljIGFkZFRvUm9sZVBvbGljeShzdGF0ZW1lbnQ6IFBvbGljeVN0YXRlbWVudCkge1xuICAgICAgICB0aGlzLnJvbGUuYWRkVG9Qb2xpY3koc3RhdGVtZW50KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdGhlIHBpcGVsaW5lIHRvIGJlIHVzZWQgYXMgYSBDbG91ZFdhdGNoIGV2ZW50IHJ1bGUgdGFyZ2V0LlxuICAgICAqXG4gICAgICogVXNhZ2U6XG4gICAgICpcbiAgICAgKiAgICAgIGNvbnN0IHBpcGVsaW5lID0gbmV3IFBpcGVsaW5lKHRoaXMsICdNeVBpcGVsaW5lJyk7XG4gICAgICogICAgICBjb25zdCBydWxlID0gbmV3IEV2ZW50UnVsZSh0aGlzLCAnTXlSdWxlJywgeyBzY2hlZHVsZTogJ3JhdGUoMSBtaW51dGUpJyB9KTtcbiAgICAgKiAgICAgIHJ1bGUuYWRkVGFyZ2V0KHBpcGVsaW5lKTtcbiAgICAgKlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgZXZlbnRSdWxlVGFyZ2V0KCk6IEV2ZW50UnVsZVRhcmdldCB7XG4gICAgICAgIC8vIHRoZSBmaXJzdCB0aW1lIHRoZSBldmVudCBydWxlIHRhcmdldCBpcyByZXRyaWV2ZWQsIHdlIGRlZmluZSBhbiBJQU1cbiAgICAgICAgLy8gcm9sZSBhc3N1bWFibGUgYnkgdGhlIENsb3VkV2F0Y2ggZXZlbnRzIHNlcnZpY2Ugd2hpY2ggaXMgYWxsb3dlZCB0b1xuICAgICAgICAvLyBzdGFydCB0aGUgZXhlY3V0aW9uIG9mIHRoaXMgcGlwZWxpbmUuIG5vIG5lZWQgdG8gZGVmaW5lIG1vcmUgdGhhbiBvbmVcbiAgICAgICAgLy8gcm9sZSBwZXIgcGlwZWxpbmUuXG4gICAgICAgIGlmICghdGhpcy5ldmVudHNSb2xlKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50c1JvbGUgPSBuZXcgUm9sZSh0aGlzLCAnRXZlbnRzUm9sZScsIHtcbiAgICAgICAgICAgICAgICBhc3N1bWVkQnk6IG5ldyBTZXJ2aWNlUHJpbmNpcGFsKCdldmVudHMuYW1hem9uYXdzLmNvbScpXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5ldmVudHNSb2xlLmFkZFRvUG9saWN5KG5ldyBQb2xpY3lTdGF0ZW1lbnQoKVxuICAgICAgICAgICAgICAgIC5hZGRSZXNvdXJjZSh0aGlzLnBpcGVsaW5lQXJuKVxuICAgICAgICAgICAgICAgIC5hZGRBY3Rpb24oJ2NvZGVwaXBlbGluZTpTdGFydFBpcGVsaW5lRXhlY3V0aW9uJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICBhcm46IHRoaXMucGlwZWxpbmVBcm4sXG4gICAgICAgICAgICByb2xlQXJuOiB0aGlzLmV2ZW50c1JvbGUucm9sZUFybixcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIGFuIGV2ZW50IHJ1bGUgdHJpZ2dlcmVkIGJ5IHRoZSBcIkNvZGVQaXBlbGluZSBQaXBlbGluZSBFeGVjdXRpb25cbiAgICAgKiBTdGF0ZSBDaGFuZ2VcIiBldmVudCBlbWl0dGVkIGZyb20gdGhpcyBwaXBlbGluZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0YXJnZXQgSW5pdGlhbCB0YXJnZXQgdG8gYWRkIHRvIHRoZSBldmVudCBydWxlLiBZb3UgY2FuIGFsc28gYWRkXG4gICAgICogdGFyZ2V0cyBhbmQgY3VzdG9taXplIHRhcmdldCBpbnB1dHMgYnkgY2FsbGluZyBgcnVsZS5hZGRUYXJnZXQodGFyZ2V0WyxcbiAgICAgKiBvcHRpb25zXSlgIGFmdGVyIHRoZSBydWxlIHdhcyBjcmVhdGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgQWRkaXRpb25hbCBvcHRpb25zIHRvIHBhc3MgdG8gdGhlIGV2ZW50IHJ1bGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudCBydWxlIGNvbnN0cnVjdC4gSWYgeW91IHdpc2ggdG8gZGVmaW5lXG4gICAgICogbW9yZSB0aGFuIGEgc2luZ2xlIG9uU3RhdGVDaGFuZ2UgZXZlbnQsIHlvdSB3aWxsIG5lZWQgdG8gZXhwbGljaXRseVxuICAgICAqIHNwZWNpZnkgYSBuYW1lLlxuICAgICAqL1xuICAgIHB1YmxpYyBvblN0YXRlQ2hhbmdlKG5hbWU6IHN0cmluZywgdGFyZ2V0PzogSUV2ZW50UnVsZVRhcmdldCwgb3B0aW9ucz86IEV2ZW50UnVsZVByb3BzKTogRXZlbnRSdWxlIHtcbiAgICAgICAgY29uc3QgcnVsZSA9IG5ldyBFdmVudFJ1bGUodGhpcywgbmFtZSwgb3B0aW9ucyk7XG4gICAgICAgIHJ1bGUuYWRkVGFyZ2V0KHRhcmdldCk7XG4gICAgICAgIHJ1bGUuYWRkRXZlbnRQYXR0ZXJuKHtcbiAgICAgICAgICAgIGRldGFpbFR5cGU6IFsgJ0NvZGVQaXBlbGluZSBQaXBlbGluZSBFeGVjdXRpb24gU3RhdGUgQ2hhbmdlJyBdLFxuICAgICAgICAgICAgc291cmNlOiBbICdhd3MuY29kZXBpcGVsaW5lJyBdLFxuICAgICAgICAgICAgcmVzb3VyY2VzOiBbIHRoaXMucGlwZWxpbmVBcm4gXSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBydWxlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlIHRoZSBwaXBlbGluZSBzdHJ1Y3R1cmVcbiAgICAgKlxuICAgICAqIFZhbGlkYXRpb24gaGFwcGVucyBhY2NvcmRpbmcgdG8gdGhlIHJ1bGVzIGRvY3VtZW50ZWQgYXRcbiAgICAgKlxuICAgICAqIGh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9jb2RlcGlwZWxpbmUvbGF0ZXN0L3VzZXJndWlkZS9yZWZlcmVuY2UtcGlwZWxpbmUtc3RydWN0dXJlLmh0bWwjcGlwZWxpbmUtcmVxdWlyZW1lbnRzXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgcHVibGljIHZhbGlkYXRlKCk6IHN0cmluZ1tdIHtcbiAgICAgICAgcmV0dXJuIGZsYXR0ZW4oW1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZUhhc1N0YWdlcygpLFxuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZVNvdXJjZUFjdGlvbkxvY2F0aW9ucygpXG4gICAgICAgIF0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElmIGEgc3RhZ2UgaXMgYWRkZWQgYXMgYSBjaGlsZCwgYWRkIGl0IHRvIHRoZSBsaXN0IG9mIHN0YWdlcy5cbiAgICAgKiBUT0RPOiBUaGlzIGlzIGEgaGFjayB0aGF0IHNob3VsZCBiZSByZW1vdmVkIG9uY2UgdGhlIENESyBoYXMgYW5cbiAgICAgKiAgICAgICBvbkNoaWxkQWRkZWQgdHlwZSBob29rLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBhZGRDaGlsZChjaGlsZDogQ29uc3RydWN0LCBuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIuYWRkQ2hpbGQoY2hpbGQsIG5hbWUpO1xuICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBTdGFnZSkge1xuICAgICAgICAgICAgdGhpcy5hcHBlbmRTdGFnZShjaGlsZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFwcGVuZFN0YWdlKHN0YWdlOiBTdGFnZSkge1xuICAgICAgICBpZiAodGhpcy5zdGFnZXMuZmluZCh4ID0+IHgubmFtZSA9PT0gc3RhZ2UubmFtZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQSBzdGFnZSB3aXRoIG5hbWUgJyR7c3RhZ2UubmFtZX0nIGFscmVhZHkgZXhpc3RzYCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YWdlcy5wdXNoKHN0YWdlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHZhbGlkYXRlU291cmNlQWN0aW9uTG9jYXRpb25zKCk6IHN0cmluZ1tdIHtcbiAgICAgICAgcmV0dXJuIGZsYXRNYXAodGhpcy5zdGFnZXMsIChzdGFnZSwgaSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb25seVNvdXJjZUFjdGlvbnNQZXJtaXR0ZWQgPSBpID09PSAwO1xuICAgICAgICAgICAgcmV0dXJuIGZsYXRNYXAoc3RhZ2UuYWN0aW9ucywgKGFjdGlvbiwgXykgPT5cbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uLnZhbGlkYXRlU291cmNlQWN0aW9uKG9ubHlTb3VyY2VBY3Rpb25zUGVybWl0dGVkLCBhY3Rpb24uY2F0ZWdvcnksIGFjdGlvbi5uYW1lLCBzdGFnZS5uYW1lKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2YWxpZGF0ZUhhc1N0YWdlcygpOiBzdHJpbmdbXSB7XG4gICAgICAgIGlmICh0aGlzLnN0YWdlcy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICByZXR1cm4gWydQaXBlbGluZSBtdXN0IGhhdmUgYXQgbGVhc3QgdHdvIHN0YWdlcyddO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlckFydGlmYWN0U3RvcmUoKTogY29kZXBpcGVsaW5lLlBpcGVsaW5lUmVzb3VyY2UuQXJ0aWZhY3RTdG9yZVByb3BlcnR5IHtcbiAgICAgICAgbGV0IGVuY3J5cHRpb25LZXk6IGNvZGVwaXBlbGluZS5QaXBlbGluZVJlc291cmNlLkVuY3J5cHRpb25LZXlQcm9wZXJ0eSB8IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgYnVja2V0S2V5ID0gdGhpcy5hcnRpZmFjdEJ1Y2tldC5lbmNyeXB0aW9uS2V5O1xuICAgICAgICBpZiAoYnVja2V0S2V5KSB7XG4gICAgICAgICAgICBlbmNyeXB0aW9uS2V5ID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdLTVMnLFxuICAgICAgICAgICAgICAgIGlkOiBidWNrZXRLZXkua2V5QXJuLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJ1Y2tldE5hbWUgPSB0aGlzLmFydGlmYWN0QnVja2V0LmJ1Y2tldE5hbWU7XG4gICAgICAgIGlmICghYnVja2V0TmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcnRpZmFjdHMgYnVja2V0IG11c3QgaGF2ZSBhIGJ1Y2tldCBuYW1lJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ1MzJyxcbiAgICAgICAgICAgIGxvY2F0aW9uOiBidWNrZXROYW1lLFxuICAgICAgICAgICAgZW5jcnlwdGlvbktleVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVuZGVyU3RhZ2VzKCk6IGNvZGVwaXBlbGluZS5QaXBlbGluZVJlc291cmNlLlN0YWdlRGVjbGFyYXRpb25Qcm9wZXJ0eVtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhZ2VzLm1hcChzdGFnZSA9PiBzdGFnZS5yZW5kZXIoKSk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC9yb290L3JlcG9zL2F3cy1jZGsvcGFja2FnZXMvQGF3cy1jZGsvY29kZXBpcGVsaW5lL2xpYi9waXBlbGluZS50cyIsIm1vZHVsZS5leHBvcnRzID0ganNpaSRfYXdzX2Nka19yZXNvdXJjZXMkO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwianNpaSRfYXdzX2Nka19yZXNvdXJjZXMkXCJcbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0ganNpaSRfYXdzX2Nka19zMyQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJqc2lpJF9hd3NfY2RrX3MzJFwiXG4vLyBtb2R1bGUgaWQgPSAxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnQgKiBmcm9tICcuL2FycmF5cyc7XG5leHBvcnQgKiBmcm9tICcuL29iamVjdHMnO1xuZXhwb3J0ICogZnJvbSAnLi90eXBlcyc7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gaW5kZXgudHMiLCIvKipcbiAqIE1hcCBhIGZ1bmN0aW9uIG92ZXIgYW4gYXJyYXkgYW5kIGNvbmNhdGVuYXRlIHRoZSByZXN1bHRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbGF0TWFwPFQsIFU+KHhzOiBUW10sIGZuOiAoKHg6IFQsIGk6IG51bWJlcikgPT4gVVtdKSk6IFVbXSB7XG4gICAgcmV0dXJuIGZsYXR0ZW4oeHMubWFwKGZuKSk7XG59XG5cbi8qKlxuICogRmxhdHRlbiBhIGxpc3Qgb2YgbGlzdHMgaW50byBhIGxpc3Qgb2YgZWxlbWVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW48VD4oeHM6IFRbXVtdKTogVFtdIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSwgeHMpO1xufVxuXG4vKipcbiAqIFBhcnRpdGlvbiBhIGNvbGxlY3Rpb24gYnkgcmVtb3ZpbmcgYW5kIHJldHVybmluZyBhbGwgZWxlbWVudHMgdGhhdCBtYXRjaCBhIHByZWRpY2F0ZVxuICpcbiAqIE5vdGU6IHRoZSBpbnB1dCBjb2xsZWN0aW9uIGlzIG1vZGlmaWVkIGluLXBsYWNlIVxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFydGl0aW9uPFQ+KGNvbGxlY3Rpb246IFRbXSwgcHJlZDogKHg6IFQpID0+IGJvb2xlYW4pOiBUW10ge1xuICAgIGNvbnN0IHJldDogVFtdID0gW107XG4gICAgbGV0IGkgPSAwO1xuICAgIHdoaWxlIChpIDwgY29sbGVjdGlvbi5sZW5ndGgpIHtcbiAgICAgICAgaWYgKHByZWQoY29sbGVjdGlvbltpXSkpIHtcbiAgICAgICAgICAgIHJldC5wdXNoKGNvbGxlY3Rpb24uc3BsaWNlKGksIDEpWzBdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFycmF5cy50cyIsImltcG9ydCB7IGlzQXJyYXksIGlzT2JqZWN0LCBPYmogfSBmcm9tICcuL3R5cGVzJztcblxuLyoqXG4gKiBSZXR1cm4gYSBuZXcgb2JqZWN0IGJ5IGFkZGluZyBtaXNzaW5nIGtleXMgaW50byBhbm90aGVyIG9iamVjdFxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlEZWZhdWx0cyhoYXNoOiBhbnksIGRlZmF1bHRzOiBhbnkpIHtcbiAgICBjb25zdCByZXN1bHQ6IGFueSA9IHsgfTtcblxuICAgIE9iamVjdC5rZXlzKGhhc2gpLmZvckVhY2goayA9PiByZXN1bHRba10gPSBoYXNoW2tdKTtcblxuICAgIE9iamVjdC5rZXlzKGRlZmF1bHRzKVxuICAgICAgICAuZmlsdGVyKGsgPT4gIShrIGluIHJlc3VsdCkpXG4gICAgICAgIC5mb3JFYWNoKGsgPT4gcmVzdWx0W2tdID0gZGVmYXVsdHNba10pO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gd2hldGhlciB0aGUgZ2l2ZW4gcGFyYW1ldGVyIGlzIGFuIGVtcHR5IG9iamVjdCBvciBlbXB0eSBsaXN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFbXB0eSh4OiBhbnkpIHtcbiAgICBpZiAoeCA9PSBudWxsKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGlmIChpc0FycmF5KHgpKSB7IHJldHVybiB4Lmxlbmd0aCA9PT0gMDsgfVxuICAgIHJldHVybiBPYmplY3Qua2V5cyh4KS5sZW5ndGggPT09IDA7XG59XG5cbi8qKlxuICogRGVlcCBjbG9uZSBhIHRyZWUgb2Ygb2JqZWN0cywgbGlzdHMgb3Igc2NhbGFyc1xuICpcbiAqIERvZXMgbm90IHN1cHBvcnQgY3ljbGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVlcENsb25lKHg6IGFueSk6IGFueSB7XG4gICAgaWYgKHR5cGVvZiB4ID09PSAndW5kZWZpbmVkJykgeyByZXR1cm4gdW5kZWZpbmVkOyB9XG4gICAgaWYgKHggPT09IG51bGwpIHsgcmV0dXJuIG51bGw7IH1cbiAgICBpZiAoaXNBcnJheSh4KSkgeyByZXR1cm4geC5tYXAoZGVlcENsb25lKTsgfVxuICAgIGlmIChpc09iamVjdCh4KSkgeyByZXR1cm4gbWFrZU9iamVjdChtYXBPYmplY3QoeCwgKGssIHYpID0+IFtrLCBkZWVwQ2xvbmUodildIGFzIFtzdHJpbmcsIGFueV0pKTsgfVxuICAgIHJldHVybiB4O1xufVxuXG4vKipcbiAqIE1hcCBvdmVyIGFuIG9iamVjdCwgdHJlYXRpbmcgaXQgYXMgYSBkaWN0aW9uYXJ5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXBPYmplY3Q8VCwgVT4oeDogT2JqPFQ+LCBmbjogKGtleTogc3RyaW5nLCB2YWx1ZTogVCkgPT4gVSk6IFVbXSB7XG4gICAgY29uc3QgcmV0OiBVW10gPSBbXTtcbiAgICBPYmplY3Qua2V5cyh4KS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIHJldC5wdXNoKGZuKGtleSwgeFtrZXldKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldDtcbn1cblxuLyoqXG4gKiBDb25zdHJ1Y3QgYW4gb2JqZWN0IGZyb20gYSBsaXN0IG9mIChrLCB2KSBwYWlyc1xuICovXG5leHBvcnQgZnVuY3Rpb24gbWFrZU9iamVjdDxUPihwYWlyczogQXJyYXk8W3N0cmluZywgVF0+KTogT2JqPFQ+IHtcbiAgICBjb25zdCByZXQ6IE9iajxUPiA9IHt9O1xuICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICByZXRbcGFpclswXV0gPSBwYWlyWzFdO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuXG4vKipcbiAqIERlZXAgZ2V0IGEgdmFsdWUgZnJvbSBhIHRyZWUgb2YgbmVzdGVkIG9iamVjdHNcbiAqXG4gKiBSZXR1cm5zIHVuZGVmaW5lZCBpZiBhbnkgcGFydCBvZiB0aGUgcGF0aCB3YXMgdW5zZXQgb3JcbiAqIG5vdCBhbiBvYmplY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWVwR2V0KHg6IGFueSwgcGF0aDogc3RyaW5nW10pOiBhbnkge1xuICAgIHBhdGggPSBwYXRoLnNsaWNlKCk7XG5cbiAgICB3aGlsZSAocGF0aC5sZW5ndGggPiAwICYmIGlzT2JqZWN0KHgpKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHBhdGguc2hpZnQoKSE7XG4gICAgICAgIHggPSB4W2tleV07XG4gICAgfVxuICAgIHJldHVybiBwYXRoLmxlbmd0aCA9PT0gMCA/IHggOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogRGVlcCBzZXQgYSB2YWx1ZSBpbiBhIHRyZWUgb2YgbmVzdGVkIG9iamVjdHNcbiAqXG4gKiBUaHJvd3MgYW4gZXJyb3IgaWYgYW55IHBhcnQgb2YgdGhlIHBhdGggaXMgbm90IGFuIG9iamVjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZXBTZXQoeDogYW55LCBwYXRoOiBzdHJpbmdbXSwgdmFsdWU6IGFueSkge1xuICAgIHBhdGggPSBwYXRoLnNsaWNlKCk7XG5cbiAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXRoIG1heSBub3QgYmUgZW1wdHknKTtcbiAgICB9XG5cbiAgICB3aGlsZSAocGF0aC5sZW5ndGggPiAxICYmIGlzT2JqZWN0KHgpKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHBhdGguc2hpZnQoKSE7XG4gICAgICAgIGlmICghKGtleSBpbiB4KSkgeyB4W2tleV0gPSB7fTsgfVxuICAgICAgICB4ID0geFtrZXldO1xuICAgIH1cblxuICAgIGlmICghaXNPYmplY3QoeCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBhbiBvYmplY3QsIGdvdCAnJHt4fSdgKTtcbiAgICB9XG5cbiAgICB4W3BhdGhbMF1dID0gdmFsdWU7XG59XG5cbi8qKlxuICogUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyB0b2dldGhlclxuICpcbiAqIFRoZSBsZWZ0bW9zdCBvYmplY3QgaXMgbXV0YXRlZCBhbmQgcmV0dXJuZWQuIEFycmF5cyBhcmUgbm90IG1lcmdlZFxuICogYnV0IG92ZXJ3cml0dGVuIGp1c3QgbGlrZSBzY2FsYXJzLlxuICpcbiAqIElmIGFuIG9iamVjdCBpcyBtZXJnZWQgaW50byBhIG5vbi1vYmplY3QsIHRoZSBub24tb2JqZWN0IGlzIGxvc3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWVwTWVyZ2UoLi4ub2JqZWN0czogQXJyYXk8T2JqPGFueT4gfCB1bmRlZmluZWQ+KSB7XG4gICAgZnVuY3Rpb24gbWVyZ2VPbmUodGFyZ2V0OiBPYmo8YW55Piwgc291cmNlOiBPYmo8YW55Pikge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhzb3VyY2UpKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHNvdXJjZVtrZXldO1xuXG4gICAgICAgICAgICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc09iamVjdCh0YXJnZXRba2V5XSkpIHsgdGFyZ2V0W2tleV0gPSB7fTsgfSAvLyBPdmVyd3JpdGUgb24gcHVycG9zZVxuICAgICAgICAgICAgICAgIG1lcmdlT25lKHRhcmdldFtrZXldLCB2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgb3RoZXJzID0gb2JqZWN0cy5maWx0ZXIoeCA9PiB4ICE9IG51bGwpIGFzIEFycmF5PE9iajxhbnk+PjtcblxuICAgIGlmIChvdGhlcnMubGVuZ3RoID09PSAwKSB7IHJldHVybiB7fTsgfVxuICAgIGNvbnN0IGludG8gPSBvdGhlcnMuc3BsaWNlKDAsIDEpWzBdO1xuXG4gICAgb3RoZXJzLmZvckVhY2gob3RoZXIgPT4gbWVyZ2VPbmUoaW50bywgb3RoZXIpKTtcbiAgICByZXR1cm4gaW50bztcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBvYmplY3RzLnRzIl0sInNvdXJjZVJvb3QiOiIifQ=="
}
