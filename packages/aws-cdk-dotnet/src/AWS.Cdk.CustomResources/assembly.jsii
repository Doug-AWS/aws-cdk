{
  "schema": "jsii/1.0",
  "types": {
    "jsii$_aws_cdk_custom_resources$.CustomResourceProps": {
      "docs": {
        "comment": "Properties to provide a Lambda-backed custom resource"
      },
      "kind": "interface",
      "properties": [
        {
          "docs": {
            "comment": "The Lambda provider that implements this custom resource.\n\nWe recommend using a SingletonLambda for this.\n\nOptional, exactly one of lamdaProvider or topicProvider must be set."
          },
          "name": "lambdaProvider",
          "type": {
            "fqn": "jsii$_aws_cdk_lambda$.LambdaRef",
            "optional": true
          }
        },
        {
          "docs": {
            "comment": "The SNS Topic for the provider that implements this custom resource.\n\nOptional, exactly one of lamdaProvider or topicProvider must be set."
          },
          "name": "topicProvider",
          "type": {
            "fqn": "jsii$_aws_cdk_sns$.TopicRef",
            "optional": true
          }
        },
        {
          "docs": {
            "comment": "Properties to pass to the Lambda"
          },
          "name": "properties",
          "type": {
            "collection": {
              "elementtype": {
                "primitive": "any"
              },
              "kind": "map"
            },
            "optional": true
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_custom_resources$.CustomResourceProps",
      "module": "jsii$_aws_cdk_custom_resources$",
      "namespace": "jsii$_aws_cdk_custom_resources$",
      "name": "CustomResourceProps",
      "datatype": true
    },
    "jsii$_aws_cdk_custom_resources$.CustomResource": {
      "docs": {
        "comment": "Custom resource that is implemented using a Lambda\n\nAs a custom resource author, you should be publishing a subclass of this class\nthat hides the choice of provider, and accepts a strongly-typed properties\nobject with the properties your provider accepts."
      },
      "kind": "class",
      "methods": [
        {
          "docs": {
            "comment": "Override renderProperties to mix in the user-defined properties"
          },
          "name": "renderProperties",
          "protected": true,
          "returns": {
            "collection": {
              "elementtype": {
                "primitive": "any"
              },
              "kind": "map"
            }
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_custom_resources$.CustomResource",
      "module": "jsii$_aws_cdk_custom_resources$",
      "namespace": "jsii$_aws_cdk_custom_resources$",
      "name": "CustomResource",
      "base": {
        "fqn": "jsii$_aws_cdk_resources$.cloudformation.CustomResource"
      },
      "initializer": {
        "parameters": [
          {
            "name": "parent",
            "type": {
              "fqn": "jsii$_aws_cdk_core$.Construct"
            }
          },
          {
            "name": "name",
            "type": {
              "primitive": "string"
            }
          },
          {
            "name": "props",
            "type": {
              "fqn": "jsii$_aws_cdk_custom_resources$.CustomResourceProps"
            }
          }
        ],
        "initializer": true
      }
    },
    "jsii$_aws_cdk_custom_resources$.SingletonLambdaProps": {
      "docs": {
        "comment": "Properties for a newly created singleton Lambda"
      },
      "kind": "interface",
      "interfaces": [
        {
          "fqn": "jsii$_aws_cdk_lambda$.LambdaProps"
        }
      ],
      "properties": [
        {
          "docs": {
            "comment": "A unique identifier to identify this lambda\n\nThe identifier should be unique across all custom resource providers.\nWe recommend generating a UUID per provider."
          },
          "name": "uuid",
          "type": {
            "primitive": "string"
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_custom_resources$.SingletonLambdaProps",
      "module": "jsii$_aws_cdk_custom_resources$",
      "namespace": "jsii$_aws_cdk_custom_resources$",
      "name": "SingletonLambdaProps",
      "datatype": true
    },
    "jsii$_aws_cdk_custom_resources$.SingletonLambda": {
      "docs": {
        "comment": "A Lambda that will only ever be added to a stack once.\n\nThe lambda is identified using the value of 'uuid'. Run 'uuidgen'\nfor every SingletonLambda you create."
      },
      "kind": "class",
      "properties": [
        {
          "docs": {
            "comment": "The name of the function."
          },
          "name": "functionName",
          "type": {
            "fqn": "jsii$_aws_cdk_lambda$.FunctionName"
          }
        },
        {
          "docs": {
            "comment": "The ARN fo the function."
          },
          "name": "functionArn",
          "type": {
            "fqn": "jsii$_aws_cdk_resources$.lambda.FunctionArn"
          }
        },
        {
          "docs": {
            "comment": "The IAM role associated with this function."
          },
          "name": "role",
          "type": {
            "fqn": "jsii$_aws_cdk_iam$.Role",
            "optional": true
          }
        },
        {
          "docs": {
            "comment": "Whether the addPermission() call adds any permissions\n\nTrue for new Lambdas, false for imported Lambdas (they might live in different accounts)."
          },
          "name": "canCreatePermissions",
          "type": {
            "primitive": "boolean"
          },
          "protected": true
        }
      ],
      "methods": [
        {
          "parameters": [
            {
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "name": "permission",
              "type": {
                "fqn": "jsii$_aws_cdk_lambda$.LambdaPermission"
              }
            }
          ],
          "docs": {
            "comment": "Adds a permission to the Lambda resource policy."
          },
          "name": "addPermission"
        }
      ],
      "fqn": "jsii$_aws_cdk_custom_resources$.SingletonLambda",
      "module": "jsii$_aws_cdk_custom_resources$",
      "namespace": "jsii$_aws_cdk_custom_resources$",
      "name": "SingletonLambda",
      "base": {
        "fqn": "jsii$_aws_cdk_lambda$.LambdaRef"
      },
      "initializer": {
        "parameters": [
          {
            "name": "parent",
            "type": {
              "fqn": "jsii$_aws_cdk_core$.Construct"
            }
          },
          {
            "name": "name",
            "type": {
              "primitive": "string"
            }
          },
          {
            "name": "props",
            "type": {
              "fqn": "jsii$_aws_cdk_custom_resources$.SingletonLambdaProps"
            }
          }
        ],
        "initializer": true
      }
    }
  },
  "nametree": {
    "jsii$_aws_cdk_custom_resources$": {
      "CustomResourceProps": {
        "_": "jsii$_aws_cdk_custom_resources$.CustomResourceProps"
      },
      "CustomResource": {
        "_": "jsii$_aws_cdk_custom_resources$.CustomResource"
      },
      "SingletonLambdaProps": {
        "_": "jsii$_aws_cdk_custom_resources$.SingletonLambdaProps"
      },
      "SingletonLambda": {
        "_": "jsii$_aws_cdk_custom_resources$.SingletonLambda"
      }
    }
  },
  "typecount": 4,
  "externalTypes": {
    "jsii$_aws_cdk_lambda$.LambdaRef": {
      "kind": "class",
      "properties": [
        {
          "docs": {
            "comment": "The name of the function."
          },
          "name": "functionName",
          "type": {
            "fqn": "jsii$_aws_cdk_lambda$.FunctionName"
          },
          "immutable": true,
          "abstract": true
        },
        {
          "docs": {
            "comment": "The ARN fo the function."
          },
          "name": "functionArn",
          "type": {
            "fqn": "jsii$_aws_cdk_resources$.lambda.FunctionArn"
          },
          "immutable": true,
          "abstract": true
        },
        {
          "docs": {
            "comment": "The IAM role associated with this function."
          },
          "name": "role",
          "type": {
            "fqn": "jsii$_aws_cdk_iam$.Role",
            "optional": true
          },
          "immutable": true,
          "abstract": true
        },
        {
          "docs": {
            "comment": "Whether the addPermission() call adds any permissions\n\nTrue for new Lambdas, false for imported Lambdas (they might live in different accounts)."
          },
          "name": "canCreatePermissions",
          "type": {
            "primitive": "boolean"
          },
          "immutable": true,
          "protected": true,
          "abstract": true
        },
        {
          "docs": {
            "comment": "Returns a RuleTarget that can be used to trigger this Lambda as a\nresult from a CloudWatch event."
          },
          "name": "eventRuleTarget",
          "type": {
            "fqn": "jsii$_aws_cdk_events$.EventRuleTarget"
          },
          "immutable": true
        }
      ],
      "methods": [
        {
          "parameters": [
            {
              "docs": {
                "param": "parent The parent construct",
                "comment": "The parent construct"
              },
              "name": "parent",
              "type": {
                "fqn": "jsii$_aws_cdk_core$.Construct"
              }
            },
            {
              "docs": {
                "param": "name The name of the lambda construct",
                "comment": "The name of the lambda construct"
              },
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "docs": {
                "param": "ref A reference to a Lambda function. Can be created manually (see\nexample above) or obtained through a call to `lambda.export()`.",
                "comment": "A reference to a Lambda function. Can be created manually (see\nexample above) or obtained through a call to `lambda.export()`."
              },
              "name": "ref",
              "type": {
                "fqn": "jsii$_aws_cdk_lambda$.LambdaRefProps"
              }
            }
          ],
          "docs": {
            "comment": "Creates a Lambda function object which represents a function not defined\nwithin this stack.\n\n      Lambda.import(this, 'MyImportedFunction', { lambdaArn: new LambdaArn('arn:aws:...') });"
          },
          "name": "import",
          "static": true,
          "returns": {
            "fqn": "jsii$_aws_cdk_lambda$.LambdaRef"
          }
        },
        {
          "parameters": [
            {
              "docs": {
                "param": "name A name for the permission construct",
                "comment": "A name for the permission construct"
              },
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "name": "permission",
              "type": {
                "fqn": "jsii$_aws_cdk_lambda$.LambdaPermission"
              }
            }
          ],
          "docs": {
            "comment": "Adds a permission to the Lambda resource policy."
          },
          "name": "addPermission"
        },
        {
          "parameters": [
            {
              "name": "statement",
              "type": {
                "fqn": "jsii$_aws_cdk_core$.PolicyStatement"
              }
            }
          ],
          "name": "addToRolePolicy"
        }
      ],
      "interfaces": [
        {
          "fqn": "jsii$_aws_cdk_events$.IEventRuleTarget"
        }
      ],
      "fqn": "jsii$_aws_cdk_lambda$.LambdaRef",
      "module": "jsii$_aws_cdk_lambda$",
      "namespace": "jsii$_aws_cdk_lambda$",
      "name": "LambdaRef",
      "base": {
        "fqn": "jsii$_aws_cdk_core$.Construct"
      },
      "abstract": true,
      "initializer": {
        "parameters": [
          {
            "docs": {
              "param": "parent The parent construct",
              "comment": "The parent construct"
            },
            "name": "parent",
            "type": {
              "fqn": "jsii$_aws_cdk_core$.Construct"
            }
          },
          {
            "name": "name",
            "type": {
              "primitive": "string"
            }
          }
        ],
        "docs": {
          "comment": "Creates a new construct node."
        },
        "initializer": true
      }
    },
    "jsii$_aws_cdk_sns$.TopicRef": {
      "docs": {
        "comment": "Either a new or imported Topic"
      },
      "kind": "class",
      "properties": [
        {
          "name": "topicArn",
          "type": {
            "fqn": "jsii$_aws_cdk_sns$.TopicArn"
          },
          "immutable": true,
          "abstract": true
        },
        {
          "docs": {
            "comment": "Controls automatic creation of policy objects.\n\nSet by subclasses."
          },
          "name": "autoCreatePolicy",
          "type": {
            "primitive": "boolean"
          },
          "immutable": true,
          "protected": true,
          "abstract": true
        },
        {
          "docs": {
            "comment": "Returns a RuleTarget that can be used to trigger this SNS topic as a\nresult from a CloudWatch event."
          },
          "name": "eventRuleTarget",
          "type": {
            "fqn": "jsii$_aws_cdk_events$.EventRuleTarget"
          },
          "immutable": true
        }
      ],
      "methods": [
        {
          "parameters": [
            {
              "name": "parent",
              "type": {
                "fqn": "jsii$_aws_cdk_core$.Construct"
              }
            },
            {
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "name": "props",
              "type": {
                "fqn": "jsii$_aws_cdk_sns$.TopicRefProps"
              }
            }
          ],
          "docs": {
            "comment": "Import a Topic defined elsewhere"
          },
          "name": "import",
          "static": true,
          "returns": {
            "fqn": "jsii$_aws_cdk_sns$.TopicRef"
          }
        },
        {
          "docs": {
            "comment": "Export this Topic"
          },
          "name": "export",
          "returns": {
            "fqn": "jsii$_aws_cdk_sns$.TopicRefProps"
          }
        },
        {
          "parameters": [
            {
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "name": "endpoint",
              "type": {
                "primitive": "string"
              }
            },
            {
              "name": "protocol",
              "type": {
                "fqn": "jsii$_aws_cdk_sns$.SubscriptionProtocol"
              }
            }
          ],
          "docs": {
            "comment": "Subscribe some endpoint to this topic"
          },
          "name": "subscribe"
        },
        {
          "parameters": [
            {
              "docs": {
                "param": "queue The target queue",
                "comment": "The target queue"
              },
              "name": "queue",
              "type": {
                "fqn": "jsii$_aws_cdk_sqs$.QueueRef"
              }
            }
          ],
          "docs": {
            "comment": "Defines a subscription from this SNS topic to an SQS queue.\n\nThe queue resource policy will be updated to allow this SNS topic to send\nmessages to the queue.\n\nTODO: change to QueueRef."
          },
          "name": "subscribeQueue",
          "returns": {
            "fqn": "jsii$_aws_cdk_sns$.Subscription"
          }
        },
        {
          "parameters": [
            {
              "docs": {
                "param": "lambdaFunction The Lambda function to invoke",
                "comment": "The Lambda function to invoke"
              },
              "name": "lambdaFunction",
              "type": {
                "fqn": "jsii$_aws_cdk_lambda$.LambdaRef"
              }
            }
          ],
          "docs": {
            "comment": "Defines a subscription from this SNS Topic to a Lambda function.\n\nThe Lambda's resource policy will be updated to allow this topic to\ninvoke the function."
          },
          "name": "subscribeLambda",
          "returns": {
            "fqn": "jsii$_aws_cdk_sns$.Subscription"
          }
        },
        {
          "parameters": [
            {
              "docs": {
                "param": "name A name for the subscription",
                "comment": "A name for the subscription"
              },
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "docs": {
                "param": "emailAddress The email address to use.",
                "comment": "The email address to use."
              },
              "name": "emailAddress",
              "type": {
                "primitive": "string"
              }
            },
            {
              "name": "options",
              "type": {
                "fqn": "jsii$_aws_cdk_sns$.EmailSubscriptionOptions",
                "optional": true
              }
            }
          ],
          "docs": {
            "comment": "Defines a subscription from this SNS topic to an email address."
          },
          "name": "subscribeEmail",
          "returns": {
            "fqn": "jsii$_aws_cdk_sns$.Subscription"
          }
        },
        {
          "parameters": [
            {
              "docs": {
                "param": "name A name for the subscription",
                "comment": "A name for the subscription"
              },
              "name": "name",
              "type": {
                "primitive": "string"
              }
            },
            {
              "docs": {
                "param": "url The URL to invoke",
                "comment": "The URL to invoke"
              },
              "name": "url",
              "type": {
                "primitive": "string"
              }
            }
          ],
          "docs": {
            "comment": "Defines a subscription from this SNS topic to an http:// or https:// URL."
          },
          "name": "subscribeUrl",
          "returns": {
            "fqn": "jsii$_aws_cdk_sns$.Subscription"
          }
        },
        {
          "parameters": [
            {
              "name": "statement",
              "type": {
                "fqn": "jsii$_aws_cdk_core$.PolicyStatement"
              }
            }
          ],
          "docs": {
            "comment": "Adds a statement to the IAM resource policy associated with this topic.\n\nIf this topic was created in this stack (`new Topic`), a topic policy\nwill be automatically created upon the first call to `addToPolicy`. If\nthe topic is improted (`Topic.import`), then this is a no-op."
          },
          "name": "addToResourcePolicy"
        },
        {
          "parameters": [
            {
              "name": "identity",
              "type": {
                "fqn": "jsii$_aws_cdk_iam$.IIdentityResource",
                "optional": true
              }
            }
          ],
          "docs": {
            "comment": "Grant topic publishing permissions to the given identity"
          },
          "name": "grantPublish"
        }
      ],
      "interfaces": [
        {
          "fqn": "jsii$_aws_cdk_events$.IEventRuleTarget"
        }
      ],
      "fqn": "jsii$_aws_cdk_sns$.TopicRef",
      "module": "jsii$_aws_cdk_sns$",
      "namespace": "jsii$_aws_cdk_sns$",
      "name": "TopicRef",
      "base": {
        "fqn": "jsii$_aws_cdk_core$.Construct"
      },
      "abstract": true,
      "initializer": {
        "parameters": [
          {
            "docs": {
              "param": "parent The parent construct",
              "comment": "The parent construct"
            },
            "name": "parent",
            "type": {
              "fqn": "jsii$_aws_cdk_core$.Construct"
            }
          },
          {
            "name": "name",
            "type": {
              "primitive": "string"
            }
          }
        ],
        "docs": {
          "comment": "Creates a new construct node."
        },
        "initializer": true
      }
    },
    "jsii$_aws_cdk_resources$.cloudformation.CustomResource": {
      "docs": {
        "link": "http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cfn-customresource.html"
      },
      "kind": "class",
      "properties": [
        {
          "docs": {
            "comment": "The CloudFormation resource type name for this resource class."
          },
          "name": "resourceTypeName",
          "static": true,
          "type": {
            "primitive": "string"
          },
          "immutable": true,
          "const": true
        },
        {
          "docs": {
            "comment": "The list of properties on the CloudFormation model for this resource, with their attache metadata."
          },
          "name": "resourceProperties",
          "static": true,
          "type": {
            "collection": {
              "elementtype": {
                "fqn": "jsii$_aws_cdk_resources$.PropertySpecification"
              },
              "kind": "map"
            }
          },
          "immutable": true,
          "const": true
        }
      ],
      "methods": [
        {
          "name": "renderProperties",
          "protected": true,
          "returns": {
            "collection": {
              "elementtype": {
                "primitive": "any"
              },
              "kind": "map"
            }
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_resources$.cloudformation.CustomResource",
      "module": "jsii$_aws_cdk_resources$",
      "namespace": "jsii$_aws_cdk_resources$.cloudformation",
      "name": "CustomResource",
      "base": {
        "fqn": "jsii$_aws_cdk_core$.Resource"
      },
      "initializer": {
        "parameters": [
          {
            "docs": {
              "param": "parent the core.Construct this CustomResource is a part of",
              "comment": "the core.Construct this CustomResource is a part of"
            },
            "name": "parent",
            "type": {
              "fqn": "jsii$_aws_cdk_core$.Construct"
            }
          },
          {
            "name": "name",
            "type": {
              "primitive": "string"
            }
          },
          {
            "docs": {
              "param": "props the properties of this CustomResource",
              "comment": "the properties of this CustomResource"
            },
            "name": "props",
            "type": {
              "fqn": "jsii$_aws_cdk_resources$.cloudformation.CustomResourceProps",
              "optional": true
            }
          }
        ],
        "docs": {
          "comment": "Creates a new AWS::CloudFormation::CustomResource."
        },
        "initializer": true
      }
    },
    "jsii$_aws_cdk_core$.Construct": {
      "docs": {
        "comment": "Represents the building block of the construct graph.\nWhen a construct is created, it is always added as a child"
      },
      "kind": "class",
      "properties": [
        {
          "docs": {
            "comment": "Returns the parent of this node or undefined if this is a root node."
          },
          "name": "parent",
          "type": {
            "fqn": "jsii$_aws_cdk_core$.Construct",
            "optional": true
          },
          "immutable": true
        },
        {
          "docs": {
            "comment": "The name of this construct"
          },
          "name": "name",
          "type": {
            "primitive": "string"
          },
          "immutable": true
        },
        {
          "docs": {
            "comment": "All direct children of this construct."
          },
          "name": "children",
          "type": {
            "collection": {
              "elementtype": {
                "fqn": "jsii$_aws_cdk_core$.Construct"
              },
              "kind": "array"
            }
          },
          "immutable": true
        },
        {
          "docs": {
            "returns": "/-separated path of this Construct.",
            "comment": "Returns the path of all constructs from root to this construct, in string form."
          },
          "name": "path",
          "type": {
            "primitive": "string"
          },
          "immutable": true
        },
        {
          "docs": {
            "comment": "An array of metadata objects associated with this construct.\nThis can be used, for example, to implement support for deprecation notices, source mapping, etc."
          },
          "name": "metadata",
          "type": {
            "collection": {
              "elementtype": {
                "fqn": "jsii$_aws_cdk_core$.MetadataEntry"
              },
              "kind": "array"
            }
          },
          "immutable": true
        }
      ],
      "methods": [
        {
          "docs": {
            "comment": "Returns a string representation of this construct."
          },
          "name": "toString",
          "returns": {
            "primitive": "string"
          }
        },
        {
          "parameters": [
            {
              "name": "depth",
              "type": {
                "primitive": "number",
                "optional": true
              }
            }
          ],
          "docs": {
            "comment": "Returns a string with a tree representation of this construct and it's children."
          },
          "name": "toTreeString",
          "returns": {
            "primitive": "string"
          }
        },
        {
          "parameters": [
            {
              "name": "path",
              "type": {
                "primitive": "string"
              }
            }
          ],
          "docs": {
            "returns": "a child by path or undefined if not found.",
            "comment": "Return a descendant by path, or undefined"
          },
          "name": "tryFindChild",
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.Construct",
            "optional": true
          }
        },
        {
          "parameters": [
            {
              "name": "path",
              "type": {
                "primitive": "string"
              }
            }
          ],
          "docs": {
            "returns": "Child with the given path.",
            "comment": "Return a descendant by path\n\nThrows an exception if the descendant is not found."
          },
          "name": "findChild",
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.Construct"
          }
        },
        {
          "parameters": [
            {
              "docs": {
                "param": "key The context key",
                "comment": "The context key"
              },
              "name": "key",
              "type": {
                "primitive": "string"
              }
            },
            {
              "docs": {
                "param": "value The context value",
                "comment": "The context value"
              },
              "name": "value",
              "type": {
                "primitive": "any"
              }
            }
          ],
          "docs": {
            "comment": "This can be used to set contextual values.\nContext must be set before any children are added, since children may consult context info during construction.\nIf the key already exists, it will be overridden."
          },
          "name": "setContext"
        },
        {
          "parameters": [
            {
              "docs": {
                "param": "key The context key",
                "comment": "The context key"
              },
              "name": "key",
              "type": {
                "primitive": "string"
              }
            }
          ],
          "docs": {
            "returns": "The context value or undefined",
            "comment": "Retrieves a value from tree context.\n\nContext is usually initialized at the root, but can be overridden at any point in the tree."
          },
          "name": "getContext",
          "returns": {
            "primitive": "any"
          }
        },
        {
          "parameters": [
            {
              "name": "key",
              "type": {
                "primitive": "string"
              }
            }
          ],
          "docs": {
            "comment": "Retrieve a value from tree-global context\n\nIt is an error if the context object is not available."
          },
          "name": "requireContext",
          "returns": {
            "primitive": "any"
          }
        },
        {
          "parameters": [
            {
              "docs": {
                "param": "type a string denoting the type of metadata",
                "comment": "a string denoting the type of metadata"
              },
              "name": "type",
              "type": {
                "primitive": "string"
              }
            },
            {
              "docs": {
                "param": "data the value of the metadata (can be a Token). If null/undefined, metadata will not be added.",
                "comment": "the value of the metadata (can be a Token). If null/undefined, metadata will not be added."
              },
              "name": "data",
              "type": {
                "primitive": "any"
              }
            },
            {
              "docs": {
                "param": "from a function under which to restrict the metadata entry's stack trace (defaults to this.addMetadata)",
                "comment": "a function under which to restrict the metadata entry's stack trace (defaults to this.addMetadata)"
              },
              "name": "from",
              "type": {
                "primitive": "any",
                "optional": true
              }
            }
          ],
          "docs": {
            "comment": "Adds a metadata entry to this construct.\nEntries are arbitrary values and will also include a stack trace to allow tracing back to\nthe code location for when the entry was added. It can be used, for example, to include source\nmapping in CloudFormation templates to improve diagnostics."
          },
          "name": "addMetadata",
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.Construct"
          }
        },
        {
          "parameters": [
            {
              "docs": {
                "param": "message The warning message.",
                "comment": "The warning message."
              },
              "name": "message",
              "type": {
                "primitive": "string"
              }
            }
          ],
          "docs": {
            "comment": "Adds a { warning: <message> } metadata entry to this construct."
          },
          "name": "addWarning",
          "returns": {
            "fqn": "jsii$_aws_cdk_core$.Construct"
          }
        },
        {
          "docs": {
            "returns": "An array of validation error messages, or an empty array if there the construct is valid.",
            "comment": "This method can be implemented by derived constructs in order to perform\nvalidation logic. It is called on all constructs before synthesis."
          },
          "name": "validate",
          "returns": {
            "collection": {
              "elementtype": {
                "primitive": "string"
              },
              "kind": "array"
            }
          }
        },
        {
          "docs": {
            "returns": "A list of validation errors. If the list is empty, all constructs are valid.",
            "comment": "Invokes 'validate' on all child constructs and then on this construct (depth-first)."
          },
          "name": "validateTree",
          "returns": {
            "collection": {
              "elementtype": {
                "fqn": "jsii$_aws_cdk_core$.ValidationError"
              },
              "kind": "array"
            }
          }
        },
        {
          "parameters": [
            {
              "name": "upTo",
              "type": {
                "fqn": "jsii$_aws_cdk_core$.Construct",
                "optional": true
              }
            }
          ],
          "docs": {
            "comment": "Return the ancestors (including self) of this Construct up until and excluding the indicated component"
          },
          "name": "ancestors",
          "protected": true,
          "returns": {
            "collection": {
              "elementtype": {
                "fqn": "jsii$_aws_cdk_core$.Construct"
              },
              "kind": "array"
            }
          }
        },
        {
          "parameters": [
            {
              "docs": {
                "param": "props The props bag.",
                "comment": "The props bag."
              },
              "name": "props",
              "type": {
                "primitive": "any"
              }
            },
            {
              "docs": {
                "param": "name The name of the required property.",
                "comment": "The name of the required property."
              },
              "name": "name",
              "type": {
                "primitive": "string"
              }
            }
          ],
          "docs": {
            "comment": "Throws if the `props` bag doesn't include the property `name`.\nIn the future we can add some type-checking here, maybe even auto-generate during compilation."
          },
          "name": "required",
          "protected": true,
          "returns": {
            "primitive": "any"
          }
        },
        {
          "parameters": [
            {
              "docs": {
                "param": "child The child construct",
                "comment": "The child construct"
              },
              "name": "child",
              "type": {
                "fqn": "jsii$_aws_cdk_core$.Construct"
              }
            },
            {
              "name": "childName",
              "type": {
                "primitive": "string"
              }
            }
          ],
          "docs": {
            "returns": "The resolved path part name of the child",
            "comment": "Adds a child construct to this node."
          },
          "name": "addChild",
          "protected": true
        },
        {
          "docs": {
            "comment": "Locks this construct from allowing more children to be added. After this\ncall, no more children can be added to this construct or to any children."
          },
          "name": "lock",
          "protected": true
        },
        {
          "docs": {
            "comment": "Unlocks this costruct and allows mutations (adding children)."
          },
          "name": "unlock",
          "protected": true
        }
      ],
      "fqn": "jsii$_aws_cdk_core$.Construct",
      "module": "jsii$_aws_cdk_core$",
      "namespace": "jsii$_aws_cdk_core$",
      "name": "Construct",
      "initializer": {
        "parameters": [
          {
            "docs": {
              "param": "parent The parent construct",
              "comment": "The parent construct"
            },
            "name": "parent",
            "type": {
              "fqn": "jsii$_aws_cdk_core$.Construct"
            }
          },
          {
            "name": "name",
            "type": {
              "primitive": "string"
            }
          }
        ],
        "docs": {
          "comment": "Creates a new construct node."
        },
        "initializer": true
      }
    },
    "jsii$_aws_cdk_lambda$.LambdaProps": {
      "kind": "interface",
      "properties": [
        {
          "docs": {
            "comment": "The source code of your Lambda function. You can point to a file in an\nAmazon Simple Storage Service (Amazon S3) bucket or specify your source\ncode as inline text."
          },
          "name": "code",
          "type": {
            "fqn": "jsii$_aws_cdk_lambda$.LambdaCode"
          }
        },
        {
          "docs": {
            "comment": "A description of the function."
          },
          "name": "description",
          "type": {
            "primitive": "string",
            "optional": true
          }
        },
        {
          "docs": {
            "comment": "The name of the function (within your source code) that Lambda calls to\nstart running your code. For more information, see the Handler property\nin the AWS Lambda Developer Guide.\n\nNOTE: If you specify your source code as inline text by specifying the\nZipFile property within the Code property, specify index.function_name as\nthe handler."
          },
          "name": "handler",
          "type": {
            "primitive": "string"
          }
        },
        {
          "docs": {
            "default": "3 seconds.",
            "comment": "The function execution time (in seconds) after which Lambda terminates\nthe function. Because the execution time affects cost, set this value\nbased on the function's expected execution time."
          },
          "name": "timeout",
          "type": {
            "primitive": "number",
            "optional": true
          }
        },
        {
          "docs": {
            "comment": "Key-value pairs that Lambda caches and makes available for your Lambda\nfunctions. Use environment variables to apply configuration changes, such\nas test and production environment configurations, without changing your\nLambda function source code."
          },
          "name": "environment",
          "type": {
            "collection": {
              "elementtype": {
                "primitive": "any"
              },
              "kind": "map"
            },
            "optional": true
          }
        },
        {
          "docs": {
            "comment": "The runtime environment for the Lambda function that you are uploading.\nFor valid values, see the Runtime property in the AWS Lambda Developer\nGuide."
          },
          "name": "runtime",
          "type": {
            "fqn": "jsii$_aws_cdk_lambda$.LambdaRuntime"
          }
        },
        {
          "docs": {
            "comment": "A name for the function. If you don't specify a name, AWS CloudFormation\ngenerates a unique physical ID and uses that ID for the function's name.\nFor more information, see Name Type."
          },
          "name": "functionName",
          "type": {
            "primitive": "string",
            "optional": true
          }
        },
        {
          "docs": {
            "default": "The default value is 128 MB",
            "comment": "The amount of memory, in MB, that is allocated to your Lambda function.\nLambda uses this value to proportionally allocate the amount of CPU\npower. For more information, see Resource Model in the AWS Lambda\nDeveloper Guide."
          },
          "name": "memorySize",
          "type": {
            "primitive": "number",
            "optional": true
          }
        },
        {
          "docs": {
            "comment": "Initial policy statements to add to the created Lambda Role.\n\nYou can call `addToRolePolicy` to the created lambda to add statements post creation."
          },
          "name": "initialPolicy",
          "type": {
            "collection": {
              "elementtype": {
                "fqn": "jsii$_aws_cdk_core$.PolicyStatement"
              },
              "kind": "array"
            },
            "optional": true
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_lambda$.LambdaProps",
      "module": "jsii$_aws_cdk_lambda$",
      "namespace": "jsii$_aws_cdk_lambda$",
      "name": "LambdaProps",
      "datatype": true
    },
    "jsii$_aws_cdk_lambda$.FunctionName": {
      "kind": "class",
      "fqn": "jsii$_aws_cdk_lambda$.FunctionName",
      "module": "jsii$_aws_cdk_lambda$",
      "namespace": "jsii$_aws_cdk_lambda$",
      "name": "FunctionName",
      "base": {
        "fqn": "jsii$_aws_cdk_core$.Token"
      },
      "initializer": {
        "parameters": [
          {
            "name": "valueOrFunction",
            "type": {
              "primitive": "any",
              "optional": true
            }
          }
        ],
        "docs": {
          "comment": "Creates a token that resolves to `value`. If value is a function,\nthe function is evaluated upon resolution and the value it returns will be\nuesd as the token's value."
        },
        "initializer": true
      }
    },
    "jsii$_aws_cdk_resources$.lambda.FunctionArn": {
      "kind": "class",
      "fqn": "jsii$_aws_cdk_resources$.lambda.FunctionArn",
      "module": "jsii$_aws_cdk_resources$",
      "namespace": "jsii$_aws_cdk_resources$.lambda",
      "name": "FunctionArn",
      "base": {
        "fqn": "jsii$_aws_cdk_core$.Arn"
      },
      "initializer": {
        "parameters": [
          {
            "name": "valueOrFunction",
            "type": {
              "primitive": "any",
              "optional": true
            }
          }
        ],
        "docs": {
          "comment": "Creates a token that resolves to `value`. If value is a function,\nthe function is evaluated upon resolution and the value it returns will be\nuesd as the token's value."
        },
        "initializer": true
      }
    },
    "jsii$_aws_cdk_iam$.Role": {
      "docs": {
        "comment": "IAM Role\n\nDefines an IAM role. The role is created with an assume policy document associated with\nthe specified AWS service principal defined in `serviceAssumeRole`."
      },
      "kind": "class",
      "properties": [
        {
          "docs": {
            "comment": "The assume role policy document associated with this role."
          },
          "name": "assumeRolePolicy",
          "type": {
            "fqn": "jsii$_aws_cdk_core$.PolicyDocument",
            "optional": true
          },
          "immutable": true
        },
        {
          "docs": {
            "comment": "Returns the ARN of this role."
          },
          "name": "roleArn",
          "type": {
            "fqn": "jsii$_aws_cdk_resources$.iam.RoleArn"
          },
          "immutable": true
        },
        {
          "docs": {
            "comment": "Returns the name of the role."
          },
          "name": "roleName",
          "type": {
            "fqn": "jsii$_aws_cdk_iam$.RoleName"
          },
          "immutable": true
        },
        {
          "docs": {
            "comment": "Returns the ARN of this role."
          },
          "name": "principal",
          "type": {
            "fqn": "jsii$_aws_cdk_core$.PolicyPrincipal"
          },
          "immutable": true
        },
        {
          "docs": {
            "comment": "Returns the role."
          },
          "name": "dependencyElements",
          "type": {
            "collection": {
              "elementtype": {
                "fqn": "jsii$_aws_cdk_core$.IDependable"
              },
              "kind": "array"
            }
          },
          "immutable": true
        }
      ],
      "methods": [
        {
          "parameters": [
            {
              "name": "statement",
              "type": {
                "fqn": "jsii$_aws_cdk_core$.PolicyStatement"
              }
            }
          ],
          "docs": {
            "comment": "Adds a permission to the role's default policy document.\nIf there is no default policy attached to this role, it will be created."
          },
          "name": "addToPolicy"
        },
        {
          "parameters": [
            {
              "docs": {
                "param": "arn The ARN of the managed policy to attach.",
                "comment": "The ARN of the managed policy to attach."
              },
              "name": "arn",
              "type": {
                "primitive": "any"
              }
            }
          ],
          "docs": {
            "comment": "Attaches a managed policy to this role."
          },
          "name": "attachManagedPolicy"
        },
        {
          "parameters": [
            {
              "docs": {
                "param": "policy The policy to attach",
                "comment": "The policy to attach"
              },
              "name": "policy",
              "type": {
                "fqn": "jsii$_aws_cdk_iam$.Policy"
              }
            }
          ],
          "docs": {
            "comment": "Attaches a policy to this role."
          },
          "name": "attachInlinePolicy"
        }
      ],
      "interfaces": [
        {
          "fqn": "jsii$_aws_cdk_iam$.IIdentityResource"
        },
        {
          "fqn": "jsii$_aws_cdk_core$.IDependable"
        }
      ],
      "fqn": "jsii$_aws_cdk_iam$.Role",
      "module": "jsii$_aws_cdk_iam$",
      "namespace": "jsii$_aws_cdk_iam$",
      "name": "Role",
      "base": {
        "fqn": "jsii$_aws_cdk_core$.Construct"
      },
      "initializer": {
        "parameters": [
          {
            "name": "parent",
            "type": {
              "fqn": "jsii$_aws_cdk_core$.Construct"
            }
          },
          {
            "name": "name",
            "type": {
              "primitive": "string"
            }
          },
          {
            "name": "props",
            "type": {
              "fqn": "jsii$_aws_cdk_iam$.RoleProps"
            }
          }
        ],
        "initializer": true
      }
    },
    "jsii$_aws_cdk_lambda$.LambdaPermission": {
      "docs": {
        "comment": "Represents a permission statement that can be added to a Lambda's resource policy\nvia the `addToResourcePolicy` method."
      },
      "kind": "interface",
      "properties": [
        {
          "docs": {
            "default": "'lambda:InvokeFunction'",
            "comment": "The Lambda actions that you want to allow in this statement. For example,\nyou can specify lambda:CreateFunction to specify a certain action, or use\na wildcard (``lambda:*``) to grant permission to all Lambda actions. For a\nlist of actions, see Actions and Condition Context Keys for AWS Lambda in\nthe IAM User Guide."
          },
          "name": "action",
          "type": {
            "primitive": "string",
            "optional": true
          }
        },
        {
          "docs": {
            "default": "The caller would not need to present a token.",
            "comment": "A unique token that must be supplied by the principal invoking the\nfunction."
          },
          "name": "eventSourceToken",
          "type": {
            "primitive": "string",
            "optional": true
          }
        },
        {
          "docs": {
            "comment": "The entity for which you are granting permission to invoke the Lambda\nfunction. This entity can be any valid AWS service principal, such as\ns3.amazonaws.com or sns.amazonaws.com, or, if you are granting\ncross-account permission, an AWS account ID. For example, you might want\nto allow a custom application in another AWS account to push events to\nLambda by invoking your function.\n\nThe principal can be either an AccountPrincipal or a ServicePrincipal."
          },
          "name": "principal",
          "type": {
            "fqn": "jsii$_aws_cdk_core$.PolicyPrincipal"
          }
        },
        {
          "docs": {
            "comment": "The AWS account ID (without hyphens) of the source owner. For example, if\nyou specify an S3 bucket in the SourceArn property, this value is the\nbucket owner's account ID. You can use this property to ensure that all\nsource principals are owned by a specific account."
          },
          "name": "sourceAccount",
          "type": {
            "primitive": "any",
            "optional": true
          }
        },
        {
          "docs": {
            "comment": "The ARN of a resource that is invoking your function. When granting\nAmazon Simple Storage Service (Amazon S3) permission to invoke your\nfunction, specify this property with the bucket ARN as its value. This\nensures that events generated only from the specified bucket, not just\nany bucket from any AWS account that creates a mapping to your function,\ncan invoke the function."
          },
          "name": "sourceArn",
          "type": {
            "fqn": "jsii$_aws_cdk_core$.Arn",
            "optional": true
          }
        }
      ],
      "fqn": "jsii$_aws_cdk_lambda$.LambdaPermission",
      "module": "jsii$_aws_cdk_lambda$",
      "namespace": "jsii$_aws_cdk_lambda$",
      "name": "LambdaPermission",
      "datatype": true
    }
  },
  "name": "jsii$_aws_cdk_custom_resources$",
  "package": "@aws-cdk/custom-resources",
  "version": "0.7.2-beta",
  "dependencies": {
    "jsii$_aws_cdk_core$": {
      "package": "@aws-cdk/core",
      "version": "0.7.2-beta"
    },
    "jsii$_aws_cdk_iam$": {
      "package": "@aws-cdk/iam",
      "version": "0.7.2-beta"
    },
    "jsii$_aws_cdk_lambda$": {
      "package": "@aws-cdk/lambda",
      "version": "0.7.2-beta"
    },
    "jsii$_aws_cdk_resources$": {
      "package": "@aws-cdk/resources",
      "version": "0.7.2-beta"
    },
    "jsii$_aws_cdk_sns$": {
      "package": "@aws-cdk/sns",
      "version": "0.7.2-beta"
    }
  },
  "names": {
    "java": "com.amazonaws.cdk.customresources",
    "dotnet": "AWS.Cdk.CustomResources",
    "js": "@aws-cdk/custom-resources"
  },
  "nativenames": {
    "jsii$_aws_cdk_core$": {
      "java": "com.amazonaws.cdk",
      "dotnet": "AWS.Cdk",
      "js": "@aws-cdk/core"
    },
    "jsii$_aws_cdk_iam$": {
      "java": "com.amazonaws.cdk.iam",
      "dotnet": "AWS.Cdk.Iam",
      "js": "@aws-cdk/iam"
    },
    "jsii$_aws_cdk_lambda$": {
      "java": "com.amazonaws.cdk.lambda",
      "dotnet": "AWS.Cdk.Lambda",
      "js": "@aws-cdk/lambda"
    },
    "jsii$_aws_cdk_resources$": {
      "java": "com.amazonaws.cdk.resources",
      "dotnet": "AWS.Cdk.Resources",
      "js": "@aws-cdk/resources"
    },
    "jsii$_aws_cdk_sns$": {
      "java": "com.amazonaws.cdk.sns",
      "dotnet": "AWS.Cdk.Sns",
      "js": "@aws-cdk/sns"
    },
    "jsii$_aws_cdk_custom_resources$": {
      "java": "com.amazonaws.cdk.customresources",
      "dotnet": "AWS.Cdk.CustomResources",
      "js": "@aws-cdk/custom-resources"
    }
  },
  "readme": {
    "markdown": "## CDK Custom Resources\n\nCustom Resources are CloudFormation resources that are implemented by\narbitrary user code. They can do arbitrary lookups or modifications\nduring a CloudFormation synthesis run.\n\nYou will typically use Lambda to implement a Construct implemented as a\nCustom Resource (though SNS topics can be used as well). Your Lambda function\nwill be sent a `CREATE`, `UPDATE` or `DELETE` message, depending on the\nCloudFormation life cycle, and can return any number of output values which\nwill be available as attributes of your Construct. In turn, those can\nbe used as input to other Constructs in your model.\n\nIn general, consumers of your Construct will not need to care whether\nit is implemented in term of other CloudFormation resources or as a\ncustom resource.\n\nNote: when implementing your Custom Resource using a Lambda, use\na `SingletonLambda` so that even if your custom resource is instantiated\nmultiple times, the Lambda will only get uploaded once.\n\n### Example\n\nSample of a Custom Resource that copies files into an S3 bucket during deployment\n(implementation of actual `copy.py` operation elided).\n\n```ts\ninterface CopyOperationProps {\n    sourceBucket: IBucket;\n    targetBucket: IBucket;\n}\n\nclass CopyOperation extends Construct {\n    constructor(parent: Construct, name: string, props: DemoResourceProps) {\n        super(parent, name);\n\n        const lambdaProvider = new SingletonLambda(this, 'Provider', {\n            uuid: 'f7d4f730-4ee1-11e8-9c2d-fa7ae01bbebc',\n            code: new LambdaInlineCode(resources['copy.py']),\n            handler: 'index.handler',\n            timeout: 60,\n            runtime: LambdaRuntime.Python3,\n        });\n\n        new CustomResource(this, 'Resource', {\n            lambdaProvider,\n            properties: {\n                sourceBucketArn: props.sourceBucket.bucketArn,\n                targetBucketArn: props.targetBucket.bucketArn,\n            }\n        });\n    }\n}\n```\n\nMore examples are in the `example` directory, including an example of how to use\nthe `cfnresponse` module that is provided for you by CloudFormation.\n\n### References\n\nSee the following section of the docs on details to write Custom Resources:\n\n* [Introduction](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-custom-resources.html)\n* [Reference](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/crpg-ref.html)\n* [Code Reference](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-lambda-function-code.html)\n"
  },
  "code": "var jsii$_aws_cdk_custom_resources$ =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(__webpack_require__(1));\n__export(__webpack_require__(3));\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst resources_1 = __webpack_require__(2);\n/**\n * Custom resource that is implemented using a Lambda\n *\n * As a custom resource author, you should be publishing a subclass of this class\n * that hides the choice of provider, and accepts a strongly-typed properties\n * object with the properties your provider accepts.\n */\nclass CustomResource extends resources_1.cloudformation.CustomResource {\n    constructor(parent, name, props) {\n        if (!!props.lambdaProvider === !!props.topicProvider) {\n            throw new Error('Exactly one of \"lambdaProvider\" or \"topicProvider\" must be set.');\n        }\n        super(parent, name, {\n            serviceToken: props.lambdaProvider ? props.lambdaProvider.functionArn : props.topicProvider.topicArn\n        });\n        this.userProperties = props.properties;\n    }\n    /**\n     * Override renderProperties to mix in the user-defined properties\n     */\n    renderProperties() {\n        const props = super.renderProperties();\n        return Object.assign(props, uppercaseProperties(this.userProperties || {}));\n    }\n}\nexports.CustomResource = CustomResource;\n/**\n * Uppercase the first letter of every property name\n *\n * It's customary for CloudFormation properties to start with capitals, and our\n * properties to start with lowercase, so this function translates from one\n * to the other\n */\nfunction uppercaseProperties(props) {\n    const ret = {};\n    Object.keys(props).forEach(key => {\n        const upper = key.substr(0, 1).toUpperCase() + key.substr(1);\n        ret[upper] = props[key];\n    });\n    return ret;\n}\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = jsii$_aws_cdk_resources$;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst core_1 = __webpack_require__(4);\nconst lambda_1 = __webpack_require__(5);\n/**\n * A Lambda that will only ever be added to a stack once.\n *\n * The lambda is identified using the value of 'uuid'. Run 'uuidgen'\n * for every SingletonLambda you create.\n */\nclass SingletonLambda extends lambda_1.LambdaRef {\n    constructor(parent, name, props) {\n        super(parent, name);\n        this.lambdaFunction = this.ensureLambda(props.uuid, props);\n        this.functionArn = this.lambdaFunction.functionArn;\n        this.functionName = this.lambdaFunction.functionName;\n        this.role = this.lambdaFunction.role;\n        this.canCreatePermissions = true; // Doesn't matter, addPermission is overriden anyway\n    }\n    addPermission(name, permission) {\n        return this.lambdaFunction.addPermission(name, permission);\n    }\n    ensureLambda(uuid, props) {\n        const constructName = 'SingletonLambda' + slugify(uuid);\n        const stack = core_1.Stack.find(this);\n        const existing = stack.tryFindChild(constructName);\n        if (existing) {\n            // Just assume this is true\n            return existing;\n        }\n        return new lambda_1.Lambda(stack, constructName, props);\n    }\n}\nexports.SingletonLambda = SingletonLambda;\nfunction slugify(x) {\n    return x.replace(/[^a-zA-Z0-9]/g, '');\n}\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\nmodule.exports = jsii$_aws_cdk_core$;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nmodule.exports = jsii$_aws_cdk_lambda$;\n\n/***/ })\n/******/ ]);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgNGM5Y2NiNTM1NTI5N2NkNzM0MTMiLCJ3ZWJwYWNrOi8vLy9yb290L3JlcG9zL2F3cy1jZGsvcGFja2FnZXMvQGF3cy1jZGsvY3VzdG9tLXJlc291cmNlcy9saWIvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy9yb290L3JlcG9zL2F3cy1jZGsvcGFja2FnZXMvQGF3cy1jZGsvY3VzdG9tLXJlc291cmNlcy9saWIvcmVzb3VyY2UudHMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwianNpaSRfYXdzX2Nka19yZXNvdXJjZXMkXCIiLCJ3ZWJwYWNrOi8vLy9yb290L3JlcG9zL2F3cy1jZGsvcGFja2FnZXMvQGF3cy1jZGsvY3VzdG9tLXJlc291cmNlcy9saWIvc2luZ2xldG9ubGFtYmRhLnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcImpzaWkkX2F3c19jZGtfY29yZSRcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqc2lpJF9hd3NfY2RrX2xhbWJkYSRcIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBMkIsMEJBQTBCLEVBQUU7QUFDdkQseUNBQWlDLGVBQWU7QUFDaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOERBQXNELCtEQUErRDs7QUFFckg7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDN0RBLGlDQUEyQjtBQUMzQixpQ0FBa0M7Ozs7Ozs7Ozs7QUNDbEMsMkNBQW9EO0FBa0NwRDs7Ozs7O0dBTUc7QUFDSCxvQkFBNEIsU0FBUSwwQkFBYyxDQUFDLGNBQWM7SUFNN0QsWUFBWSxNQUFpQixFQUFFLElBQVksRUFBRSxLQUEwQjtRQUNuRSxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsY0FBYyxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsYUFBYSxFQUFFO1lBQ2xELE1BQU0sSUFBSSxLQUFLLENBQUMsaUVBQWlFLENBQUMsQ0FBQztTQUN0RjtRQUVELEtBQUssQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFO1lBQ2hCLFlBQVksRUFBRSxLQUFLLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLGFBQWMsQ0FBQyxRQUFRO1NBQ3hHLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxjQUFjLEdBQUcsS0FBSyxDQUFDLFVBQVUsQ0FBQztJQUMzQyxDQUFDO0lBRUQ7O09BRUc7SUFDTyxnQkFBZ0I7UUFDdEIsTUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFDdkMsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsY0FBYyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDaEYsQ0FBQztDQUVKO0FBMUJELHdDQTBCQztBQUVEOzs7Ozs7R0FNRztBQUNILDZCQUE2QixLQUFpQjtJQUMxQyxNQUFNLEdBQUcsR0FBZSxFQUFFLENBQUM7SUFDM0IsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDN0IsTUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM3RCxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzVCLENBQUMsQ0FBQyxDQUFDO0lBQ0gsT0FBTyxHQUFHLENBQUM7QUFDZixDQUFDOzs7Ozs7O0FDckZELDBDOzs7Ozs7Ozs7QUNBQSxzQ0FBaUQ7QUFFakQsd0NBQWlHO0FBZ0JqRzs7Ozs7R0FLRztBQUNILHFCQUE2QixTQUFRLGtCQUFTO0lBTzFDLFlBQVksTUFBaUIsRUFBRSxJQUFZLEVBQUUsS0FBMkI7UUFDcEUsS0FBSyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUVwQixJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztRQUUzRCxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDO1FBQ25ELElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUM7UUFDckQsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQztRQUVyQyxJQUFJLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDLENBQUMsb0RBQW9EO0lBQzFGLENBQUM7SUFFTSxhQUFhLENBQUMsSUFBWSxFQUFFLFVBQTRCO1FBQzNELE9BQU8sSUFBSSxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsSUFBSSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQy9ELENBQUM7SUFFTyxZQUFZLENBQUMsSUFBWSxFQUFFLEtBQWtCO1FBQ2pELE1BQU0sYUFBYSxHQUFHLGlCQUFpQixHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN4RCxNQUFNLEtBQUssR0FBRyxZQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQy9CLE1BQU0sUUFBUSxHQUFHLEtBQUssQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDbkQsSUFBSSxRQUFRLEVBQUU7WUFDViwyQkFBMkI7WUFDM0IsT0FBTyxRQUFxQixDQUFDO1NBQ2hDO1FBRUQsT0FBTyxJQUFJLGVBQU0sQ0FBQyxLQUFLLEVBQUUsYUFBYSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ25ELENBQUM7Q0FDSjtBQWxDRCwwQ0FrQ0M7QUFFRCxpQkFBaUIsQ0FBUztJQUN0QixPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsZUFBZSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQzFDLENBQUM7Ozs7Ozs7QUM5REQscUM7Ozs7OztBQ0FBLHVDIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDRjOWNjYjUzNTUyOTdjZDczNDEzIiwiZXhwb3J0ICogZnJvbSAnLi9yZXNvdXJjZSc7XG5leHBvcnQgKiBmcm9tICcuL3NpbmdsZXRvbmxhbWJkYSc7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gL3Jvb3QvcmVwb3MvYXdzLWNkay9wYWNrYWdlcy9AYXdzLWNkay9jdXN0b20tcmVzb3VyY2VzL2xpYi9pbmRleC50cyIsImltcG9ydCB7IENvbnN0cnVjdCB9IGZyb20gJ0Bhd3MtY2RrL2NvcmUnO1xuaW1wb3J0IHsgTGFtYmRhUmVmIH0gZnJvbSAnQGF3cy1jZGsvbGFtYmRhJztcbmltcG9ydCB7IGNsb3VkZm9ybWF0aW9uIH0gZnJvbSAnQGF3cy1jZGsvcmVzb3VyY2VzJztcbmltcG9ydCB7IFRvcGljUmVmIH0gZnJvbSAnQGF3cy1jZGsvc25zJztcblxuLyoqXG4gKiBDb2xsZWN0aW9uIG9mIGFyYml0cmFyeSBwcm9wZXJ0aWVzXG4gKi9cbmV4cG9ydCB0eXBlIFByb3BlcnRpZXMgPSB7W2tleTogc3RyaW5nXTogYW55fTtcblxuLyoqXG4gKiBQcm9wZXJ0aWVzIHRvIHByb3ZpZGUgYSBMYW1iZGEtYmFja2VkIGN1c3RvbSByZXNvdXJjZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEN1c3RvbVJlc291cmNlUHJvcHMge1xuICAgIC8qKlxuICAgICAqIFRoZSBMYW1iZGEgcHJvdmlkZXIgdGhhdCBpbXBsZW1lbnRzIHRoaXMgY3VzdG9tIHJlc291cmNlLlxuICAgICAqXG4gICAgICogV2UgcmVjb21tZW5kIHVzaW5nIGEgU2luZ2xldG9uTGFtYmRhIGZvciB0aGlzLlxuICAgICAqXG4gICAgICogT3B0aW9uYWwsIGV4YWN0bHkgb25lIG9mIGxhbWRhUHJvdmlkZXIgb3IgdG9waWNQcm92aWRlciBtdXN0IGJlIHNldC5cbiAgICAgKi9cbiAgICBsYW1iZGFQcm92aWRlcj86IExhbWJkYVJlZjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBTTlMgVG9waWMgZm9yIHRoZSBwcm92aWRlciB0aGF0IGltcGxlbWVudHMgdGhpcyBjdXN0b20gcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBPcHRpb25hbCwgZXhhY3RseSBvbmUgb2YgbGFtZGFQcm92aWRlciBvciB0b3BpY1Byb3ZpZGVyIG11c3QgYmUgc2V0LlxuICAgICAqL1xuICAgIHRvcGljUHJvdmlkZXI/OiBUb3BpY1JlZjtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnRpZXMgdG8gcGFzcyB0byB0aGUgTGFtYmRhXG4gICAgICovXG4gICAgcHJvcGVydGllcz86IFByb3BlcnRpZXM7XG59XG5cbi8qKlxuICogQ3VzdG9tIHJlc291cmNlIHRoYXQgaXMgaW1wbGVtZW50ZWQgdXNpbmcgYSBMYW1iZGFcbiAqXG4gKiBBcyBhIGN1c3RvbSByZXNvdXJjZSBhdXRob3IsIHlvdSBzaG91bGQgYmUgcHVibGlzaGluZyBhIHN1YmNsYXNzIG9mIHRoaXMgY2xhc3NcbiAqIHRoYXQgaGlkZXMgdGhlIGNob2ljZSBvZiBwcm92aWRlciwgYW5kIGFjY2VwdHMgYSBzdHJvbmdseS10eXBlZCBwcm9wZXJ0aWVzXG4gKiBvYmplY3Qgd2l0aCB0aGUgcHJvcGVydGllcyB5b3VyIHByb3ZpZGVyIGFjY2VwdHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBDdXN0b21SZXNvdXJjZSBleHRlbmRzIGNsb3VkZm9ybWF0aW9uLkN1c3RvbVJlc291cmNlIHtcbiAgICAvLyBOZWVkcyB0byBiZSBpbXBsZW1lbnRlZCB1c2luZyBpbmhlcml0YW5jZSBiZWNhdXNlIHdlIG11c3Qgb3ZlcnJpZGUgdGhlIGByZW5kZXJQcm9wZXJ0aWVzYFxuICAgIC8vIFRoZSBnZW5lcmF0ZWQgcHJvcHMgY2xhc3NlcyB3aWxsIG5ldmVyIHJlbmRlciBwcm9wZXJ0aWVzIHRoYXQgdGhleSBkb24ndCBrbm93IGFib3V0LlxuXG4gICAgcHJpdmF0ZSByZWFkb25seSB1c2VyUHJvcGVydGllcz86IFByb3BlcnRpZXM7XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQ6IENvbnN0cnVjdCwgbmFtZTogc3RyaW5nLCBwcm9wczogQ3VzdG9tUmVzb3VyY2VQcm9wcykge1xuICAgICAgICBpZiAoISFwcm9wcy5sYW1iZGFQcm92aWRlciA9PT0gISFwcm9wcy50b3BpY1Byb3ZpZGVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4YWN0bHkgb25lIG9mIFwibGFtYmRhUHJvdmlkZXJcIiBvciBcInRvcGljUHJvdmlkZXJcIiBtdXN0IGJlIHNldC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyKHBhcmVudCwgbmFtZSwge1xuICAgICAgICAgICAgc2VydmljZVRva2VuOiBwcm9wcy5sYW1iZGFQcm92aWRlciA/IHByb3BzLmxhbWJkYVByb3ZpZGVyLmZ1bmN0aW9uQXJuIDogcHJvcHMudG9waWNQcm92aWRlciEudG9waWNBcm5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy51c2VyUHJvcGVydGllcyA9IHByb3BzLnByb3BlcnRpZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgcmVuZGVyUHJvcGVydGllcyB0byBtaXggaW4gdGhlIHVzZXItZGVmaW5lZCBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHJlbmRlclByb3BlcnRpZXMoKToge1trZXk6IHN0cmluZ106IGFueX0gIHtcbiAgICAgICAgY29uc3QgcHJvcHMgPSBzdXBlci5yZW5kZXJQcm9wZXJ0aWVzKCk7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHByb3BzLCB1cHBlcmNhc2VQcm9wZXJ0aWVzKHRoaXMudXNlclByb3BlcnRpZXMgfHwge30pKTtcbiAgICB9XG5cbn1cblxuLyoqXG4gKiBVcHBlcmNhc2UgdGhlIGZpcnN0IGxldHRlciBvZiBldmVyeSBwcm9wZXJ0eSBuYW1lXG4gKlxuICogSXQncyBjdXN0b21hcnkgZm9yIENsb3VkRm9ybWF0aW9uIHByb3BlcnRpZXMgdG8gc3RhcnQgd2l0aCBjYXBpdGFscywgYW5kIG91clxuICogcHJvcGVydGllcyB0byBzdGFydCB3aXRoIGxvd2VyY2FzZSwgc28gdGhpcyBmdW5jdGlvbiB0cmFuc2xhdGVzIGZyb20gb25lXG4gKiB0byB0aGUgb3RoZXJcbiAqL1xuZnVuY3Rpb24gdXBwZXJjYXNlUHJvcGVydGllcyhwcm9wczogUHJvcGVydGllcyk6IFByb3BlcnRpZXMge1xuICAgIGNvbnN0IHJldDogUHJvcGVydGllcyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKHByb3BzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGNvbnN0IHVwcGVyID0ga2V5LnN1YnN0cigwLCAxKS50b1VwcGVyQ2FzZSgpICsga2V5LnN1YnN0cigxKTtcbiAgICAgICAgcmV0W3VwcGVyXSA9IHByb3BzW2tleV07XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldDtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAvcm9vdC9yZXBvcy9hd3MtY2RrL3BhY2thZ2VzL0Bhd3MtY2RrL2N1c3RvbS1yZXNvdXJjZXMvbGliL3Jlc291cmNlLnRzIiwibW9kdWxlLmV4cG9ydHMgPSBqc2lpJF9hd3NfY2RrX3Jlc291cmNlcyQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJqc2lpJF9hd3NfY2RrX3Jlc291cmNlcyRcIlxuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgeyBDb25zdHJ1Y3QsIFN0YWNrIH0gZnJvbSBcIkBhd3MtY2RrL2NvcmVcIjtcbmltcG9ydCB7IFJvbGUgfSBmcm9tIFwiQGF3cy1jZGsvaWFtXCI7XG5pbXBvcnQgeyBGdW5jdGlvbk5hbWUsIExhbWJkYSwgTGFtYmRhUGVybWlzc2lvbiwgTGFtYmRhUHJvcHMsIExhbWJkYVJlZiB9IGZyb20gXCJAYXdzLWNkay9sYW1iZGFcIjtcbmltcG9ydCB7IGxhbWJkYSB9IGZyb20gXCJAYXdzLWNkay9yZXNvdXJjZXNcIjtcblxuLyoqXG4gKiBQcm9wZXJ0aWVzIGZvciBhIG5ld2x5IGNyZWF0ZWQgc2luZ2xldG9uIExhbWJkYVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNpbmdsZXRvbkxhbWJkYVByb3BzIGV4dGVuZHMgTGFtYmRhUHJvcHMge1xuICAgIC8qKlxuICAgICAqIEEgdW5pcXVlIGlkZW50aWZpZXIgdG8gaWRlbnRpZnkgdGhpcyBsYW1iZGFcbiAgICAgKlxuICAgICAqIFRoZSBpZGVudGlmaWVyIHNob3VsZCBiZSB1bmlxdWUgYWNyb3NzIGFsbCBjdXN0b20gcmVzb3VyY2UgcHJvdmlkZXJzLlxuICAgICAqIFdlIHJlY29tbWVuZCBnZW5lcmF0aW5nIGEgVVVJRCBwZXIgcHJvdmlkZXIuXG4gICAgICovXG4gICAgdXVpZDogc3RyaW5nO1xufVxuXG4vKipcbiAqIEEgTGFtYmRhIHRoYXQgd2lsbCBvbmx5IGV2ZXIgYmUgYWRkZWQgdG8gYSBzdGFjayBvbmNlLlxuICpcbiAqIFRoZSBsYW1iZGEgaXMgaWRlbnRpZmllZCB1c2luZyB0aGUgdmFsdWUgb2YgJ3V1aWQnLiBSdW4gJ3V1aWRnZW4nXG4gKiBmb3IgZXZlcnkgU2luZ2xldG9uTGFtYmRhIHlvdSBjcmVhdGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBTaW5nbGV0b25MYW1iZGEgZXh0ZW5kcyBMYW1iZGFSZWYge1xuICAgIHB1YmxpYyBmdW5jdGlvbk5hbWU6IEZ1bmN0aW9uTmFtZTtcbiAgICBwdWJsaWMgZnVuY3Rpb25Bcm46IGxhbWJkYS5GdW5jdGlvbkFybjtcbiAgICBwdWJsaWMgcm9sZT86IFJvbGUgfCB1bmRlZmluZWQ7XG4gICAgcHJvdGVjdGVkIGNhbkNyZWF0ZVBlcm1pc3Npb25zOiBib29sZWFuO1xuICAgIHByaXZhdGUgbGFtYmRhRnVuY3Rpb246IExhbWJkYVJlZjtcblxuICAgIGNvbnN0cnVjdG9yKHBhcmVudDogQ29uc3RydWN0LCBuYW1lOiBzdHJpbmcsIHByb3BzOiBTaW5nbGV0b25MYW1iZGFQcm9wcykge1xuICAgICAgICBzdXBlcihwYXJlbnQsIG5hbWUpO1xuXG4gICAgICAgIHRoaXMubGFtYmRhRnVuY3Rpb24gPSB0aGlzLmVuc3VyZUxhbWJkYShwcm9wcy51dWlkLCBwcm9wcyk7XG5cbiAgICAgICAgdGhpcy5mdW5jdGlvbkFybiA9IHRoaXMubGFtYmRhRnVuY3Rpb24uZnVuY3Rpb25Bcm47XG4gICAgICAgIHRoaXMuZnVuY3Rpb25OYW1lID0gdGhpcy5sYW1iZGFGdW5jdGlvbi5mdW5jdGlvbk5hbWU7XG4gICAgICAgIHRoaXMucm9sZSA9IHRoaXMubGFtYmRhRnVuY3Rpb24ucm9sZTtcblxuICAgICAgICB0aGlzLmNhbkNyZWF0ZVBlcm1pc3Npb25zID0gdHJ1ZTsgLy8gRG9lc24ndCBtYXR0ZXIsIGFkZFBlcm1pc3Npb24gaXMgb3ZlcnJpZGVuIGFueXdheVxuICAgIH1cblxuICAgIHB1YmxpYyBhZGRQZXJtaXNzaW9uKG5hbWU6IHN0cmluZywgcGVybWlzc2lvbjogTGFtYmRhUGVybWlzc2lvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5sYW1iZGFGdW5jdGlvbi5hZGRQZXJtaXNzaW9uKG5hbWUsIHBlcm1pc3Npb24pO1xuICAgIH1cblxuICAgIHByaXZhdGUgZW5zdXJlTGFtYmRhKHV1aWQ6IHN0cmluZywgcHJvcHM6IExhbWJkYVByb3BzKTogTGFtYmRhUmVmIHtcbiAgICAgICAgY29uc3QgY29uc3RydWN0TmFtZSA9ICdTaW5nbGV0b25MYW1iZGEnICsgc2x1Z2lmeSh1dWlkKTtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBTdGFjay5maW5kKHRoaXMpO1xuICAgICAgICBjb25zdCBleGlzdGluZyA9IHN0YWNrLnRyeUZpbmRDaGlsZChjb25zdHJ1Y3ROYW1lKTtcbiAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICAvLyBKdXN0IGFzc3VtZSB0aGlzIGlzIHRydWVcbiAgICAgICAgICAgIHJldHVybiBleGlzdGluZyBhcyBMYW1iZGFSZWY7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IExhbWJkYShzdGFjaywgY29uc3RydWN0TmFtZSwgcHJvcHMpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2x1Z2lmeSh4OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiB4LnJlcGxhY2UoL1teYS16QS1aMC05XS9nLCAnJyk7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gL3Jvb3QvcmVwb3MvYXdzLWNkay9wYWNrYWdlcy9AYXdzLWNkay9jdXN0b20tcmVzb3VyY2VzL2xpYi9zaW5nbGV0b25sYW1iZGEudHMiLCJtb2R1bGUuZXhwb3J0cyA9IGpzaWkkX2F3c19jZGtfY29yZSQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJqc2lpJF9hd3NfY2RrX2NvcmUkXCJcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBqc2lpJF9hd3NfY2RrX2xhbWJkYSQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJqc2lpJF9hd3NfY2RrX2xhbWJkYSRcIlxuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9"
}
